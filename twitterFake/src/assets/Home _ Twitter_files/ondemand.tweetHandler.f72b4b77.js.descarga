(window.webpackJsonp=window.webpackJsonp||[]).push([[366,7],{"+Sp1":function(e,t,n){"use strict";var o=n("ERkP");const i=n.n(o).a.createContext({draggingTweetId:void 0});t.a=i},"0ULw":function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),a=n("Lsrn"),r=n("k/Ka");const s=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[a.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z"})));s.metadata={width:24,height:24},t.a=s},"2qZs":function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),a=n("Lsrn"),r=n("k/Ka");const s=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[a.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M2.264 22.983c-.322 0-.638-.126-.88-.368-.374-.374-.473-.926-.25-1.405L2.8 17.58c-1.017-1.7-1.55-3.62-1.55-5.58C1.25 6.072 6.072 1.25 12 1.25S22.75 6.072 22.75 12 17.928 22.75 12 22.75c-1.957 0-3.876-.533-5.55-1.54l-3.66 1.657c-.17.078-.35.116-.526.116zm4.158-3.286c.278 0 .558.077.807.23 1.434.864 3.085 1.323 4.77 1.323 5.1 0 9.25-4.15 9.25-9.25S17.1 2.75 12 2.75 2.75 6.9 2.75 12c0 1.688.458 3.338 1.326 4.774.266.44.298.977.086 1.434l-1.384 3.014 3.016-1.386c.2-.093.413-.14.628-.14z"}),i.a.createElement("path",{d:"M12 18.25c-3.446 0-6.25-2.804-6.25-6.25S8.554 5.75 12 5.75s6.25 2.804 6.25 6.25-2.804 6.25-6.25 6.25zm0-11c-2.62 0-4.75 2.13-4.75 4.75s2.13 4.75 4.75 4.75 4.75-2.13 4.75-4.75S14.62 7.25 12 7.25z"}),i.a.createElement("path",{d:"M14.5 12.75c-.414 0-.75-.336-.75-.75 0-.965-.785-1.75-1.75-1.75-.414 0-.75-.336-.75-.75s.336-.75.75-.75c1.792 0 3.25 1.458 3.25 3.25 0 .414-.336.75-.75.75z"})));s.metadata={width:24,height:24},t.a=s},"3zeG":function(e,t,n){"use strict";n("kYxP"),n("ERkP");var o=n("zb92");const i=Object(o.a)({loader:()=>Promise.all([n.e(0),n.e(241)]).then(n.bind(null,"MzK7"))});t.a=i},"64vW":function(e,t,n){"use strict";var o=n("ERkP");const i=n.n(o).a.createContext({heightsReady:!0});t.a=i},"6bZg":function(e,t,n){"use strict";var o=n("OIC0");t.a={[o.a.CASHTAG]:void 0,[o.a.EMOJI]:void 0,[o.a.HASHTAG]:"hashtag_click",[o.a.INTERACTIVE_HIGHLIGHT]:"highlight_click",[o.a.MEDIA]:void 0,[o.a.MENTION]:"mention_click",[o.a.TEXT]:void 0,[o.a.URL]:"open_link"}},"6vad":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("ERkP"),i=n.n(o),a=n("t62R"),r=n("EHV7"),s=n("rHpw");const l=s.a.create((e=>({icon:{color:e.colors.primary,height:e.fontSizes.title4,paddingRight:e.spaces.space12,width:e.fontSizes.title4}})));var c=n("7Mjr"),d=n("I4+6"),h=n("cm6r"),u=n("MWbm");const p=Object.freeze({TopicFilled:"TOPIC_FILLED"});const m=s.a.create((e=>({root:{justifyContent:"space-between",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},mainContent:{flexDirection:"row"},subtext:{alignSelf:"flex-start"},withSubtext:{alignSelf:"center"},icon:{alignSelf:"flex-start",height:e.spaces.space20,justifyContent:"center"},iconArrow:{color:e.colors.text},rightControlGroup:{flexDirection:"row",justifyContent:"flex-end",flexGrow:1,alignSelf:"center"}})));t.b=function({icon:e,landingUrl:t,nativeID:n,rightControl:o,style:w,subtext:_,testID:b,text:g}){const C=(e=>{switch(e){case p.TopicFilled:return i.a.createElement(r.a,{style:l.icon});default:return null}})(e),v=_?null:m.withSubtext,f=d.a.generate({backgroundColor:s.a.theme.colors.gray0,color:s.a.theme.colors.cellBackground,customFocusBackgroundColor:s.a.theme.colors.gray0,customHoverBackgroundColor:s.a.theme.colors.gray0,customPressedBackgroundColor:s.a.theme.colors.gray0});return i.a.createElement(h.a,{interactiveStyles:t?f:null,link:null==t?void 0:t.url,nativeID:n,style:[m.root,w],testID:b},i.a.createElement(u.a,{accessibilityLevel:2,accessibilityRole:"heading",style:m.mainContent},i.a.createElement(u.a,{style:m.icon},C),i.a.createElement(a.b,{numberOfLines:3,size:"headline1",style:v,weight:"heavy",withHashflags:!0},g),i.a.createElement(u.a,{style:m.rightControlGroup},t?i.a.createElement(u.a,{style:v},i.a.createElement(c.a,{style:m.iconArrow})):null,o?i.a.createElement(u.a,null,o):null)),_?i.a.createElement(a.b,{color:"gray700",numberOfLines:2,size:"subtext2",style:m.subtext,withHashflags:!0},_):null)}},"9B+1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var o=n("PbbS");const i=e=>({topicId:e.topicId,functionalityType:e.functionalityType}),a=e=>e===o.a.Star?o.a.Star:e===o.a.Favorite?o.a.Favorite:e===o.a.Interested?o.a.Interested:o.a.Default},"9Jxp":function(e,t,n){"use strict";var o=n("97Jx"),i=n.n(o),a=n("ERkP"),r=n.n(a),s=n("CXUS"),l=n("rHpw"),c=n("MWbm");const d=l.a.create((()=>({hidden:{opacity:0}})));t.a=e=>{const{children:t,disableInteractiveElementBlocking:n,draggableId:o,fromVirtualList:a,index:l,isBeingDragged:h,isDragDisabled:u,lockYAxis:p}=e;return a&&h?r.a.createElement(c.a,{style:d.hidden},t):r.a.createElement(s.b,{disableInteractiveElementBlocking:n,draggableId:o,index:l,isDragDisabled:u},(e=>{const n=e.draggableProps.style,o=p?(e=>{if(e.transform){const t=`translate(0px${e.transform.slice(e.transform.indexOf(","),e.transform.length)}`;return{...e,transform:t}}return e})(n):n;return r.a.createElement("div",i()({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:o}),t)}))}},A6fF:function(e,t,n){"use strict";n.r(t);var o=n("ezF+"),i=n("VPAj"),a=n("ERkP"),r=n.n(a),s=n("XOJV"),l=n("rxPX"),c=n("Fg8X");const d=(e,t)=>c.a.select(e,t.momentId),h=(e,t)=>s.a.selectHydrated(e,t.entry.content.id);var u=Object(l.a)().propsFromState((()=>({moment:d,tweet:h}))),p=n("+Sp1"),m=n("UcEn"),w=n("9Jxp"),_=n("CUXw"),b=n("TXsO"),g=n("E0cF"),C=n("cm6r");var v=u((({entry:{content:{id:e},index:t},moment:n,onClick:o,tweet:i})=>{var a,s;const l=r.a.useContext(p.a),c=r.a.useContext(m.a),d=r.a.useRef(),h=i&&g.a.getOriginalTweet(i),u=(null==h?void 0:h.id_str)||e;let v;null!=i&&null!=(a=i.user)&&a.protected?v=b.l:i&&g.a.isQuotedTweetUnavailable(i)&&(v=b.k);const f=((null==n||null==(s=n.pages)?void 0:s.length)||0)>=b.e,y=l.draggingTweetId===u,T=!!v||f,k=c.selectedTweets.has(u),I=null!==l.draggingTweetId&&k;return null!=t?r.a.createElement(C.a,{onClick:T?void 0:()=>{var e;null==(e=d.current)||e._handleOnClick()}},r.a.createElement(w.a,{draggableId:u,fromVirtualList:!0,index:t,isBeingDragged:y,isDragDisabled:T},r.a.createElement(_.a,{disabledMessage:v,isPartOfDraggedSelection:I,isSelected:k,onClick:o,ref:e=>{d.current=e},tweetId:e}))):null}));t.default=e=>o.b({component:v,isClickable:Object(i.a)(!0),isFocusable:Object(i.a)(!0),shouldDisplayBorder:Object(i.a)(!0)}).getHandler((()=>({...e})))},BLtI:function(e,t,n){"use strict";n.d(t,"a",(function(){return Rn}));var o=n("97Jx"),i=n.n(o),a=(n("kYxP"),n("849X"),n("ERkP")),r=n.n(a),s=n("rcen"),l=n("Rp9C"),c=n("MWbm"),d=n("Irs7"),h=n("htQn"),u=n("t62R"),p=n("OOKO"),m=n("/yvb"),w=n("rHpw"),_=n("v6aA"),b=n("Lsrn"),g=n("k/Ka");const C=(e={})=>Object(g.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[b.a.root,e.style],viewBox:"0 0 24 24"},r.a.createElement("g",null,r.a.createElement("path",{d:"M20.937 3.223c-.403-.263-.948-.375-1.48-.195-.726.247-1.906.534-3.457.534-1.38 0-2.286-.225-3.273-.472l-.01-.003c-1.01-.252-2.1-.525-3.717-.525-1.67 0-3.235.484-4.357.946-.16.066-.312.132-.455.197V2.75c0-.518-.42-.938-.938-.938s-.937.42-.937.938v18.5c0 .518.42.938.938.938s.94-.42.94-.938v-2.457c.28-.15.682-.35 1.168-.55 1.002-.414 2.312-.806 3.642-.806 1.38 0 2.286.225 3.273.472l.01.002c1.01.253 2.102.525 3.717.525 2.4 0 4.075-.6 4.804-.922.58-.257.883-.823.883-1.378V4.577c0-.612-.343-1.088-.75-1.354zm-3.28 8.717c-.465.226-1.026.03-1.25-.435-.71-1.462-2.598-1.42-3.234.113l-.307.74c-.145.35-.487.58-.866.58-.38 0-.72-.23-.866-.58l-.308-.74c-.636-1.532-2.525-1.576-3.233-.113-.226.466-.786.66-1.252.435-.465-.226-.66-.786-.434-1.252C7.16 8.1 10.392 7.905 12 9.94c1.608-2.035 4.84-1.84 6.094.748.225.466.03 1.026-.436 1.252z"})));C.metadata={width:24,height:24};var v=C;const f=(e={})=>Object(g.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[b.a.root,e.style],viewBox:"0 0 24 24"},r.a.createElement("g",null,r.a.createElement("path",{d:"M3.25 22c-.414 0-.75-.336-.75-.75V2.75c0-.414.336-.75.75-.75s.75.336.75.75v1.247C5.144 3.453 7.007 2.75 9 2.75c1.592 0 2.655.266 3.682.522.982.246 1.91.478 3.318.478 1.687 0 2.945-.332 3.704-.61.41-.15.87-.086 1.235.168.35.244.56.64.56 1.054V16.21c0 .474-.272.905-.694 1.1-.62.284-2.325.94-4.806.94-1.593 0-2.654-.266-3.682-.522-.983-.246-1.91-.478-3.318-.478-2.147 0-4.203.996-5 1.433v2.567c0 .414-.336.75-.75.75zM4 5.683v11.314c1.144-.544 3.007-1.247 5-1.247 1.592 0 2.655.266 3.682.522.982.245 1.91.478 3.318.478 1.975 0 3.36-.458 4-.725v-11.4c-.887.302-2.246.625-4 .625-1.593 0-2.654-.266-3.682-.522-.983-.246-1.91-.478-3.318-.478-2.147 0-4.203.996-5 1.433z"}),r.a.createElement("path",{d:"M17.925 10.77c-1.23-2.543-4.46-2.65-5.925-.496-1.465-2.153-4.695-2.047-5.925.495-.18.372-.025.82.348 1 .373.182.82.026 1.002-.347.78-1.61 2.878-1.556 3.575.123l.308.74c.116.28.39.464.693.464s.578-.182.694-.463l.306-.74c.697-1.68 2.795-1.734 3.575-.124.18.373.63.53 1.002.348.373-.18.53-.628.348-1z"})));f.metadata={width:24,height:24};var y=f,T=n("OKMS"),k=n("7Mjr");class I extends r.a.Component{constructor(...e){super(...e),this._scribeAction=e=>{const{analytics:t,tweet:n}=this.props,o=l.a.getTweetItem(n);t.scribe({action:e,data:{items:[o]}})},this._handlePivotClick=()=>{this._scribeAction("click")},this._getBirdwatchIcon=e=>{switch(e){case"BirdwatchFlagFill":return r.a.createElement(v,{style:E.birdwatchIcon,testID:"icon-birdwatch-flag"});case"BirdwatchFlagStroke":return r.a.createElement(y,{style:E.birdwatchIcon,testID:"icon-birdwatch-flag-stroke"});default:return r.a.createElement(T.a,{style:E.birdwatchIcon,testID:"icon-birdwatch-fill"})}}}componentDidMount(){this._scribeAction("impression")}render(){const{callToAction:e,destinationUrl:t,footer:n,iconType:o,subtitle:i,title:a}=this.props,l="#"===t?void 0:{pathname:t,anchorless:!0},d=l?this._handlePivotClick:void 0,w=(null==e?void 0:e.destinationUrl)||"#",_="#"===w?void 0:w;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{link:l,onPress:d,style:E.pivotContainer,testID:"birdwatch-pivot",withInteractiveStyling:!!l},r.a.createElement(c.a,{style:E.headerContainer},r.a.createElement(c.a,{style:[E.headerTextContainer,!e&&E.headerTextAndThumbnailContainer]},this._getBirdwatchIcon(o),r.a.createElement(u.b,{size:"subtext1",style:E.birdwatchLabel,weight:"bold"},a)),e?null:r.a.createElement(k.a,{style:E.icon,testID:"icon-arrow-right"})),i?r.a.createElement(s.a,{entities:i.entities,size:"body",style:E.subtitle,text:i.text}):null,e?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{spacing:"space2"}),r.a.createElement(c.a,{style:E.callToActionContainer},r.a.createElement(u.b,{size:"subtext1"},e.prompt),r.a.createElement(m.a,{link:_,onPress:this._handlePivotClick,size:"small",type:"primaryOutlined"},e.title))):null),n?r.a.createElement(s.a,{color:"gray700",entities:n.entities,size:"subtext2",style:E.footer,text:n.text}):null)}}I.contextType=_.a;const E=w.a.create((e=>({birdwatchLabel:{display:"flex",alignItems:"center"},footer:{paddingVertical:e.spaces.space12},pivotContainer:{borderColor:e.colors.nestedBorderColor,borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.xLarge,marginTop:e.spaces.space12,overflow:"hidden"},headerContainer:{paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space12,backgroundColor:e.colors.hoverBlack,justifyContent:"space-between",alignItems:"center",flexDirection:"row",flexGrow:1},headerTextContainer:{flexDirection:"row",width:"100%"},headerTextAndThumbnailContainer:{width:"80%"},callToActionContainer:{paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space12,justifyContent:"space-between",alignItems:"center",flexDirection:"row",flexGrow:1},icon:{color:e.colors.text,paddingLeft:e.spaces.space12,flexShrink:0},birdwatchIcon:{marginRight:e.spacesPx.space4,padding:e.spacesPx.space2,color:e.colors.primary,flexShrink:0},thumbnail:{color:e.colors.whiteOnColor},subtitle:{paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space12}})));var x=Object(d.a)(I,{element:"birdwatch_pivot"}),S=n("6/RC"),P=n("uIZp"),A=n("3XMw"),L=n.n(A),O=n("5S/X");function D(e){this.name="AssertionError",this.message=e,this.stack=(new Error).stack}D.prototype=Object.create(Error.prototype),D.prototype.constructor=D;var R=(e,t)=>{if(!e)throw new D(t?`Assertion failed: ${t}`:"Assertion failed (also, no message was provided)")},M=n("E6XO"),F=n("sXY3"),U=n("tn7R"),B=n("+d3d"),N=n("oECP"),H=n("fs1G");let j={},W=0;const z={mount:["didMount","willMount"],update:["didUpdate","willUpdate"]},V=()=>{Object(F.a)(j).forEach((([e,t],n)=>{const o=Object(U.a)(t),i=o.length;o.forEach((t=>{Object(F.a)(z).map((([n,[o,a]])=>{(e=>1===e||Math.random()<=.01)(i)&&o in t&&a in t&&Object(M.c)(((e,t)=>`lifecycle:${e.toLowerCase()}:${t}`)(e,n),{duration_ms:t[o]-t[a]})}))}))})),Object(M.a)(),j={}},q=Object(B.a)(V,2e4)||V,G=(e,t=!1)=>{const n=e.constructor.displayName;R(n,`${e.constructor.name} component has "displayName" set.`);let o=e.__lifecycleIdentifier;return!o&&t&&(W+=1,o=e.__lifecycleIdentifier=W),j[n]&&j[n][o]||(j[n]={...j[n],[o]:{}}),[n,o]},K=(e,t,n,o)=>{j[e][t][n]=o};var Q=S.canUseDOM?function(e){const t={UNSAFE_componentWillMount:e.prototype.UNSAFE_componentWillMount||H.a,componentDidMount:e.prototype.componentDidMount||H.a,UNSAFE_componentWillUpdate:e.prototype.UNSAFE_componentWillUpdate||H.a,componentDidUpdate:e.prototype.componentDidUpdate||H.a,componentWillUnmount:e.prototype.componentWillUnmount||H.a};return e.prototype.UNSAFE_componentWillMount=function(...e){const[n,o]=G(this,!0);t.UNSAFE_componentWillMount.apply(this,e),K(n,o,"willMount",Date.now())},e.prototype.componentDidMount=function(...e){const[n,o]=G(this);t.componentDidMount.apply(this,e),K(n,o,"didMount",Date.now()),q()},e.prototype.UNSAFE_componentWillUpdate=function(...e){const[n,o]=G(this,!0);t.UNSAFE_componentWillUpdate.apply(this,e),K(n,o,"willUpdate",Date.now())},e.prototype.componentDidUpdate=function(...e){const[n,o]=G(this);t.componentDidUpdate.apply(this,e),K(n,o,"didUpdate",Date.now()),q()},e.prototype.componentWillUnmount=function(...e){t.componentWillUnmount.apply(this,e),q()},e}:N.a,X=n("caTy"),$=n("Y6L+"),J=n("zb92");var Y=Object(J.a)({loader:()=>n.e(235).then(n.bind(null,"mL9d"))}),Z=n("xM7j"),ee=n("LKCq");const te="inner_tombstone";function ne({children:e,config:t,nativeID:n}){var o;const a=Object(d.b)();if(O.b)return e;const l=(null==(o=t.richRevealText)?void 0:o.text)||t.revealText,h=t.richText?r.a.createElement(s.a,{alignment:t.richText.alignment,entities:t.richText.entities,onEntityClick:function(){a.scribe({action:"open_link",component:te})},rtl:t.richText.rtl,text:t.richText.text}):t.text;return r.a.createElement(c.a,{nativeID:n},l?r.a.createElement(ee.a,{label:h,onReveal:function(){a.scribe({action:"click",component:te})},render:({onActionClick:e,...t})=>r.a.createElement(Z.a,i()({},t,{inline:!0,onClick:e})),revealLabel:l},e):r.a.createElement(Z.a,{inline:!0},h))}var oe=n("PeW/"),ie=n("3IPs"),ae=n("PbbS"),re=n("LWCC"),se=n("JUsM");const le=w.a.create((e=>({topicFollowPrompt:{marginBottom:e.spaces.space12,marginTop:`-${e.spaces.space8}`}})));var ce=({defaultRef:e,topic:t,topicFollowPrompt:n})=>{const{entities:o,text:i}=(null==n?void 0:n.description)||{};return r.a.createElement(c.a,{style:le.topicFollowPrompt},r.a.createElement(se.a,{containerRef:e,primaryAction:r.a.createElement(re.a,{showRelationshipChangeConfirmation:!0,textMode:ae.a.FollowTopic,topic:t}),text:r.a.createElement(s.a,{entities:o,text:i})}))};var de=Object.freeze({Author:"author",LikedByAuthor:"liked-by-author"}),he=n("SrIh"),ue=n("7JQg"),pe=n("gdQ4"),me=n("qbku"),we=n("tocL"),_e="analyticsButton",be="promotedIndicator",ge="readerModeBottomBar",Ce="socialContext",ve="tweet",fe=n("X04g"),ye=n("v/3V"),Te=n("RqPI"),ke=n("3zvM"),Ie=n("lMB6"),Ee=n("iChn");const xe=Object(ke.e)({namespace:"translationsTweets",fetchOneContext:"FETCH_TWEET_TRANSLATION",fetchOneEndpoint:e=>(t,n)=>e.Tweets.fetchTranslation(t,n).then(Se),fetchOneParams:e=>({id:e})}),Se=e=>{const t=Array.isArray(e)?e:[e];return{entities:{translationsTweets:Object(Ee.a)(t,(e=>e.id_str))}}};var Pe=Ie.a.register(xe),Ae=n("rxPX"),Le=n("0KEI");const Oe=(e,t)=>Pe.select(e,t.tweetId),De=(e,t)=>Pe.selectFetchStatus(e,t.tweetId);var Re=Object(Ae.a)().propsFromState((()=>({translation:Oe,translationFetchStatus:De,userLanguage:Te.q}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(Le.createLocalApiErrorHandlerWithContextFactory)("TRANSLATE_TWEET"),fetchTranslation:Pe.fetchOneIfNeeded}))),Me=n("PdwO"),Fe=n("cTG8"),Ue=n("zTrU"),Be=n("YeIG"),Ne=n("Gpeq");const He=L.a.b4947556;class je extends r.a.Component{constructor(...e){super(...e),this._fetchTranslation=()=>{const{createLocalApiErrorHandler:e,fetchTranslation:t,tweetId:n}=this.props;t(n).catch(e())},this._shouldDisableTranslation=()=>{const{disableTranslation:e,displayTextRange:t,entities:n,isFocal:o,lang:i,supplementalLang:a,text:r,userLanguage:s}=this.props;return this._getMemoizedDisableTranslation(e,t,n,r,i,a,s)||!(o||this.context.featureSwitches.isTrue("tweet_translation_timeline_enabled"))},this._renderTranslation=()=>{const{createLocalApiErrorHandler:e,disableTranslation:t,enrichments:n,fetchTranslation:o,header:a,hitHighlights:s,isFocal:l,onMediaTranslation:c,style:d,supplementalLang:h,translation:u,translationFetchStatus:p,tweetId:m,userLanguage:w,weight:_,withOriginalText:b,...g}=this.props;if(u)return r.a.createElement(Fe.a,i()({},g,{displayTextRange:this._getMemoizedDisplayTextRange(u.text),entities:u.entities,lang:u.destinationLanguage,text:u.text}))},this._getMemoizedDisplayTextRange=Object(Ue.a)((e=>[0,e.length])),this._getMemoizedDisableTranslation=Object(Ue.a)(((e,t,n,o,i,a,r)=>{const s=r&&i&&Object(Ne.c)(i.split("-")[0])!==Object(Ne.c)(r.split("-")[0]);return e||!!a||!s||!Object(Ne.b)({displayTextRange:t,entities:n,text:o,language:i})}))}componentDidUpdate(e){const{onMediaTranslation:t,translation:n}=this.props;if(e.translation!==n&&n){var o;const{featureSwitches:e}=this.context,i={};((null==n||null==(o=n.entities)?void 0:o.media)||[]).forEach((e=>{e.alt_text&&(i[e.id_str]=e.alt_text)})),t&&!Object(Be.a)(i)&&e.isTrue("responsive_web_alt_text_translations_enabled")&&t(i)}}render(){const{createLocalApiErrorHandler:e,disableTranslation:t,fetchTranslation:n,header:o,isFocal:i,onMediaTranslation:a,style:s,supplementalLang:l,translation:c,translationFetchStatus:d,tweetId:h,userLanguage:u,withOriginalText:p,...m}=this.props;return r.a.createElement(Me.a,{disableTranslation:this._shouldDisableTranslation(),fetchTranslation:this._fetchTranslation,header:o,key:h,onMediaTranslation:a,originLanguage:c&&c.localizedSourceLanguage,scribeElement:"translate_tweet",style:s,translateButtonText:He,translatedMessage:this._renderTranslation(),translationFetchStatus:d,withOriginalText:p},r.a.createElement(Fe.a,m))}}je.contextType=_.a;var We=Re(je),ze=n("2qZs"),Ve=n("wwsH");const qe={viewType:"birdwatch"},Ge=w.a.create((e=>({birdwatchIcon:{marginLeft:e.spaces.space12}})));var Ke=({onPress:e,onShow:t,tweetId:n})=>{const o={pathname:`/i/birdwatch/t/${n}`,external:!0};return r.a.useEffect((()=>{t&&t()}),[t]),r.a.createElement(Ve.a,{Icon:ze.a,accessibilityLabel:"Birdwatch note",activeColor:"primary",behavioralEventContext:qe,link:o,onPress:e,style:Ge.birdwatchIcon})},Qe=n("xXop"),Xe=n("xrkw"),$e=n("mqpi");const Je=L.a.e6901eec;class Ye extends r.a.PureComponent{constructor(...e){super(...e),this._shouldDisable=$e.b.bind(null,this.context.featureSwitches)}render(){const{endControl:e,loggedInUserId:t,onAnalyticsClick:n,style:o,tweet:i}=this.props;return!this._shouldDisable(i,$e.a.Analytics)&&t===i.user.id_str?r.a.createElement(c.a,{style:[Ze.analyticsContainerWithChildren,o]},r.a.createElement(h.a,{link:`${i.permalink}/analytics`,onPress:n,style:Ze.analyticsButton,testID:_e},r.a.createElement(Xe.a,{style:Ze.analyticsIcon}),r.a.createElement(u.b,{color:"gray700"},Je)),e):null}}Ye.contextType=_.a;const Ze=w.a.create((e=>({analyticsIcon:{color:e.colors.gray700,paddingRight:e.spaces.space4},analyticsButton:{paddingVertical:e.spaces.space16,flexDirection:"row",flexGrow:1},analyticsContainerWithChildren:{justifyContent:"space-between",borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:"1px",flexDirection:"row",alignItems:"center"}})));var et=Ye,tt=n("tmUV"),nt=n("YBcl"),ot=n("k89r");var it=e=>{const t=Object(ot.a)();return r.a.createElement(nt.a,i()({},e,{handleAnchorAction:()=>{t.scribe({component:"conversation_control_prompt",element:"see_conversation",action:"click"})},handleAnchorOpen:e=>{t.scribe({element:e,action:"click"})},handleAnchorSecondaryAction:()=>{t.scribe({component:"conversation_control_prompt",element:"ok",action:"click"})},handleHeadsUpImpression:(e,n)=>{t.scribe({element:"heads_up_context",action:n,data:{tweet_id:e}})}}))},at=n("uFYP");const rt=L.a.g6237a1e,st=L.a.d6b5949e,lt=e=>{switch(e){case"paused":return st;case"in-progress":default:return rt}};var ct=e=>{const{nativeID:t,status:n,style:o}=e,i="paused"===n;return r.a.createElement(c.a,{style:[dt.root,o]},r.a.createElement(at.a,{style:[dt.icon,i?dt.withGray700:null]}),r.a.createElement(u.b,{color:i?"gray700":"text",nativeID:t,size:"subtext2"},lt(n)))};const dt=w.a.create((e=>({root:{alignItems:"center",flexDirection:"row"},icon:{color:e.colors.buttonBlack,height:"1em",marginRight:e.spaces.space4,flexShrink:0},withGray700:{color:e.colors.gray700}})));var ht=n("TuTd");const ut=(e,t)=>Object(ht.a)(e,t.tweetId);var pt=Object(Ae.a)().propsFromState((()=>({liveCounts:ut}))).adjustStateProps((({liveCounts:e})=>({liveLikeCount:e&&e.likeCount,liveQuoteCount:e&&e.quoteCount,liveRetweetCount:e&&e.retweetCount}))),mt=n("Jkc4"),wt=n("855f"),_t=n("MtXG"),bt=n("de1q"),gt=n("cHvH");const Ct=L.a.fd80ffb0,vt=w.a.theme.spacesPx.space20;class ft extends r.a.PureComponent{constructor(e,t){super(e,t),this._reactionsLegacyHeartEnabled=this.context.featureSwitches.isTrue("responsive_web_reactions_legacy_heart"),this._renderQuoteTweetTimelinePivot=()=>{const{permalink:e}=this.props;return r.a.createElement(h.a,{link:`${e}/retweets/with_comments`,onPress:this._handleQuoteTweetPivotScribeOnClick,style:yt.quoteTweetPivot,withDarkerInteractiveBackground:!1},r.a.createElement(u.b,{color:"primary"},Ct))},this._updateStateIfChanged=(e,t)=>n=>{const{nativeEvent:{layout:{width:o}}}=n;o!==e()&&t(o)},this._handleQuoteTweetStatLayout=this._updateStateIfChanged((()=>this.state.quoteTweetLabelWidth),(e=>this.setState({quoteTweetLabelWidth:e}))),this._handleRetweetStatLayout=this._updateStateIfChanged((()=>this.state.retweetLabelWidth),(e=>this.setState({retweetLabelWidth:e}))),this._handleLikeStatLayout=this._updateStateIfChanged((()=>this.state.likeLabelWidth),(e=>this.setState({likeLabelWidth:e}))),this._handleStatGroupLayout=this._updateStateIfChanged((()=>this.state.groupWidth),(e=>this.setState({groupWidth:e}))),this._handleRetweetScribeOnClick=()=>{const{analytics:e}=this.props;e.scribe({element:"retweet_stat",action:"click"})},this._handleQuoteTweetScribeOnClick=()=>{const{analytics:e}=this.props;e.scribe({element:"quote_tweet_stat",action:"click"})},this._handleQuoteTweetPivotScribeOnClick=()=>{const{analytics:e}=this.props;e.scribe({element:"quote_tweet_pivot",action:"click"})},this.state={retweetLabelWidth:void 0,likeLabelWidth:void 0,quoteTweetLabelWidth:void 0,groupWidth:void 0}}componentDidMount(){const{analytics:e,isNonCompliantTweet:t,quoteTweetCount:n}=this.props;t&&e.scribe({element:"quote_tweet_pivot",action:"impression"}),n&&n>0&&e.scribe({element:"quote_tweet_stat",action:"impression"})}render(){const{isNonCompliantTweet:e}=this.props;return e?this._renderQuoteTweetTimelinePivot():this._renderStats()}_renderReaction(e){const{permalink:t}=this.props,n=wt.a.getTruncatedCount(e.count),o={pathname:`${t}/reactions`,state:{reactionType:e.type}};return r.a.createElement(c.a,{key:e.type},r.a.createElement(mt.a,null,(t=>r.a.createElement(_t.a,{count:e.count,link:o,onPress:t()},r.a.createElement(c.a,{style:yt.reactionStat},r.a.createElement(bt.a,{legacyHeart:this._reactionsLegacyHeartEnabled,reactionType:e.type,style:yt.reaction}),r.a.createElement(_t.a.Value,{animated:!0,count:e.count,weight:"normal"},n))))))}_renderReactionsStatsGroup(){const{permalink:e,reactionCount:t}=this.props,n=t&&t.reduce(((e,t)=>(t.count||0)+e),0)||0;if(!n||!t)return null;const o=wt.a.getTruncatedCount(n),i=t.sort(((e,t)=>t.count-e.count)).filter((e=>e.count>0));return r.a.createElement(gt.a,null,(({windowWidth:t})=>r.a.createElement(_t.a.Group,{style:[yt.detailItemContainer,yt.detailItem]},t>w.a.theme.breakpoints.small?r.a.createElement(c.a,null,r.a.createElement(mt.a,null,(t=>r.a.createElement(_t.a,{count:n,link:`${e}/reactions`,onPress:t()},r.a.createElement(L.a.I18NFormatMessage,{$i18n:"d01be6d9"},r.a.createElement(_t.a.Value,{animated:!0,count:n},L.a.d2100fb5({displayCountAll:o})),r.a.createElement(_t.a.Label,null,L.a.g692ffe2({count:n}))))))):null,i.map((e=>this._renderReaction(e))))))}_renderLikesStat(e){const t=wt.a.getTruncatedCount(e),{permalink:n}=this.props;return r.a.createElement(c.a,{onLayout:this._handleLikeStatLayout},r.a.createElement(mt.a,null,(o=>r.a.createElement(_t.a,{count:e,link:`${n}/likes`,onPress:o()},r.a.createElement(L.a.I18NFormatMessage,{$i18n:"e4eeeeff"},r.a.createElement(_t.a.Value,{animated:!0,count:e},L.a.e8866a55({displayCount:t})),r.a.createElement(_t.a.Label,null,L.a.eb3abe45({count:e})))))))}_renderRetweetsStat(e){const t=wt.a.getTruncatedCount(e),{permalink:n}=this.props;return r.a.createElement(c.a,{onLayout:this._handleRetweetStatLayout},r.a.createElement(mt.a,null,(o=>r.a.createElement(_t.a,{count:e,link:`${n}/retweets`,onPress:o(this._handleRetweetScribeOnClick)},r.a.createElement(L.a.I18NFormatMessage,{$i18n:"b07c7c03"},r.a.createElement(_t.a.Value,{animated:!0,count:e},L.a.d71de0c1({displayCount:t})),r.a.createElement(_t.a.Label,null,L.a.c42234da({count:e})))))))}_renderQuoteTweetsStat(e){const t=wt.a.getTruncatedCount(e),{permalink:n}=this.props;return r.a.createElement(c.a,{onLayout:this._handleQuoteTweetStatLayout},r.a.createElement(mt.a,null,(o=>r.a.createElement(_t.a,{count:e,link:`${n}/retweets/with_comments`,onPress:o(this._handleQuoteTweetScribeOnClick)},r.a.createElement(L.a.I18NFormatMessage,{$i18n:"f0259953"},r.a.createElement(_t.a.Value,{animated:!0,count:e},L.a.f6e12707({displayCount:t})),r.a.createElement(_t.a.Label,null,L.a.e2414185({count:e})))))))}_renderStats(){const{containerStyle:e,likeCount:t,quoteTweetCount:n,reactionCount:o,retweetCount:i,style:a,withReactions:s}=this.props,{groupWidth:l,likeLabelWidth:d,quoteTweetLabelWidth:h,retweetLabelWidth:u}=this.state,p=u&&h&&d&&l&&u+vt+(s?0:d+vt)+h>l,m=l,w=s?void 0:t;return i||w||n||o?r.a.createElement(c.a,{onLayout:this._handleStatGroupLayout,style:m?e:yt.hidden},s?this._renderReactionsStatsGroup():null,i||w||n?r.a.createElement(_t.a.Group,{style:[yt.detailItemContainer,yt.detailItem,yt.noWrap,a]},i?this._renderRetweetsStat(i):null,n?this._renderQuoteTweetsStat(n):null,w&&!p?this._renderLikesStat(w):null):null,p&&w?r.a.createElement(_t.a.Group,{style:[yt.detailItemContainer,yt.detailItem,a]},this._renderLikesStat(w)):null):null}}ft.contextType=_.a;const yt=w.a.create((e=>({detailItem:{paddingHorizontal:e.spaces.space4,paddingVertical:e.spaces.space16},detailItemContainer:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:"1px",flexDirection:"row"},hidden:{visibility:"hidden"},noWrap:{flexWrap:"nowrap"},quoteTweetPivot:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:"1px",paddingVertical:e.spaces.space16},reaction:{width:"1.2em",height:"1.2em",marginRight:"0.5em"},reactionStat:{flexDirection:"row",alignItems:"center",display:"inline-flex"}})));var Tt=Object(d.a)(ft);var kt=pt((function(e){const{containerStyle:t,isNonCompliantTweet:n,liveLikeCount:o,liveQuoteCount:i,liveRetweetCount:a,tweetLikeCount:s,tweetPermalink:l,tweetQuoteTweetCount:c,tweetReactionCount:d,tweetRetweetCount:h,withReactions:u}=e;return r.a.createElement(Tt,{containerStyle:t,isNonCompliantTweet:n,likeCount:o||s,permalink:l,quoteTweetCount:i||c,reactionCount:d,retweetCount:a||h,withReactions:u})})),It=n("avOP");var Et=e=>{const{children:t}=e;return O.b?r.a.createElement(It.a,{itemProp:"articleBody"},t):t},xt=n("M0jS");const St=(e,t)=>Object(xt.c)(e,t.userId);var Pt=Object(Ae.a)().propsFromState((()=>({userSpace:St}))),At=n("Sksh"),Lt=n("dgjd"),Ot=n("1I0O"),Dt=n("oSwX");const Rt=e=>{const{avatarRef:t,imageLayoutCache:n,nativeID:o,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:c,size:d,style:h,uri:u,userId:p,userSpace:m,withHoverCard:w,withLink:_}=e;r.a.useEffect((()=>(At.a.registerUserInApp(p),()=>{At.a.deregisterUserInApp(p)})),[p]);const b=m&&m.spaceId||"",{space:g}=Object(Lt.a)(b);return m&&g&&"Running"===g.state?r.a.createElement(Ot.a,i()({avatarRef:t,imageLayoutCache:n,nativeID:o,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:c,size:d,style:h,uri:u,withHoverCard:w,withLink:_},m)):r.a.createElement(Dt.default,{avatarRef:t,imageLayoutCache:n,nativeID:o,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:c,size:d,style:h,uri:u,withHoverCard:w,withLink:_})};var Mt=Pt(r.a.memo(Rt)),Ft=n("FGLp"),Ut=n("TIdA"),Bt=n("DNho");const Nt=Ut.a.createLayoutCache(),Ht=w.a.create((e=>({avatar:{display:"block"},avatarWrapper:{flexShrink:1,flexGrow:0,width:"100%"}})));var jt=e=>{const t=Object(d.b)(),{featureSwitches:n}=r.a.useContext(_.a),{avatarRef:o,nativeID:i,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:h,uri:u,userId:p,withHoverCard:m=!0,withLink:w=!0,withNftAvatar:b,withUserPresence:g=!1}=e;return Object(Ft.a)((()=>{b&&n.isTrue("responsive_web_nft_avatar")&&t.scribe({element:"nft_avatar",action:"impression"})})),r.a.createElement(c.a,{style:Ht.avatarWrapper},r.a.createElement(Bt.a.Consumer,null,(({avatarSize:e})=>g?r.a.createElement(Mt,{avatarRef:o,imageLayoutCache:Nt,nativeID:i,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:h,size:e,style:Ht.avatar,uri:u,userId:p,withHoverCard:m,withLink:w}):r.a.createElement(Dt.default,{avatarRef:o,imageLayoutCache:Nt,nativeID:i,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:h,size:e,style:Ht.avatar,uri:u,userId:p,withHoverCard:m,withLink:w}))))},Wt=n("aITJ"),zt=n("E0cF"),Vt=n("Z6aJ"),qt=n("dCqJ"),Gt=n("Olb6"),Kt=n("nBUg"),Qt=n("r7g+"),Xt=n("PbQQ"),$t=n("JWUO"),Jt=n("9VO7"),Yt=n("GBcw"),Zt=n("jV+4"),en=n("ir4X"),tn=n("aA1u"),nn=n("uK4q"),on=n("kY28"),an=n("6nXH");function rn(e,t,n){var o;const i=zt.a.getOriginalTweet(e),a=null==i||null==(o=i.entities)?void 0:o.hashtags;if(!Array.isArray(a)||a.length<1)return;const r=a[0];return n&&function(e){const t=zt.a.getOriginalTweet(e),n=t.extended_entities&&t.extended_entities.media;return!!(n&&n.length>0)&&n.some((e=>"animated_gif"===e.type))}(e)&&t.isTrue("responsive_web_hashtag_highlight_is_enabled")?r.text:void 0}var sn=n("9B+1"),ln=n("YICZ"),cn=n("21zW"),dn=n("8bWS");const hn=L.a.gf5e9ea6,un=L.a.e2f2b658,pn=Object.freeze({see_more:L.a.ffd9cfe6,discover_more:L.a.d172116a,more:L.a.h63a5c3c,more_tweets:L.a.iac074c4,more_suggestions:L.a.g11ebd34,browse:L.a.g4a6901a,browse_tweets:L.a.b1abb17e});const mn=({onUndoTopicNotInterestedClick:e})=>r.a.createElement(c.a,{style:bn.tombstone},r.a.createElement(Z.a,{actionText:hn,children:un,inline:!0,onClick:e})),wn=Object(d.a)((e=>{const{analytics:t,bannerText:n,label:o,link:i,linkText:a,onNotInterestedPress:l,topic:d,withRightControl:h}=e,p=n&&""===n.text,m=a&&""===a.text,w=!m,_=!(p||m);return r.a.createElement(c.a,{style:bn.topicActions},_&&r.a.createElement(cn.a,null),w&&r.a.createElement(u.b,{color:"primary",link:i,onClick:()=>{t.scribeAction("click")},size:"subtext2",weight:"bold"},a?r.a.createElement(s.a,a):o),h?r.a.createElement(c.a,{style:bn.notInterestedButtonWrapper},r.a.createElement(ln.a,{onPress:l,size:"small",topicId:d.id,type:"brandText",withIconOnly:!0})):null)})),_n=e=>{const{isExpanded:t,onNotInterestedPress:n,topic:o}=e,i=o.following?bn.followingTopicButtonWrapper:bn.followTopicButtonWrapper,a=[t&&i,!t&&bn.followTopicButtonWrapperNotExpanded],s=t?bn.largeNotInterestedButtonWrapper:bn.notInterestedButtonWrapper;return r.a.createElement(c.a,{style:bn.topicActions},t?null:r.a.createElement(cn.a,{style:bn.topicMiddot}),r.a.createElement(c.a,{style:a},r.a.createElement(re.a,{isTransparent:!t,showRelationshipChangeConfirmation:!0,size:t?"small":"xSmall",style:bn.followTopicButton,textMode:ae.a.FollowTopic,topic:o})),n||t&&!o.following?r.a.createElement(c.a,{style:s},r.a.createElement(ln.a,{onPress:n,size:"small",topicId:o.id,type:t?"primaryOutlined":"brandText",withIconOnly:!t})):null)};const bn=w.a.create((e=>({tombstone:{paddingBottom:e.componentDimensions.gutterVertical},iconStyle:{paddingBottom:`calc(${e.spaces.space2} + ${e.spaces.space1})`,marginBottom:e.spaces.space4},topicActions:{flexDirection:"row",flexGrow:1,alignItems:"center",minHeight:e.spaces.space32},topicMiddot:{alignSelf:"center",paddingRight:0},followTopicButton:{marginTop:e.spaces.space1},followTopicButtonWrapperNotExpanded:{marginBottom:e.spaces.space2},followTopicButtonWrapper:{marginVertical:e.spaces.space4,paddingRight:e.spaces.space4,width:"50%"},followingTopicButtonWrapper:{marginVertical:e.spaces.space4,width:"100%"},notInterestedButtonWrapper:{alignItems:"flex-end",flexGrow:1},largeNotInterestedButtonWrapper:{marginVertical:e.spaces.space4,paddingLeft:e.spaces.space4,width:"50%"}})));var gn=n("0zXz");const Cn=(e={})=>Object(g.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[b.a.root,e.style],viewBox:"0 0 24 24"},r.a.createElement("g",null,r.a.createElement("path",{d:"M22.76 6.69c0 3.035-2.43 5.447-5.465 5.447-.233 0-.292.02-.428 0L11.85 7.12c-.02-.177-.02-.254-.02-.43 0-3.013 2.45-5.483 5.465-5.483 3.034 0 5.465 2.47 5.465 5.484zm-7.235 6.574l-.136.117-11.63 9.415c-1.13-.467-2.064-1.36-2.51-2.51l-.02-.02L10.7 8.48l.02-.02 4.803 4.804z"})));Cn.metadata={width:24,height:24};var vn=Cn;const fn=L.a.aaad27c8;function yn({color:e="magenta500",name:t}){return r.a.createElement(r.a.Fragment,null,r.a.createElement(vn,{accessibilityLabel:fn,style:[Tn.icon,{backgroundColor:w.a.theme.colors[e]}]}),t)}const Tn=w.a.create((({borderRadii:e,colors:t,fontSizes:n,primaryColorName:o,spaces:i})=>({icon:{borderRadius:e.infinite,color:t.whiteOnColor,fontSize:n.subtext3,marginRight:i.space4,padding:i.space2}}))),kn=w.a.theme.aspectRatios.maxTimelineImage,In=w.a.theme.aspectRatios.minTimelineImage,En=["magenta500","orange500","purple500"],xn=L.a.f277e94a,Sn=L.a.ee79367b,Pn=L.a.a2a3824a,An=L.a.c14cdb18,Ln=L.a.e8adeec8,On=L.a.i093db9c,Dn={element:"user_recommendation"};class Rn extends r.a.Component{constructor(...e){super(...e),this._defaultInlinePromptRef=r.a.createRef(),this._iconContainerRef=r.a.createRef(),this.state={mediaAltTranslations:{}},this._transformPromotedUrl=ye.a.bind(null,this.context.featureSwitches),this._isEdgeToEdgeEnabled=this.context.featureSwitches.isTrue("media_edge_to_edge_content_enabled"),this._getWithTopLine=()=>{const{conversationTreeMetadata:e,isFocal:t,tweet:n}=this.props,o=zt.a.getOriginalTweet(n),i=this._getConversationPosition(),a=this._getIsConversationStart(),r=e&&e.ancestorConnector,s=e&&e.indents,l=t&&!!o.in_reply_to_status_id_str||i&&!a;return s?"top"===r:l},this._getWithBottomLine=()=>{const{conversationTreeMetadata:e,tweet:t}=this.props,n=zt.a.getOriginalTweet(t),o=this._getConversationPosition(),i=e&&e.indents,a=e&&e.descendantConnector,r=o&&!o.isEnd;return i?a:!(!n.in_reply_to_status_id_str&&"ancestor"!==(null==o?void 0:o.position)&&this._isEdgeToEdgeEnabled)&&r},this._isEditTweetConsumptionEnabled=()=>this.context.featureSwitches.isTrue("responsive_web_edit_tweet_enabled")||this.context.featureSwitches.isTrue("subscriptions_feature_labs_1004"),this._isTweetInConversation=()=>{const e=this._getWithTopLine(),t=this._getWithBottomLine();return!!e||!!t},this._getFeatureConfigurationContextProviderValue=()=>{const{onMediaHashtagHighlightClick:e,promotedContent:t,promotedContentAdvertiser:n,tweet:o}=this.props,{featureSwitches:i}=this.context,a={highlightedHashtag:()=>rn(o,i,Vt.a.isPromoted(t)),avatarURIForHashtagHighlight:()=>function(e,t){if(e&&t.isTrue("responsive_web_hashtag_highlight_show_avatar"))return e.profile_image_url_https}(n,i),shouldUseSmallFontForHashtagHighlight:()=>i.isTrue("responsive_web_hashtag_highlight_use_small_font"),onMediaHashtagHighlightClick:e},r=i.isTrue("trusted_friends_consumption_enabled"),s=i.isTrue("trusted_friends_tweet_creation_enabled"),l={c9sEnabled:()=>i.isTrue("c9s_enabled"),trustedFriendsEnabled:()=>r,trustedFriendsCreationEnabled:()=>s},c=!this.props.isFocal&&this._isTweetInConversation();return{...a,...l,isVibeTweetConsumptionEnabled:()=>i.isTrue("vibe_tweet_context_enabled"),withEdgeToEdgeContent:()=>!c&&i.isTrue("media_edge_to_edge_content_enabled"),withEdgeToEdgeTweetAnatomy:()=>i.isTrue("media_edge_to_edge_content_enabled"),headsUpVariant:()=>i.getStringValue("conversational_safety_heads_up_treatment_A_enabled"),isCollaborativeTweetConsumptionEnabled:()=>i.isTrue("responsive_web_cotweet_consumption_enabled"),isCopyrightDisputeLinkEnabled:()=>i.isTrue("ecd_dispute_form_link_enabled"),isEditTweetConsumptionEnabled:this._isEditTweetConsumptionEnabled,misinfoLabelRevampTweaksEnabled:()=>i.isTrue("responsive_web_misinfo_label_revamp_tweaks_enabled"),mixedMediaEnabled:()=>i.isTrue("responsive_web_mixed_media_consumption_enabled"),sensitiveMediaWarningsEnabled:()=>i.isTrue("sensitive_tweet_warnings_enabled"),tweetRendersPromotedContentBadgeBelowHeader:()=>i.isTrue("responsive_web_promoted_badge_below_header"),socialContextRefreshEnabled:()=>this.context.featureSwitches.isTrue("social_context_and_topic_context_refresh_alignment_enabled"),trustedFriendsInfo:()=>r&&r?o.trusted_friends_info:void 0,twitterArticleLearnMoreBannerEnabled:()=>i.isTrue("responsive_web_twitter_article_view_enabled")}},this._renderPromotedDetails=e=>{const{onPoliticalSponsorWebsiteClick:t,onPromotedDisclaimerLearnMoreClick:n,onPromotedIndicatorClick:o,promotedContent:i,promotedContentAdvertiser:a,tweet:s}=this.props;return n&&t&&o?r.a.createElement(qt.a,{onPoliticalSponsorWebsiteClick:t,onPromotedDisclaimerLearnMoreClick:n,onPromotedIndicatorClick:o,promotedContent:i,promotedContentAdvertiser:a,style:Mn.promotedDetails,testID:be,tweet:s,withCircleIcon:e}):null},this._getPromoteButtonOnPress=e=>{const{onPromoteAgainButtonClick:t,onPromoteButtonClick:n}=this.props;return"EligibleWithPreviousCampaign"===e?t:n},this._renderBirdwatchPivot=()=>{const{tweet:e,withBirdwatchPivots:t}=this.props,n=zt.a.getOriginalTweet(e);return n.birdwatch_pivot&&t&&this.context.featureSwitches.isTrue("responsive_web_birdwatch_pivots_enabled")?r.a.createElement(x,i()({},n.birdwatch_pivot,{tweet:e})):null},this._renderModeratedRepliesIcon=()=>{const{hasModeratedReplies:e,onModeratedIconClick:t,tweet:n}=this.props;return e?r.a.createElement(Gt.a,{link:`${n.permalink}/hidden`,onPress:t}):null},this._renderBirdwatchNotesIcon=()=>{const{onBirdwatchNotesIconClick:e,onBirdwatchNotesIconShown:t,tweet:n}=this.props;return!(n.birdwatch_pivot&&!0===this.context.featureSwitches.getValueWithoutScribeImpression("responsive_web_birdwatch_pivots_enabled"))&&n.has_birdwatch_notes&&this.context.featureSwitches.isTrue("responsive_web_birdwatch_consumption_enabled")&&this.context.featureSwitches.isTrue("responsive_web_birdwatch_contribution_enabled")?r.a.createElement(Ke,{onPress:e,onShow:t,tweetId:n.id_str}):null},this._getUsernameStackedLayoutEnabled=()=>this.props.isFocal||this._isEdgeToEdgeEnabled,this._handleSocialContextClick=()=>{const{saveAsRecentSearch:e,shouldStoreTypeaheadItem:t,socialContext:n}=this.props;if(e&&n&&t&&t(fe.a.ItemType.USER)){var o;const t=(null==(o=n.landingUrl)?void 0:o.url.match($.A.id))||"",i=n.text||"";e({topic:{id:t&&t[0],name:i,description:Pn,type:ie.a.Topic}})}},this._renderTweetTextHWTweet=e=>{const{excludeCardUrl:t,hitHighlights:n,isFocal:o,linkify:a,onEntityClick:s,tweet:l,tweetTextSize:c,withCardLinks:d,withInlineMedia:h,withQuotedTweetLinks:u}=this.props,p=zt.a.getOriginalTweet(l),m=zt.a.hasInteractiveText(p),w=c||(m?"title4":e.size),_=this._shouldShowLikedByAuthor(),b={...e,excludeCardUrl:t,hitHighlights:n,linkify:a,onEntityClick:s,size:w,transformUrl:this._transformUrl,unmentionedUserIds:p.unmentioned_user_ids,weight:m?"heavy":void 0,withCardLinks:d,withMediaLinks:!h,withQuoteLinks:u||zt.a.isQuotedTweetUnavailable(p),withUnicodeEmojis:O.b};return r.a.createElement(Et,null,r.a.createElement(We,i()({},b,{disableTranslation:p.user.protected,isFocal:o,lang:p.lang,onMediaTranslation:this._handleMediaTranslations,supplementalLang:p.supplemental_language,text:p.text,tweetId:p.id_str,withLikedByAuthor:_,withOriginalText:o})))},this._renderTweetText=e=>{const{excludeCardUrl:t,hitHighlights:n,isFocal:o,linkify:i,onEntityClick:a,tweet:s,tweetTextSize:l,withCardLinks:c,withInlineMedia:d,withQuotedTweetLinks:h}=this.props,u=zt.a.getOriginalTweet(s),p=zt.a.hasInteractiveText(u),m=l||(o||p?"title4":"body"),w=p&&Mn.interactiveHighlightSpacer||this._isEdgeToEdgeEnabled&&Mn.edgeToEdgeTextSpacer,_=o?Mn.expandedTweetText:w;return r.a.createElement(Et,null,r.a.createElement(We,{disableTranslation:u.user.protected,displayTextRange:u.display_text_range,enrichments:u.enrichments,entities:u.entities,excludeCardUrl:t,hitHighlights:o?void 0:n,isFocal:o,lang:u.lang,linkify:!!o||i,nativeID:e,onEntityClick:a,onMediaTranslation:this._handleMediaTranslations,quotedTweetId:u.quoted_status&&u.quoted_status.id_str,quotedTweetPermalink:u.quoted_status_permalink,size:m,style:_,supplementalLang:u.supplemental_language,text:u.text,transformUrl:this._transformUrl,tweetId:u.id_str,unmentionedUserIds:u.unmentioned_user_ids,weight:p?"heavy":void 0,withCardLinks:o?void 0:c,withMediaLinks:o?void 0:!d,withOriginalText:o,withQuoteLinks:!o&&h||zt.a.isQuotedTweetUnavailable(u),withUnicodeEmojis:O.b}))},this._handleMediaTranslations=e=>{this.setState({mediaAltTranslations:e})},this._transformUrl=e=>{var t;return this._transformPromotedUrl(e,null==(t=this.props.promotedContent)?void 0:t.click_tracking_info)}}render(){var e;const{conversationTreeMetadata:t,forwardPivotInfo:n,hideConversationControlsEducationText:o,hideExclusivityInfoEducationTextInReplies:a,hideTrustedFriendsEducationTextInReplies:s,isFocal:l,loggedInUser:d,onBlur:h,onClick:p,onFocus:_,onPromotedUserProfileCardClick:b,promotedContent:g,quotedTweetTombstoneInfo:C,readerModeAvailable:v,renderCurationActionMenu:f,showConversationHeadsUp:y,showLongformNotesLearnMoreBanner:T,socialContext:k,to:I,tweet:E,withReaderModeBottomBar:x,withTimestamp:A,withUnreadStyles:L}=this.props,O=zt.a.getOriginalTweet(E),{has_super_follower:D,quick_promote_eligibility:R,user:M}=O,F=null==R?void 0:R.eligibility,U=this._getIsQuickPromoteEligible(F),B=Vt.a.isPromoted(g),N="true"===(null==g||null==(e=g.experiment_values)?void 0:e.pac_in_timeline)&&!O.card&&this.context.featureSwitches.isTrue("responsive_web_promoted_account_card_enabled"),H=!!B&&this.context.featureSwitches.isTrue("responsive_web_promoted_badge_below_header"),j=!!B&&this.context.featureSwitches.isTrue("responsive_web_promoted_badge_use_circle_icon"),W=!(!M.professional||!U),z="IneligibleCampaignRunning"===F||"IneligibleCampaignPaused"===F,V=t&&t.ancestorConnector,q=t&&t.indents,G=this._isTweetInConversation()&&!l||!this._isEdgeToEdgeEnabled;return l?r.a.createElement(Xt.c.UseTweetA11yIds,{tweet:E},(([e,i])=>{const l=z?r.a.createElement(ct,{nativeID:e.promotionStatusLabel,status:this._getTweetPromotionStatus(F),style:Mn.promotionStatus}):null,m=t?r.a.createElement(u.b,{nativeID:e.conversationLevel,style:w.a.visuallyHidden},Sn({conversationTreeDepth:t.depth.toString()})):null,C=O.tombstoneInfo||E.tombstoneInfo,k=r.a.createElement(r.a.Fragment,null,C?this._renderTombstone(e.tombstone,C):null,this._renderReplyContext({nativeID:e.replyContext}),r.a.createElement(c.a,null,this._renderTweetText(e.text)),r.a.createElement(c.a,null,this._renderRichContent({nativeID:e.richContent,withRoundMediaCorners:G})),r.a.createElement(c.a,null,N?r.a.createElement(ue.c,{namespace:Dn},r.a.createElement(Qt.a.PromotedUserProfileCard,{followButton:r.a.createElement(P.a,{promotedContent:g,userId:O.user.id_str}),isUserProtected:O.user.protected,isUserVerified:O.user.verified,link:{pathname:`/${O.user.screen_name}`,anchorless:!0},onClick:b,onScreenNameClick:b,promotedContent:g,style:Mn.promotedUserCard,userDescription:O.user.description,userId:O.user.id_str,userName:O.user.name,userScreenName:O.user.screen_name})):null));return r.a.createElement(Kt.b.Provider,{value:this._getFeatureConfigurationContextProviderValue()},r.a.createElement(tt.a,{forwardPivotInfo:n,tweet:E},r.a.createElement($t.a,{a11yDomIds:i,actionMenu:f&&S.canUseDOM?f():null,avatar:this._renderAvatar(e.avatar),footer:this._renderFooter(),header:this._renderHeader(e),indents:q,onBlur:h,onFocus:_,onPress:p,testID:ve,timestamp:B||this._getUsernameStackedLayoutEnabled()||!A?null:this._renderTweetRelativeTimestamp(e.timestamp),userFollowIndicators:D?r.a.createElement(Jt.a,{type:"superFollower"}):void 0,userLabel:this._renderUserLabel(M,e.userLabel),userName:this._renderUserName(e.username,e.timestamp),userVibe:this._renderVibePill(),withBottomLine:this._getWithBottomLine(),withElbow:q?"side"===V:void 0,withFooterGap:!1,withFullWidthChildren:!0,withTopLine:this._getWithTopLine(),withUnreadStyles:L},H?this._renderPromotedDetails(j):null,m,k,this._renderFocalContent(H,W,l),E.isPreview?r.a.createElement(Y,{previewTweetId:E.id_str}):this._renderTweetActions({actionSize:"large",displayStyle:"block",nativeID:e.actionsBar,style:[Mn.actionBarFocalTweet,!v&&Mn.actionBarWithInlineReply],withAnalyticsAction:!1,withCount:!1}),this._renderReaderModeButton(),r.a.createElement(it,{conversationControlLabelNativeID:e.conversationControlLabel,displayStyle:"detail",exclusivityInfoLabelNativeID:e.exclusivityInfoLabel,hideConversationControlsEducationText:!!o,hideExclusivityInfoEducationTextInReplies:!!a,hideTrustedFriendsEducationTextInReplies:!!s,loggedInUser:d,longformNotesLabelNativeID:e.longformNotesLabel,showConversationHeadsUp:y,showLongformNotesLearnMoreBanner:T,trustedFriendsLabelNativeID:e.trustedFriendsLabel,tweet:E}),x?r.a.createElement(c.a,{style:Mn.readerBottomBar,testID:ge}):null)))})):r.a.createElement(Kt.b.Provider,{value:this._getFeatureConfigurationContextProviderValue()},r.a.createElement(tt.a,{forwardPivotInfo:n,tweet:E},r.a.createElement(Qt.a,{conversationTreeMetadata:t?{ancestorConnector:t.ancestorConnector,depth:t.depth,indents:t.indents}:void 0,link:S.canUseDOM?this._getMaybeRedirectedTweetLink(I,!0):void 0,onBlur:h,onFocus:_,onPress:p,promotedContent:g,quotedTweetTombstoneInfo:C,renderActionMenu:f&&S.canUseDOM?f:gn.a,renderActionsBar:E.isPreview?()=>r.a.createElement(Y,{previewTweetId:E.id_str}):e=>r.a.createElement(r.a.Fragment,null,this._renderTweetActions({actionSize:e.actionSize,displayStyle:e.displayStyle,nativeID:e.nativeID,style:e.style,withCount:e.withCount,withAnalyticsAction:!0}),this.props.withReaderModeBottomBar?r.a.createElement(c.a,{style:Mn.readerBottomBar,testID:ge}):null),renderEducation:e=>r.a.createElement(r.a.Fragment,null,W&&r.a.createElement(m.a,{link:`${E.permalink}/quick_promote_web/intro`,onPress:this._getPromoteButtonOnPress(F),style:Mn.promoteButton,type:"primaryOutlined"},this._getPromoteButtonText(F)),r.a.createElement(it,i()({},e,{hideConversationControlsEducationText:!!o,hideExclusivityInfoEducationTextInReplies:!!a,hideTrustedFriendsEducationTextInReplies:!!s,loggedInUser:d,showLongformNotesLearnMoreBanner:T}))),renderHighlightedUserLabel:e=>{var t;return"AutomatedLabel"!==(null==(t=e.label)?void 0:t.userLabelType)||this.context.featureSwitches.isTrue("account_taxonomy_automated_label_enabled")?r.a.createElement(Qt.a.HighlightedUserLabel,e):null},renderPromotedIndicator:e=>r.a.createElement(Qt.a.PromotedIndicator,i()({},e,{withCircleIcon:j})),renderPromotedUserProfileCard:e=>N?r.a.createElement(ue.c,{namespace:Dn},r.a.createElement(Qt.a.PromotedUserProfileCard,i()({},e,{followButton:r.a.createElement(P.a,{promotedContent:g,userId:e.userId}),link:{pathname:`/${O.user.screen_name}`,anchorless:!0},onClick:b,onScreenNameClick:b,style:Mn.promotedUserCard}))):null,renderPromotionStatusBadge:z?e=>r.a.createElement(ct,{nativeID:e.nativeID,status:this._getTweetPromotionStatus(F),style:Mn.promotionStatus}):()=>null,renderReplyContext:e=>this._renderReplyContext({nativeID:e.nativeID}),renderRichContent:e=>this._renderRichContent({nativeID:e.nativeID,withRoundMediaCorners:G}),renderSelfThreadCTA:()=>this._renderSelfThreadCTA(),renderSocialContext:e=>this._renderSocialContext({nativeID:e.nativeID}),renderText:e=>this._renderTweetTextHWTweet(e),renderTimestamp:e=>this._renderTweetTimestamp(e),renderTombstone:e=>this._renderTombstoneHWTweet(e),renderUserAvatar:e=>this._renderAvatar(e.nativeID),renderUserName:e=>this._renderUserNameHWTweet(e),renderVibePill:e=>this._renderVibePillHWTweet(e),socialContext:k?{contextType:k.contextType,isSelfRetweet:k.isSelfRetweet,link:k.landingUrl?Object(X.b)(k.landingUrl):void 0,name:k.name,screenName:k.screenName,text:k.text}:void 0,staticLinkConfig:null,testID:ve,tweet:E,withBottomLine:this._getWithBottomLine(),withTopLine:this._getWithTopLine(),withUnreadStyles:L})))}_getMaybeRedirectedTweetLink(e,t){const{tweet:n}=this.props,o=this.context.history,i=zt.a.getOriginalTweet(n);let a="string"==typeof e?{pathname:e,state:{}}:e;if(a&&i.isStaleEdit&&this._isEditTweetConsumptionEnabled()){var r,s;if(!!(null==(r=n.edit_control)||null==(s=r.edit_tweet_ids)||!s.find((e=>o.location.pathname.includes(`/${e}/history`))))){var l,c;const e=zt.a.getTweetLatestVersionId(i);a={...a,pathname:zt.a.getTweetLatestVersionPermalink(i),state:{...a.state,focal:null!=(l=a.state)&&l.focal?e:void 0,contextTweetId:null!=(c=a.state)&&c.contextTweetId?e:void 0}}}}return a?{...a,anchorless:t}:void 0}_renderTweetTimestamp(e){const{withTimestamp:t,withTimestampLink:n}=this.props,{link:o,nativeID:a}=e;return t?r.a.createElement(Qt.a.Timestamp,i()({},e,{link:n?this._getMaybeRedirectedTweetLink(o,!1):void 0,nativeID:this._isEdgeToEdgeEnabled?void 0:a})):null}_renderTweetRelativeTimestamp(e){const{promotedContent:t,tweet:n,withTimestampLink:o}=this.props,i=zt.a.getOriginalTweet(n);return r.a.createElement(Yt.a,{link:o?{pathname:i.permalink,state:{contextTweetId:i.id_str,promotedContent:t}}:void 0,nativeID:e,timestamp:i.created_at})}_getAuthorLabelUserNameColor(){return En.includes(w.a.theme.primaryColorName)?"blue500":"magenta500"}_shouldRenderAuthorLabel(){const{replyBadge:e,rootTweetAuthorId:t,tweet:n}=this.props,{user:o}=zt.a.getOriginalTweet(n);return e===de.Author||o.id_str===t}_renderUserNameHWTweet(e){const{onAvatarClick:t,onScreenNameClick:n,tweet:o,withUserHoverCard:a,withUserName:s}=this.props;if(!s)return null;const{user:l}=zt.a.getOriginalTweet(o),{featureSwitches:c}=this.context,d=this._shouldRenderAuthorLabel()&&c.isTrue("responsive_web_author_labels_handle_label_enabled"),h=d?this._getAuthorLabelUserNameColor():void 0;return r.a.createElement(Qt.a.UserName,i()({},e,{color:h,onAvatarClick:t,onLinkClick:n,onScreenNameClick:n,renderUserNameHighlights:d?()=>r.a.createElement(yn,{color:h,name:l.name}):void 0,withHoverCard:a&&!l.blocking,withLink:!!n}))}_renderUserName(e,t){const{isFocal:n,onAvatarClick:o,onScreenNameClick:i,promotedContent:a,tweet:s,withUserHoverCard:l,withUserName:c}=this.props;if(!c)return null;const{user:d}=zt.a.getOriginalTweet(s),{featureSwitches:h}=this.context,u=Vt.a.isPromoted(a),p=this._shouldRenderAuthorLabel()&&h.isTrue("responsive_web_author_labels_focal_label_enabled"),m=p?this._getAuthorLabelUserNameColor():void 0;return r.a.createElement(Zt.a,{color:m,isProtected:d.protected,isVerified:d.verified,name:d.name,nativeID:e,onAvatarClick:o,onLinkClick:i,onScreenNameClick:i,promotedContent:a,renderUserNameHighlights:p?()=>r.a.createElement(yn,{color:m,name:d.name}):void 0,screenName:d.screen_name,screenNameSuffix:u||n||!this._isEdgeToEdgeEnabled?null:this._renderTweetRelativeTimestamp(),userId:null==d?void 0:d.id_str,withHoverCard:l&&!d.blocking,withLink:!!i,withStackedLayout:this._getUsernameStackedLayoutEnabled()})}_renderUserLabel(e,t){const{highlightedLabel:n}=e,o="AutomatedLabel"===(null==n?void 0:n.userLabelType),i=!!o&&this.context.featureSwitches.isTrue("account_taxonomy_automated_label_enabled");return!n||o&&!i?null:r.a.createElement(en.a,{label:n,nativeID:t})}_renderVibePill(){const{featureSwitches:e}=this.context;if(!e.isTrue("vibe_tweet_context_enabled"))return null;const{tweet:t}=this.props,n=zt.a.getOriginalTweet(t),{vibeTag:o}=n;return o?r.a.createElement(Qt.a.VibePill,{isActive:o.isAuthorActiveVibe,text:o.vibe.text,verb:o.vibe.verb}):null}_renderVibePillHWTweet(e){return this._isTweetInConversation()?null:r.a.createElement(Qt.a.VibePill,e)}_renderFocalContent(e,t,n){const{onAnalyticsClick:o,tweet:a}=this.props,s=zt.a.getOriginalTweet(a),{created_at:l,place:d,quick_promote_eligibility:h,source:p,source_name:w}=s,_=null==h?void 0:h.eligibility,b=this.context.featureSwitches.isTrue("responsive_web_reactions_enabled"),g=s.isEdited&&this._isEditTweetConsumptionEnabled(),C=s.isStaleEdit&&this._isEditTweetConsumptionEnabled();return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{style:Mn.footerContainer},r.a.createElement(c.a,{style:Mn.footerContent},r.a.createElement(tn.a,{linkColor:"gray700",place:d&&d.full_name,placeLink:d&&d.id?`/places/${d.id}`:void 0,renderEditCallout:g?e=>r.a.createElement(nn.a,i()({},e,{link:zt.a.getTweetEditHistoryRoute(s)})):e=>null,source:p&&w?w:void 0,sourceLink:"https://help.twitter.com/using-twitter/how-to-tweet#source-labels",style:Mn.timeLocSource,timestamp:l,timestampLink:s.permalink}),r.a.createElement(c.a,{style:Mn.footerIcons},this._renderModeratedRepliesIcon(),this._renderBirdwatchNotesIcon())),e?null:this._renderPromotedDetails(),n),C&&r.a.createElement(c.a,{style:[Mn.detailItemContainer,Mn.detailItem]},r.a.createElement(c.a,{style:Mn.staleTweetCallout},r.a.createElement(nn.a,{displayMode:"detailedSentence"})),r.a.createElement(u.b,{link:zt.a.getTweetLatestVersionPermalink(s),style:Mn.staleEditCalloutLink},On)),r.a.createElement(et,{endControl:t?r.a.createElement(m.a,{link:`${a.permalink}/quick_promote_web/intro`,onPress:this._getPromoteButtonOnPress(_),style:Mn.tweetAnalyticsPromoteButton,type:"primaryFilled"},this._getPromoteButtonText(_)):null,loggedInUserId:this.context.loggedInUserId,onAnalyticsClick:o,tweet:s}),r.a.createElement(kt,{isNonCompliantTweet:"non_compliant"===s.limited_actions,tweetId:s.id_str,tweetLikeCount:s.favorite_count,tweetPermalink:s.permalink,tweetQuoteTweetCount:s.quote_count,tweetReactionCount:s.reaction_count,tweetRetweetCount:s.retweet_count,withReactions:b}))}_renderFooter(){const{isFocal:e,topic:t,topicFollowPrompt:n}=this.props;return r.a.createElement(r.a.Fragment,null,this._renderSelfThreadCTA(),!e&&t&&n&&this.context.featureSwitches.isTrue("topics_context_controls_inline_prompt_enabled")?ce({defaultRef:this._defaultInlinePromptRef,topic:t,topicFollowPrompt:n}):null)}_renderHeader(e){const{isFocal:t,topic:n,topicFollowPrompt:o}=this.props;return r.a.createElement(r.a.Fragment,null,t&&o&&n&&this.context.featureSwitches.isTrue("topics_context_controls_inline_prompt_enabled")?ce({defaultRef:this._defaultInlinePromptRef,topic:n,topicFollowPrompt:o}):this._renderSocialContext({nativeID:e.socialContext}))}_renderSelfThreadCTA(){const{onSelfThreadClick:e,onSelfThreadImpression:t,tweet:n}=this.props,o=zt.a.getOriginalTweet(n),i=this._shouldShowSelfThreadWithAvatar();return this._shouldShowSelfThread()?r.a.createElement(pe.a,{avatarUrl:i?o.user.profile_image_url_https:void 0,onClick:e,onImpression:t,style:Mn.selfThreadCTA,to:n.permalink,userName:o.user.screen_name,withConversationLine:i}):null}_shouldShowSelfThread(){const{conversationPosition:e,tweet:t,withSelfThread:n}=this.props,o=zt.a.getOriginalTweet(t);return n&&!e&&o.self_thread&&!t.isPreview}_shouldShowSelfThreadWithAvatar(){const{shouldSelfThreadIncludeAvatar:e,tweet:t}=this.props,n=zt.a.getOriginalTweet(t);return this._shouldShowSelfThread()&&e&&!n.in_reply_to_status_id_str}_shouldShowLikedByAuthor(){const{replyBadge:e}=this.props;return e===de.LikedByAuthor&&this.context.featureSwitches.isTrue("responsive_web_like_by_author_enabled")}_getConversationPosition(){return this._shouldShowSelfThreadWithAvatar()?{isStart:!0,isEnd:!1}:this.props.conversationPosition}_getIsConversationStart(){const{tweet:e}=this.props,t=this._getConversationPosition(),n=zt.a.getOriginalTweet(e);return t&&(t.isStart||!n.in_reply_to_status_id_str)}_getIsQuickPromoteEligible(e){switch(e){case"Eligible":case"EligibleWithPreviousCampaign":return!0;default:return!1}}_getPromoteButtonText(e){switch(e){case"Eligible":return An;case"EligibleWithPreviousCampaign":return Ln;default:return Object(he.a)(new Error(`Tweet promote button should never render when quick promote eligibility is ${e||"null"}`),{level:"warning"}),An}}_getTweetPromotionStatus(e){switch(e){case"IneligibleCampaignRunning":return"in-progress";case"IneligibleCampaignPaused":return"paused";default:return Object(he.a)(new Error(`Tweet promotion badge should never render when quick promote eligibility is ${e||"null"}`),{level:"warning"}),"in-progress"}}_renderSocialContext({nativeID:e}){const{conversationPosition:t,injectedFeedbackItem:n,isFocal:o,onUndoTopicNotInterestedClick:a,promotedContent:l,socialContext:c,socialContextColor:d,topic:h,withSocialContext:u}=this.props;if(!u||!c||Vt.a.isPromoted(l))return null;const{featureSwitches:p}=this.context,m=t&&!this._getIsConversationStart(),{contextType:w,isSelfRetweet:_,landingUrl:b,name:g,screenName:C,text:v,topicContext:f}=c,y=b?Object(X.b)(b):void 0;if(f&&h&&function({featureSwitches:e,isExpanded:t,topic:n,topicContext:o}){return Object(dn.c)(o)&&t&&n.not_interested&&(!(e.getStringValue("topics_context_controls_implicit_variation")in pn)||e.isTrue("topics_context_controls_implicit_context_x_enabled"))}({featureSwitches:p,isExpanded:o,topic:h,topicContext:f}))return r.a.createElement(mn,{onUndoTopicNotInterestedClick:a});const T={contextType:w,iconSize:"large",withLeftPadding:this.context.featureSwitches.isTrue("social_context_and_topic_context_refresh_alignment_enabled")?m||!1:!m&&!o,text:v},k=f&&h?function(e){var t;const{featureSwitches:n,iconSize:o,injectedFeedbackItem:i,isExpanded:a,socialContext:l,topic:c,withLeftPadding:d}=e,{contextType:h,landingUrl:u,topicContext:p}=l,m=u?Object(X.b)(u):void 0,w=p&&Object(dn.b)(p),_=p&&Object(dn.c)(p),b=n.isTrue("media_edge_to_edge_content_enabled"),g=b?we.a.TextOnly:we.a.Topic,C=null==i||null==(t=i.markNotInterestedTopic)?void 0:t.onClick,v=p?Object(sn.a)(p):void 0,f=null!=p&&p.bannerText?r.a.createElement(s.a,p.bannerText):l.text;if(w&&n.getStringValue("topics_context_controls_followed_variation")in pn){const e=pn[n.getStringValue("topics_context_controls_followed_variation")];return{iconSize:o,contextType:g,rightControl:r.a.createElement(wn,{bannerText:l.topicContext&&l.topicContext.bannerText,label:e,link:m,linkText:l.topicContext&&l.topicContext.linkText,topic:c}),withBottomBorder:!1,withLeftPadding:!(n.isTrue("social_context_and_topic_context_refresh_alignment_enabled")||b),topicData:v,text:f}}if(_){if(n.getStringValue("topics_context_controls_implicit_variation")in pn){var y;const e=pn[n.getStringValue("topics_context_controls_implicit_variation")];return{iconSize:o,contextType:g,rightControl:r.a.createElement(wn,{bannerText:l.topicContext&&l.topicContext.bannerText,label:e,link:m,linkText:null==(y=l.topicContext)?void 0:y.linkText,onNotInterestedPress:C,topic:c,withRightControl:n.isTrue("topics_context_controls_implicit_context_x_enabled")}),topicData:v,text:f,withBottomBorder:!1,withLeftPadding:!(n.isTrue("social_context_and_topic_context_refresh_alignment_enabled")||b)}}{const e=r.a.createElement(_n,{isExpanded:a,onNotInterestedPress:C,topic:c});return a?{bottomControl:e,contextType:h,iconSize:"xLarge",iconStyle:bn.iconStyle,textColor:"text",textSize:"headline1",text:l.text,topicData:void 0,withBottomBorder:!0,withLeftPadding:d}:{contextType:h,iconSize:o,iconStyle:bn.iconStyle,rightControl:e,topicData:v,text:l.text,withBottomBorder:!0,withLeftPadding:d}}}return{contextType:h,iconSize:o,text:l.text,withLeftPadding:d}}({featureSwitches:p,iconSize:T.iconSize,injectedFeedbackItem:n,isExpanded:o,socialContext:c,topic:h,withLeftPadding:T.withLeftPadding}):T;return r.a.createElement(me.a,i()({},k,{iconColor:d,link:y,nativeID:e,onClick:w===we.a.Topic?this._handleSocialContextClick:void 0,retweetData:{name:g,screenName:C,isSelfRetweet:_},style:Mn.socialContext,testID:Ce,textColor:d,weight:"bold"}))}_renderReplyContext({nativeID:e}){var t;const{conversationPosition:n,conversationTreeMetadata:o,isFocal:i,onReplyContextClick:a,replyContext:s,tweet:l}=this.props,c=zt.a.getOriginalTweet(l),d=c.self_thread;return this._shouldShowSelfThread()||s!==on.a.ReplyContextTypes.Isolated||!c.in_reply_to_status_id_str||o&&!i||d&&n&&!n.isStart||d&&i?null:r.a.createElement(on.a,{displayTextRange:c.display_text_range,inReplyToName:c.in_reply_to_name,inReplyToScreenName:c.in_reply_to_screen_name,inReplyToStatusIdStr:c.in_reply_to_status_id_str,inReplyToUserIdStr:c.in_reply_to_user_id_str,nativeID:e,onClick:a,style:[Mn.replyContext,i&&Mn.replyContextBig],tweetPermalink:c.permalink,unmentionedUserIds:c.unmentioned_user_ids,userMentionsEntities:null==(t=c.entities)?void 0:t.user_mentions})}_renderReaderModeButton(){const{readerModeAvailable:e,tweet:t}=this.props;return e?r.a.createElement(c.a,{style:Mn.actionBarWithInlineReply},r.a.createElement(oe.a,{focalTweet:t,isExpanded:!0,readerModeAvailable:!!e})):null}_renderTweetActions({actionSize:e,displayStyle:t,nativeID:n,style:o,withAnalyticsAction:i,withCount:a}){const{allowDownvote:s,bookmarkFolderId:l,contextTweet:c,contextualClientEventInfo:d,enableKeyboardShortcuts:h,forwardPivotInfo:u,nudges:p,onLikeSuccess:m,onReplyPress:w,promotedContent:_,socialContext:b,tweet:g,withActionsDisabled:C,withRemoveFromBookmarks:v}=this.props;return this.props.withActions?r.a.createElement(Qe.a,{actionSize:e,allowDownvote:s,bookmarkFolderId:l,contextualClientEventInfo:d,displayStyle:t,enableKeyboardShortcuts:h,forwardPivotInfo:g.softIntervention||u,likeActionIconContainerRef:this._iconContainerRef,nativeID:n,nudges:p,onLikeSuccess:m,onReplyPress:w,promotedContent:_,socialContext:b,style:o,tweet:c||g,withActionsDisabled:C,withAnalyticsAction:i,withCount:a,withRemoveFromBookmarks:v}):null}_renderAvatar(e){const{onAvatarClick:t,onScreenNameClick:n,promotedContent:o,tweet:i,withAvatarLink:a,withUserAvatar:s,withUserHoverCard:l,withUserPresence:c}=this.props,d=zt.a.getOriginalTweet(i),{user:h}=d,u=zt.a.getOriginalTweet(i).user.id_str;return s?r.a.createElement(jt,{avatarRef:this._defaultInlinePromptRef,nativeID:e,onClick:t,onHoverCardScreenNameClick:n,promotedContent:o,screenName:h.screen_name,uri:h.profile_image_url_https,userId:u,withHoverCard:l&&!h.blocking,withLink:a,withNftAvatar:h.has_nft_avatar,withUserPresence:c}):null}_renderTombstoneHWTweet({actionLink:e,actionText:t,children:n,nativeID:o,style:i}){const{conversationTreeMetadata:a,onClick:s}=this.props;return r.a.createElement(c.a,{nativeID:o,style:i},r.a.createElement(Z.a,{actionLink:e,actionText:t,conversationTreeMetadata:a,inline:!0,onClick:s},n))}_renderTombstone(e,t){const{conversationTreeMetadata:n,isFocal:o,onClick:i,tweet:a}=this.props,l=zt.a.getOriginalTweet(a),{richText:d}=t;return l&&t&&d?r.a.createElement(c.a,{nativeID:e,style:Mn.spacingVertical},r.a.createElement(Z.a,{actionLink:o?void 0:l.permalink,actionText:o?void 0:xn,conversationTreeMetadata:n,inline:!0,onClick:o?void 0:i},r.a.createElement(s.a,{entities:d.entities,rtl:d.rtl,text:d.text}))):null}_hasPhoto(){const{tweet:e}=this.props,t=zt.a.getOriginalTweet(e),n=t.extended_entities&&t.extended_entities.media;return!!(n&&n.length>0)&&n.some((e=>"photo"===e.type))}_quoteTweetHasPhoto(){const{tweet:e}=this.props,t=zt.a.getOriginalTweet(e);return!!(t.quoted_status&&t.quoted_status.entities&&t.quoted_status.entities.media&&t.quoted_status.entities.media.length>0&&t.quoted_status.entities.media.some((e=>"photo"===e.type)))}_renderRichContent({nativeID:e,withRoundMediaCorners:t}){const{featureSwitches:n}=this.context;let{withActionsDisabled:o}=this.props;const{enableKeyboardShortcuts:i,forwardPivotInfo:a,inlineCalloutInfo:s,innerForwardPivotInfo:l,isFocal:c,linkableQuotedTweet:d,onCardLinkClick:h,onMediaClick:u,onQuoteTweetClick:p,preventVideoPlayback:m,promotedContent:w,quoteTweetSocialContextProps:_,quotedTweetTombstoneInfo:b,tweet:g,withAltTextBadge:C,withCardLinks:v,withInlineMedia:f,withUserHoverCard:y}=this.props,T=c?"DETAIL":"TIMELINE",k=(this._hasPhoto()||this._quoteTweetHasPhoto())&&!!Wt.b.isDesktopOS()&&!c,I=this.context.featureSwitches.isTrue("responsive_web_reactions_enabled"),E=zt.a.getOriginalTweet(g);return o=o||Object($e.b)(n,E,$e.a.VoteOnPoll),r.a.createElement(r.a.Fragment,null,r.a.createElement(an.a,{cardCacheLocationKey:T,displayMediaMetadata:c,enableKeyboardShortcuts:i,forwardPivotInfo:g.softIntervention||a,inlineCalloutInfo:s,innerForwardPivotInfo:l,isMediaMaxHeightEnabled:k,loggedInUserId:this.context.loggedInUserId,mediaAltTranslations:this.state.mediaAltTranslations,mediaCacheLocationKey:T,nativeID:e,onCardLinkClick:h,onMediaClick:u,onQuoteTweetClick:p,preventVideoPlayback:m,promotedContent:w,quoteTweetSingleImageMinAspectRatio:In,quoteTweetSocialContextProps:_,quotedTweetTombstoneInfo:b,renderQuoteTweetTombstone:e=>r.a.createElement(ne,e),singleImageMaxAspectRatio:kn,singleImageMinAspectRatio:c?.1:In,style:Mn.richContent,tweet:g,withActionsDisabled:o,withAltTextBadge:C,withCardLinks:v,withCenterCrop:!0,withCondensedQuoteTweet:!c&&zt.a.hasMedia(E,!f),withMediaTagsIcon:c,withQuoteTweetHeaderLinks:!S.canUseDOM,withQuoteTweetLink:d,withQuoteTweetMedia:f,withReactions:I,withRoundMediaCorners:t,withTweetMedia:f,withUserHoverCard:y}),this._renderBirdwatchPivot())}}Rn.contextType=_.a,Rn.displayName="Tweet",Rn.defaultProps={displayBlocked:!1,isFocal:!1,linkify:!0,onBirdwatchNotesIconClick:H.a,onModeratedIconClick:H.a,onModeratedIconShown:H.a,replyContext:on.a.ReplyContextTypes.Isolated,withActions:!1,withAltTextBadge:!0,withAvatarLink:!0,withBirdwatchPivots:!0,withCardLinks:!1,withInlineMedia:!0,withQuotedTweetLinks:!1,withRemoveFromBookmarks:!1,withSocialContext:!1,withTimestampLink:!0,withUserHoverCard:!0,withUserAvatar:!0,withUserName:!0,withTimestamp:!0};const Mn=w.a.create((e=>({replyContextBig:{marginTop:e.spaces.space12,marginBottom:0},replyContext:{marginBottom:e.spaces.space2},selfThreadCTA:{marginHorizontal:`calc(-1 * ${e.componentDimensions.gutterHorizontal})`},innerRow:{alignItems:"baseline",flexDirection:"row",flexShrink:1},actionBar:{marginTop:e.spaces.space12},actionBarFocalTweet:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small,height:e.spaces.space48},actionsBarNarrow:{minWidth:250,marginRight:"auto"},actionBarWithInlineReply:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},promoteButton:{marginTop:e.spaces.space12},tweetAnalyticsPromoteButton:{marginVertical:e.spaces.space8},promotedIndicator:{marginTop:e.spaces.space12},promotedIndicatorBelowHeader:{marginBottom:e.spaces.space8},promotedIndicatorBelowHeaderWithInteractiveHighlights:{marginBottom:e.spaces.space4},promotedDetails:{marginTop:e.spaces.space4},promotionStatus:{marginTop:e.spaces.space12},promotedUserCard:{marginTop:e.spaces.space8},richContent:{marginTop:e.spaces.space12},socialContext:{marginBottom:e.spaces.space4,marginTop:`-${e.spaces.space4}`},spacingVertical:{marginVertical:e.spaces.space4},detailItem:{paddingHorizontal:e.spaces.space4},detailItemContainer:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small,flexDirection:"row",paddingVertical:e.spaces.space16},staleEditCalloutLink:{color:e.colors.blue500},staleTweetCallout:{marginRight:"0.5em"},followTopicButton:{justifyContent:"center"},expandedTweetText:{marginTop:e.spaces.space12},footerContainer:{marginVertical:e.spaces.space16},footerContent:{alignItems:"center",flexDirection:"row",justifyContent:"space-between"},footerIcons:{flexDirection:"row"},interactiveHighlightSpacer:{marginTop:e.spaces.space8},edgeToEdgeTextSpacer:{marginTop:e.spaces.space4},readerBottomBar:{borderBottomColor:e.colors.nestedBorderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,marginTop:e.spaces.space20,width:e.spaces.space32},timeLocSource:{marginRight:e.spaces.space12},topicFollowPrompt:{marginBottom:e.spaces.space12,marginTop:`-${e.spaces.space8}`}})));t.b=Q(Rn)},CUXw:function(e,t,n){"use strict";var o=n("97Jx"),i=n.n(o),a=(n("kYxP"),n("ERkP")),r=n.n(a),s=n("XOJV"),l=n("E0cF"),c=n("rxPX"),d=n("0KEI");const h=(e,t)=>t.tweetId;var u=Object(c.a)().propsFromState((()=>({tweet:s.a.createHydratedTweetSelector(h)}))).adjustStateProps((({tweet:e})=>({originalTweet:e&&l.a.getOriginalTweet(e)||e,tweet:e}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(d.createLocalApiErrorHandlerWithContextFactory)("TWEET_SELECT_CONTEXT")}))),p=n("3XMw"),m=n.n(p),w=n("x5Pi"),_=n("fs1G"),b=n("kXdP"),g=n("BLtI"),C=n("MWbm"),v=n("htQn"),f=n("Znyr"),y=n("kY28"),T=n("rHpw"),k=n("v6aA"),I=n("6Rrp"),E=n("0ULw"),x=n("pu5c");const S=m.a.h6beb5fb,P=e=>e&&e.preventDefault();class A extends r.a.PureComponent{constructor(...e){super(...e),this._renderDisabledTweet=e=>r.a.createElement(C.a,{style:L.root},this._renderContent(),r.a.createElement(C.a,{style:L.disabledTweetMask}),r.a.createElement(C.a,{style:[L.disabledIconWrapper,L.iconMargins]},r.a.createElement(b.a,{hoverText:e},O,r.a.createElement(C.a,{style:L.disabledTweetMask})))),this._renderContent=()=>{const{replyContext:e,tweet:t,withActions:n}=this.props;if(t){var o;const i=Object(w.f)(t,this.context.loggedInUserId);return r.a.createElement(C.a,{style:L.tweet},r.a.createElement(g.b,{excludeCardUrl:null==(o=t.card)?void 0:o.url,linkableQuotedTweet:!0,onAnalyticsClick:_.a,onAvatarClick:_.a,onEntityClick:_.a,onMediaClick:P,onReplyContextClick:_.a,preventVideoPlayback:!0,replyContext:e,socialContext:i,tweet:t,withActions:n,withActionsDisabled:!0,withSocialContext:!0}))}return null},this._renderSelectIcon=e=>e?r.a.createElement(I.a,{style:[L.icon,L.iconMargins,L.iconCheckmark]}):r.a.createElement(E.a,{style:[L.icon,L.iconMargins]}),this._handleOnClick=()=>{const{onClick:e,originalTweet:t,tweetId:n}=this.props;if(e){e((null==t?void 0:t.id_str)||n)}}}render(){const{disabledMessage:e,isPartOfDraggedSelection:t,isSelected:n,showDragCount:o,tweet:i,withSelectIcon:a}=this.props;return e?this._renderDisabledTweet(e):i?r.a.createElement(v.a,{onPress:this._handleOnClick,style:L.root},this._renderDragCount(o),this._renderContent(),a?this._renderSelectIcon(n):null,t&&r.a.createElement(C.a,{style:L.disabledTweetMask})):null}_renderDragCount(e){return e<2?null:r.a.createElement(C.a,{style:L.countBadgeContainer},r.a.createElement(f.a,{count:e,standalone:!0,style:L.countBadge,truncatedCountFormatter:S,unreadCountLabel:()=>"",withBorder:!1}))}}A.contextType=k.a,A.defaultProps={replyContext:y.a.ReplyContextTypes.Isolated,withActions:!0,withSelectIcon:!0,showDragCount:0,isPartOfDraggedSelection:!1,isSelected:!1};const L=T.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,flexDirection:"row"},tweet:{flex:1},disabledTweetMask:{...T.a.absoluteFillObject,backgroundColor:e.colors.navigationBackground,opacity:"50%"},disabledIconWrapper:{height:"100%"},icon:{color:e.colors.gray700},iconMargins:{marginTop:e.spaces.space12,marginRight:e.spaces.space12},iconCheckmark:{color:e.colors.green500},countBadge:{height:e.spaces.space32,width:e.spaces.space32},countBadgeContainer:{height:e.spaces.space32,width:e.spaces.space32,position:"absolute",right:`-${e.spaces.space16}`,top:`-${e.spaces.space16}`}}))),O=r.a.createElement(x.a,{style:L.icon}),D=r.a.forwardRef(((e,t)=>r.a.createElement(A,i()({},e,{ref:t})))),R=u.forwardRef(D);t.a=R},"Fcw+":function(e,t,n){"use strict";n.r(t);var o=n("ezF+"),i=n("VPAj"),a=n("ERkP"),r=n.n(a),s=n("kY28"),l=n("CUXw");const c=({entry:{content:{id:e},index:t},onClick:n,selectedTweetIds:o,withSelectIcon:i})=>r.a.createElement(l.a,{index:t,isSelected:null==o?void 0:o.includes(e),onClick:n,replyContext:s.a.ReplyContextTypes.None,tweetId:e,withActions:!1,withSelectIcon:i});var d=r.a.memo(c);t.default=e=>o.b({component:d,isClickable:Object(i.a)(!0),isFocusable:Object(i.a)(!0),shouldDisplayBorder:Object(i.a)(!0)}).getHandler((()=>({...e})))},GUcm:function(e,t,n){"use strict";n.r(t);var o=n("ezF+"),i=n("VPAj"),a=n("ERkP"),r=n.n(a),s=n("b5s6"),l=n("nBUg"),c=n("rHpw");const d={isCarouselItem:()=>!0},h=({entry:e})=>{const{forwardPivot:t,id:n}=e.content;return r.a.createElement(l.b.Provider,{value:d},r.a.createElement(s.a,{forwardPivotInfo:t,isCondensed:!0,style:u.carouselQuoteTweet,tweetId:n}))},u=c.a.create((e=>({carouselQuoteTweet:{marginHorizontal:e.componentDimensions.gutterHorizontal,marginTop:0,marginBottom:0,marginRight:0,marginLeft:e.spaces.space12,height:"172px"}})));var p=r.a.memo(h),m=n("M6G0");t.default=e=>o.b({component:p,divider:e.divider||{},defaultScribeNamespace:m.a,getBehavioralEventContextOverride:m.c,getScribeDataItem:m.d,isFocusable:Object(i.a)(!0),shouldDisplayBorder:Object(m.f)(!0)}).getHandler((()=>({...e})))},JUsM:function(e,t,n){"use strict";n("kYxP");var o=n("ERkP"),i=n.n(o),a=n("t62R"),r=n("rHpw"),s=n("shC7"),l=n("MWbm");const c=r.a.create((e=>({root:{flexDirection:"row",backgroundColor:e.colors.navigationBackground,borderStyle:"solid",borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.large,borderColor:e.colors.gray50,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,justifyContent:"space-between"},containerDown:{marginTop:e.spaces.space12},containerUp:{marginTop:e.spaces.space20},text:{flexShrink:1,alignSelf:"center",alignItems:"flex-start"},actionsContainer:{flexDirection:"row",alignItems:"center",marginLeft:e.spaces.space12},arrowContainer:{position:"absolute",display:"flex",width:"100%",alignItems:"center"},arrowDirectionUp:{top:`calc(-${e.spaces.space8} + ${e.spaces.space1})`},arrowDirectionDown:{bottom:`calc(-${e.spaces.space8} + ${e.spaces.space1})`},arrow:{borderStyle:"solid",borderTopWidth:0,borderRightWidth:e.spaces.space1,borderBottomWidth:e.spaces.space1,borderLeftWidth:0,borderColor:e.colors.gray50,width:e.spaces.space12,height:e.spaces.space12,backgroundColor:e.colors.navigationBackground}})));t.a=({containerRef:e,primaryAction:t,secondaryAction:n,text:o})=>{const[r,d]=i.a.useState(void 0),h=s.a.getConstants().isRTL,u=i.a.useRef(0),p=i.a.useRef(0),m=(()=>{if(null!=e&&e.current&&r){const{left:t,top:n,width:o}=e.current.getBoundingClientRect();u.current=n;const i=t+o/2-r;return{left:h?void 0:i,right:h?i:void 0}}})(),w=p.current<u.current,_=w?[c.arrowDirectionDown]:[c.arrowDirectionUp],b=w?h?{transform:"rotate(-45deg)"}:{transform:"rotate(45deg)"}:h?{transform:"rotate(135deg)"}:{transform:"rotate(-135deg)"},g=w?[c.containerDown]:[c.containerUp];return i.a.createElement(l.a,{accessibilityRole:"text",onLayout:e=>{const{nativeEvent:{layout:{left:t,top:n,width:o}}}=e;p.current=n;d(t+o/2)},style:[c.root,g]},null!=e&&e.current?i.a.createElement(l.a,{style:[_,c.arrowContainer,m]},i.a.createElement(l.a,{style:[c.arrow,b]})):null,i.a.createElement(a.b,{style:c.text},o),i.a.createElement(l.a,{style:c.actionsContainer},t,n))}},KQRq:function(e,t,n){"use strict";n.r(t);var o=n("ezF+"),i=n("VPAj"),a=n("97Jx"),r=n.n(a),s=n("ERkP"),l=n.n(s),c=n("P1oR"),d=n("Zejx"),h=n("rxPX");const u=(e,{module:t})=>{var n;const o=t.selectMetadata(e);return(null==o||null==(n=o.reader_mode_config)?void 0:n.is_reader_mode_available)||!1},p=(e,{entry:t})=>{var n;return null!=(n=t.content.socialContext)&&n.topicContext?d.a.select(e,t.content.socialContext.topicContext.topicId):void 0};var m=Object(h.a)().propsFromState((()=>({readerModeAvailable:u,topic:p}))).propsFromActions((({module:e})=>({applyFeedbackAction:e.applyFeedbackAction}))),w=n("M6G0"),_=n("x5Pi"),b=n("Irs7"),g=n("Qtnm");var C=m((({allowDownvote:e,applyFeedbackAction:t,createAdditionalProps:n=Object(i.a)({}),dismissable:o=!1,entry:a,feedbackItems:s,readerModeAvailable:d,topic:h})=>{const u=Object(b.b)(),{content:{conversation_annotation:p,forwardPivot:m,hasModeratedReplies:C,id:v,innerForwardPivot:f,innerTombstoneInfo:y,nudges:T,replyBadge:k,socialContext:I,topicFollowPrompt:E},conversationPosition:x,referringContext:{contextTweetId:S,contextualClientEventInfo:P,hideMedia:A,promotedContent:L,socialContext:O,topicFollowPrompt:D}={}}=a,{onTweetDismiss:R}=Object(g.a)(u,t,a,s,o),M=l.a.useMemo((()=>Object(w.e)(u.contextualScribeNamespace,P,x)),[u.contextualScribeNamespace,P,x]),F=l.a.useMemo((()=>Object(_.d)({socialContext:I,topic:h})),[I,h]),U=n(a,{readerModeAvailable:d,topic:h},{applyFeedbackAction:t});return l.a.createElement(c.a,r()({allowDownvote:e,contextTweetId:S,conversationAnnotation:p,forwardPivotInfo:m,hasModeratedReplies:C,innerForwardPivotInfo:f,nudges:T,onTweetDismiss:R,promotedContent:L,quotedTweetTombstoneInfo:y,readerModeAvailable:d,replyBadge:k,scribeData:u.contextualScribeData,scribeNamespace:M,socialContext:F||O,topicFollowPrompt:E||D,tweetId:v,withActions:!0,withInlineMedia:!A,withSocialContext:!0},U))}));t.default=e=>o.b({component:C,divider:e.divider||{},defaultScribeNamespace:w.a,getBehavioralEventContextOverride:w.c,getScribeDataItem:w.d,isFocusable:Object(i.a)(!0),shouldDisplayBorder:Object(w.f)(!1)}).getHandler((()=>({...e})))},LWCC:function(e,t,n){"use strict";n("kYxP");var o=n("ERkP"),i=n.n(o),a=n("Zejx"),r=n("rxPX"),s=n("0KEI");var l=Object(r.a)().propsFromActions((()=>({createLocalApiErrorHandler:Object(s.createLocalApiErrorHandlerWithContextFactory)("FOLLOW_TOPIC_BUTTON"),follow:a.a.follow,unfollow:a.a.unfollow}))).withAnalytics(),c=n("CGyZ"),d=n("PbbS"),h=n("3XMw"),u=n.n(h),p=n("sUoZ"),m=n("Tp1h"),w=n("Jkc4"),_=n("TnY3");const b=Object.freeze({follow:u.a.i79ab12a,following:u.a.d960b55c,unfollow:u.a.c0f56044}),g=Object.freeze({follow:u.a.fcf51fe6,following:u.a.e9a90d72,unfollow:u.a.bf403716,confirmationHeadline:u.a.c9f08e29,confirmationSheetText:u.a.abc600f4}),C=Object.freeze({follow:u.a.cd876e02,following:u.a.f2816e02,unfollow:u.a.f5b04fbc,confirmationHeadline:u.a.c481ae3f,confirmationSheetText:u.a.aa3ba124}),v=Object.freeze({follow:u.a.e0e730b0,following:u.a.e0e730b0,unfollow:u.a.b1850062,confirmationHeadline:u.a.gd3f996f,confirmationSheetText:u.a.i36c403c});class f extends i.a.Component{constructor(...e){super(...e),this._getDisplayMode=e=>void 0===this._getFollowButtonIcon(e)?"only-text":"icon-text",this._getFollowButtonIcon=e=>{switch(e){case d.a.Favorite:case d.a.Star:case d.a.Interested:return i.a.createElement(p.a,null);case d.a.FollowTopic:case d.a.Default:default:return}},this._getFollowingButtonIcon=e=>"icon-text"===this._getDisplayMode(e)?i.a.createElement(i.a.Fragment,null):void 0,this._getButtonText=e=>{const{topic:t}=this.props;switch(e){case d.a.FollowTopic:return{follow:b.follow,unfollow:b.unfollow,following:b.following};case d.a.Favorite:return{follow:C.follow,unfollow:C.unfollow,following:C.following,confirmationHeadline:C.confirmationHeadline&&C.confirmationHeadline({title:t.name}),confirmationSheetText:C.confirmationSheetText};case d.a.Star:return{follow:g.follow,unfollow:g.unfollow,following:g.following,confirmationHeadline:g.confirmationHeadline&&g.confirmationHeadline({title:t.name}),confirmationSheetText:g.confirmationSheetText};case d.a.Interested:return{follow:v.follow,unfollow:v.unfollow,following:v.following,confirmationHeadline:v.confirmationHeadline&&v.confirmationHeadline({title:t.name}),confirmationSheetText:v.confirmationSheetText};case d.a.Default:default:return}},this._handleOnFollow=()=>{const{createLocalApiErrorHandler:e,educateOnFollow:t,follow:n,history:o,topic:i}=this.props;n(i.id).catch(e()),this._handleScribe("follow"),t&&i&&o.push({pathname:"/i/topics/education",state:{topicName:i.name}})},this._handleOnUnfollow=()=>{const{createLocalApiErrorHandler:e,topic:t,unfollow:n}=this.props;n(t.id).catch(e()),this._handleScribe("unfollow")}}render(){const{ariaDescribedBy:e,isTransparent:t,nativeID:n,showRelationshipChangeConfirmation:o,size:a,style:r,textMode:s,topic:{following:l,name:d}}=this.props;return i.a.createElement(w.a,{customText:d,displayMode:m.a.topic},(h=>i.a.createElement(c.a,{accessibilityDescribedBy:e,buttonIcons:{followIcon:this._getFollowButtonIcon(s),followingIcon:this._getFollowingButtonIcon(s)},buttonText:this._getButtonText(s),displayMode:this._getDisplayMode(s),isFollowing:l,isTransparent:t,name:d,nativeID:n,onFollow:h(this._handleOnFollow),onUnfollow:h(this._handleOnUnfollow),showRelationshipChangeConfirmation:o,size:a,style:r,type:"topic",withConfirmationSheetText:l})))}_handleScribe(e){const{analytics:t}=this.props;t.scribe({element:"topic",action:e})}}f.defaultProps={size:"small",textMode:d.a.Default};t.a=Object(_.a)(l(f))},M6G0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return d}));var o=n("Rp9C");const i={component:"tweet"},a={component:"thread"},r={serversideContextType:"tweet"},s=e=>{var t,n,o;const i=null!=(t=e.content.retweetedStatusId)?t:e.content.id,a={...r,serversideContextId:i};return{viewType:e.type,token:null==(n=e.itemMetadata)||null==(o=n.clientEventInfo)?void 0:o.entityToken,clientEntity:a}},l=(e=!1)=>t=>{const{conversationPosition:n,conversationTreeMetadata:o}=t;return!(e||n&&!n.isEnd&&(!o||!1!==o.descendantConnector||0!==o.indents.filter((e=>"line"===e.displayType)).length))},c=e=>o.a.getTweetURTEntryItem(e),d=(e,t,n)=>({...e,section:"descendant"===(null==n?void 0:n.position)?"conversation_descendants":"ancestor"===(null==n?void 0:n.position)?"conversation_ancestors":e.section,component:(null==t?void 0:t.component)||e.component,action:(null==t?void 0:t.action)||e.action,element:(null==t?void 0:t.element)||e.element})},OKMS:function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),a=n("Lsrn"),r=n("k/Ka");const s=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[a.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M17.296 2.642c-2.068-1.17-4.464-1.62-6.816-1.283C8.13 1.692 5.956 2.8 4.3 4.5c-1.658 1.707-2.704 3.91-2.976 6.27-.27 2.357.245 4.738 1.468 6.77.005.01.008.02.01.03 0 .01-.002.017-.004.025L1.12 21.2c-.11.232-.145.49-.103.742.043.254.162.488.343.67.18.184.412.307.665.353.253.047.514.014.747-.094l3.63-1.67h.01l.01.01.01.005c1.68 1.01 3.606 1.542 5.567 1.537 2.373 0 4.68-.783 6.562-2.232 1.882-1.45 3.23-3.482 3.836-5.778.604-2.298.432-4.73-.49-6.92-.925-2.188-2.548-4.01-4.614-5.178zM12 7.25c-2.623 0-4.75 2.127-4.75 4.75s2.127 4.75 4.75 4.75 4.75-2.127 4.75-4.75S14.623 7.25 12 7.25zM5.75 12c0-3.452 2.798-6.25 6.25-6.25s6.25 2.798 6.25 6.25-2.798 6.25-6.25 6.25S5.75 15.452 5.75 12zm5.5-2.5c0-.414.336-.75.75-.75 1.794 0 3.25 1.455 3.25 3.25 0 .413-.337.75-.75.75-.415 0-.75-.337-.75-.75 0-.967-.784-1.75-1.75-1.75-.414 0-.75-.336-.75-.75z"})));s.metadata={width:24,height:24},t.a=s},OOKO:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("ERkP"),i=n.n(o),a=n("rHpw"),r=n("MWbm");function s({spacing:e}){return i.a.createElement(r.a,{accessibilityRole:"separator",style:[l.divider,{marginVertical:null!=e?a.a.theme.spaces[e]:void 0}]})}const l=a.a.create((e=>({divider:{backgroundColor:e.colors.borderColor,height:e.borderWidths.small}})))},Olb6:function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),a=n("3XMw"),r=n.n(a),s=n("5cUs"),l=n("wwsH");const c=r.a.d9fd5570,d={viewType:"hidden_replies"};t.a=({link:e,onPress:t})=>i.a.createElement(l.a,{Icon:s.a,accessibilityLabel:c,activeColor:"primary",behavioralEventContext:d,link:e,onPress:t})},P1oR:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ne}));var o=n("97Jx"),i=n.n(o),a=(n("kYxP"),n("Cm4o"),n("KrtT"),n("ERkP")),r=n.n(a),s=n("TZwD"),l=n("6rlp"),c=n("RqPI"),d=n("1YZw"),h=n("eSoz"),u=n("0pUJ"),p=n("SrIh"),m=n("Fmkq"),w=n("j7tW"),_=n("Zejx"),b=n("XOJV"),g=n("G6rE"),C=n("xZGM"),v=n("Ig1G"),f=n("jL08"),y=n("rxPX"),T=n("0KEI"),k=n("EGrD"),I=n("x5Pi"),E=n("Z6aJ"),x=n("P1r1");const S=(e,t)=>Object(w.b)(e,t.tweetId),P=(e,t)=>t.tweetId,A=(e,t)=>t.contextTweetId,L=(e,t)=>{const{promotedContent:n,tweetId:o}=t;if(n&&n.advertiser)return g.e.select(e,n.advertiser.id_str);if(n&&E.a.isPromoted(n)){const{advertiser_name:e}=n;Object(p.a)("No advertiser info for non-URT promoted tweet",{extra:{advertiser_name:e,tweetId:o}})}},O=(e,t)=>t.socialContext,D=(e,{socialContext:t})=>{const n=t&&t.topicContext;return n?_.a.select(e,n.topicId):void 0},R=(e,t)=>{const n=b.a.createHydratedTweetSelector(P)(e,t);return null!=n&&n.community_id_str?h.c.select(e,null==n?void 0:n.community_id_str):void 0},M=(e,t)=>{const n=b.a.createHydratedTweetSelector(P)(e,t),o=null==n?void 0:n.quoted_status,i=null==o?void 0:o.community_id_str;return i?h.c.select(e,i):void 0},F=(e,t)=>"PUSH"===t.history.action,U=(e,t)=>Object(C.E)(e,C.l),B=(e,t)=>Object(C.C)(e,C.l);var N=Object(y.a)().propsFromState((()=>({adFreeArticleDomains:k.c,articleDomains:f.b,community:R,contextTweet:b.a.createHydratedTweetSelector(A),daysSinceDownvoteEducation:B,displaySensitiveMedia:x.k,explicitSocialContext:O,isForwardNavigation:F,isNsfwUser:x.t,isPinned:S,loggedInUser:g.e.selectLoggedInUser,promotedContentAdvertiser:L,quoteTweetCommunity:M,shouldShowDownvoteFullscreenEducation:U,topic:D,tweet:b.a.createHydratedTweetSelector(P),userCountry:c.A,userLanguage:c.q}))).adjustStateProps((({adFreeArticleDomains:e,articleDomains:t,community:n,contextTweet:o,daysSinceDownvoteEducation:i,displaySensitiveMedia:a,explicitSocialContext:r,isForwardNavigation:s,isNsfwUser:l,isPinned:c,loggedInUser:d,promotedContentAdvertiser:h,quoteTweetCommunity:u,shouldShowDownvoteFullscreenEducation:p,topic:m,tweet:w,userCountry:_,userLanguage:b})=>{var g,C,y;const T=o?Object(I.f)(o,null==d?void 0:d.id_str,n):w?Object(I.f)(w,null==d?void 0:d.id_str,n):void 0,k=null==w||null==(g=w.card)||null==(C=g.binding_values)||null==(y=C.domain)?void 0:y.string_value,E=Object(f.a)(t,k),x=null==w?void 0:w.quoted_status,S=x?Object(I.f)(x,null==d?void 0:d.id_str,u):void 0,P=S&&Object(I.e)(S),A=Object(v.g)(null==n?void 0:n.role),L=r||T;return{adFreeArticleDomains:e,community:n,contextTweet:o,daysSinceDownvoteEducation:i,displaySensitiveMedia:a,isCardArticle:E,isForwardNavigation:s,isNsfwUser:l,isPinned:c,loggedInUser:d,promotedContentAdvertiser:h,quoteTweetSocialContextProps:P,shouldShowDownvoteFullscreenEducation:p,socialContext:L,socialContextColor:Object(v.j)(n,L),topic:m,tweet:w,userCountry:_,userLanguage:b,withCommunityModerationAuthority:A}})).propsFromActions((()=>({addFlag:C.A,addToast:d.b,block:g.e.block,createLocalApiErrorHandler:Object(T.createLocalApiErrorHandlerWithContextFactory)("TWEET_DETAIL_CONTAINER"),fetchAdFreeToken:k.a,fetchCommunityIfNeeded:h.c.fetchOneIfNeeded,fetchTopicIfNeeded:_.a.fetchOneIfNeeded,loadAdFreeArticleDomainsFromPersistence:k.b,log:l.a,mute:u.a,updateHeadsUp:b.a.updateHeadsUp,updateLongformNotesLearnMoreBanner:b.a.updateLongformNotesLearnMoreBanner,richScribeAction:m.richScribeAction,setArticlesVisited:f.e,unblock:g.e.unblock,undoTopicNotInterested:_.a.undoNotInterested,unmute:g.e.unmute}))),H=n("zb92");var j=Object(H.a)({loader:()=>n.e(260).then(n.bind(null,"5Yok"))}),W=n("IqLm"),z=n("Irs7"),V=n("MWbm"),q=n("3XMw"),G=n.n(q),K=n("4zmP"),Q=n("rHpw");const X=G.a.c9370e46,$=G.a.b4e042ba,J=G.a.i859a9d4,Y=Q.a.create((e=>({root:{borderTopWidth:e.borderWidths.small,borderColor:e.colors.borderColor,borderStyle:"solid"},callout:{margin:e.spaces.space8,width:"auto"}})));var Z=e=>{const{onAction:t,onClose:n}=e,o=Object(z.b)();r.a.useEffect((()=>{o.scribe({section:"reply_voting_nux",element:"pre_downvote",action:"impression"})}),[o]);const i=r.a.createElement(G.a.I18NFormatMessage,{$i18n:"id9ba4fb"},r.a.createElement(W.a,{accessibilityLabel:$}));return r.a.createElement(V.a,{style:Y.root},r.a.createElement(K.a,{action:{label:J,link:""},headline:X,onAction:t,onClose:n,style:Y.callout,text:i,withCloseButton:!0}))},ee=n("6bZg"),te=n("sCEu"),ne=n("RuTB");var oe=Object(H.a)({loader:()=>Promise.all([n.e(0),n.e(6),n.e(60),n.e(181)]).then(n.bind(null,"x8Sc")),renderPlaceholder:(e,t)=>r.a.createElement(ne.a,{hasError:e,onRetry:t})});var ie=Object(H.a)({loader:()=>Promise.all([n.e(0),n.e(2),n.e(3),n.e(4),n.e(187)]).then(n.bind(null,"RrO2")),renderPlaceholder:(e,t)=>r.a.createElement(ne.a,{hasError:e,onRetry:t})}),ae=n("iFPY"),re=n("hACr"),se=n("Nh1N"),le=n("FGLp");const ce=G.a.de21174c,de=G.a.haebcf52,he=G.a.i859a9d4,ue=Q.a.create((e=>({callout:{marginVertical:e.spaces.space8,marginHorizontal:e.spaces.space16}})));var pe=()=>{const e=Object(z.b)();return Object(le.a)((()=>{e.scribe({element:"left_conversation_banner",action:"impression"})})),r.a.createElement(V.a,{style:ue.callout},r.a.createElement(K.a,{Icon:se.a,action:{label:he,link:"https://help.twitter.com/using-twitter/mentions-and-replies#mention-control"},headline:ce,text:de,type:"primary"}))},me=n("jQy5"),we=n("vMOa"),_e=n("Rp9C"),be=n("xM7j"),ge=n("BLtI"),Ce=n("3zeG"),ve=n("aITJ"),fe=n("TnY3"),ye=n("mqpi"),Te=n("v6aA"),ke=n("E0cF"),Ie=n("OIC0"),Ee=n("+pKb"),xe=n("/Ikv"),Se=n("7JQg"),Pe=n("cFuS"),Ae=n("24HD"),Le=n("fz3c"),Oe=n("4hQ9"),De=n("zTrU"),Re=n("mN6z"),Me=n("ONCy"),Fe=n("Cqiq");const Ue=G.a.f277e94a;class Be extends r.a.Component{constructor(...e){var t,n;super(...e),this.state={displayReported:!1,enableKeyboardShortcuts:!1,showDownvoteFullscreenFromInline:!1,replyPressToggle:!1,showBlockOrUnblockConfirmation:!1},this._shouldDisable=ye.b.bind(null,this.context.featureSwitches),this._downvoteEnabled=this.context.featureSwitches.isTrue("rweb_reply_downvote_enabled"),this._isArticleNudgeEnabled=this.context.featureSwitches.isTrue("responsive_web_article_nudge_enabled"),this._isCommunitiesEnabled=this.context.featureSwitches.isTrue("c9s_enabled"),this._hasClaimsForAdFreeArticles=null==(t=this.context.userClaims)?void 0:t.isTrueAndEnabled("subscriptions_feature_1006"),this._conversationHeadsUpFSValue=null==(n=this.context.featureSwitches)?void 0:n.getStringValue("conversational_safety_heads_up_treatment_A_enabled"),this._downvoteNuxDays=this.context.featureSwitches.getNumberValue("rweb_reply_downvote_nux_inline_days"),this._twitterArticleLearnMoreBannerEnabled=this.context.featureSwitches.isTrue("responsive_web_twitter_article_view_enabled"),this._getScribeData=Object(De.a)(((e,t,n)=>{const o=function(e,t,n){return{...n||{},items:_e.a.addTweetToItems(n?n.items:[],e,t)}}(e,t,n);return this._cachedScribeData&&Object(Re.a)(o,this._cachedScribeData)||(this._cachedScribeData=o),this._cachedScribeData})),this._renderConversationControlsTooltip=()=>{const{loggedInUserId:e}=this.context,{tweet:t}=this.props;if(!t)return!1;const n=ke.a.getOriginalTweet(t),o=!!n.community_id_str,i=n.user.id_str===e,a=n.reply_count>0;return i&&a&&!n.in_reply_to_status_id_str&&!o},this._renderBlockOrUnblockConfirmationSheet=()=>{const{tweet:e}=this.props;if(!e)return null;const{user:t}=e;return Object(Ae.j)({confirmation:Object(Ae.h)(t),onClose:this._handleBlockOrUnblockConfirmClose,handleConfirm:this._handleBlockOrUnblockUserConfirm})},this._shouldShowDownvoteInlineEducation=()=>{const{daysSinceDownvoteEducation:e}=this.props;return this._allowDownvoteEducations()&&null!==e&&e>=this._downvoteNuxDays},this._shouldShowDownvoteFullscreenEducation=()=>{const{isForwardNavigation:e,shouldShowDownvoteFullscreenEducation:t}=this.props;return e&&this._allowDownvoteEducations()&&t},this._allowDownvoteEducations=()=>{const{loggedInUser:e,tweet:t}=this.props,n=new Date;n.setDate(n.getDate()-14);const o=e&&new Date(null==e?void 0:e.created_at)<n;return this._downvoteEnabled&&e&&o&&t&&t.reply_count>=10&&!t.self_thread&&!t.softIntervention&&!t.tombstoneInfo},this._getInlineCalloutInfo=()=>{const{displaySensitiveMedia:e,isNsfwUser:t,scribeNamespace:n,tweet:o,userCountry:i,userLanguage:a}=this.props,{featureSwitches:r,loggedInUserId:s}=this.context;if(o&&Object(Oe.e)({displaySensitiveMedia:e,featureSwitches:r,isNsfwUser:t,loggedInUserId:s,tweet:o,userCountry:i,userLanguage:a}))return Object(Oe.d)(o,n,r)},this._handleReplyPress=()=>{this.setState({replyPressToggle:!this.state.replyPressToggle})},this._handleModeratedIconClick=()=>this._scribeAction({element:"moderated_replies_icon",action:"click"}),this._handleModeratedIconShown=()=>this._scribeAction({element:"moderated_replies_icon",action:"impression"}),this._handleBirdwatchNotesIconClick=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"click"}),this._handleBirdwatchNotesIconShown=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"impression"}),this._handleFocus=()=>{this.setState({enableKeyboardShortcuts:!0})},this._handleBlur=()=>{this.setState({enableKeyboardShortcuts:!1})},this._handleShowReportedTweet=()=>{this.setState({displayReported:!0})},this._getShortcutKeyHandlers=()=>{const{onClick:e,shortcutKey:t}=this._getMuteOrUnmuteAction(),{shortcutKey:n}=this._getBlockOrUnblockAction(),{loggedInUserId:o}=this.context,{tweet:i}=this.props;if(!i)return{};const a=i.user.id_str===o;return{...t&&{[t]:e},...n&&!a&&{[n]:this._handleBlockOrUnblockConfirmOpen}}},this._handleBlockOrUnblockConfirmOpen=()=>{this.setState({showBlockOrUnblockConfirmation:!0})},this._handleBlockOrUnblockConfirmClose=()=>{this.setState({showBlockOrUnblockConfirmation:!1})},this._handleBlockOrUnblockUserConfirm=()=>{const{onClick:e}=this._getBlockOrUnblockAction();this._handleBlockOrUnblockConfirmClose(),e&&e()},this._getBlockOrUnblockAction=()=>{const{addToast:e,block:t,contextualBehavioralEventInfo:n,createLocalApiErrorHandler:o,promotedContent:i,tweet:a,unblock:r}=this.props;if(!a)return{};const{user:l}=a,c={addToast:e,behavioralEventEntityToken:null==n?void 0:n.entityToken,createLocalApiErrorHandler:o,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(s.a)({...c,block:t,unblock:r,user:l,promotedContent:i})},this._getMuteOrUnmuteAction=()=>{const{addToast:e,contextualBehavioralEventInfo:t,createLocalApiErrorHandler:n,mute:o,promotedContent:i,tweet:a,unmute:r}=this.props;if(!a)return{};const{user:s}=a,l={addToast:e,behavioralEventEntityToken:null==t?void 0:t.entityToken,createLocalApiErrorHandler:n,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(me.a)({...l,mute:o,unmute:r,user:s,promotedContent:i})},this._getRenderCurationActionMenu=Object(De.a)(((e,t,n,o,i,a,s,l,c,d,h,u,p,m,w,_)=>()=>!!c&&r.a.createElement(Ce.a,{behavioralEventEntityToken:m,forwardPivotDisplayType:e,isNsfwUser:n,isPinned:o,onDeleteTweet:()=>{const{fromApp:e,usedFallback:n}=i.state||{};e&&!n?t.goBack():t.push("/")},onMenuClick:a,onTweetDismiss:s,promotedContent:l,tweet:c,userCountry:w,userLanguage:_,withChangeConversationControls:d,withChangeConversationControlsTooltip:h,withCommunityModerationAuthority:p,withHideReply:u,withMuteConversation:!0,withViewHiddenReplies:!0}))),this._scribeAction=(e,t,n,o)=>{const{promotedContent:i,richScribeAction:a,scribeNamespace:r,tweet:s}=this.props,l=s?_e.a.forTweet(s,i):void 0,c=o?{...l,article_details:{is_ad_free:o}}:l;a({...r,...e},{items:c?[c]:[],...Object(Me.a)(n?{click_tracking_embed_details:n}:null),...t})},this._handleReplyContextClick=(e,t)=>{this._scribeAction({element:"reply_context",action:"click"},{event_value:t})},this._handlePromotedIndicatorClick=()=>{this._handleAsyncPromotedEvent(Pe.b.FOOTER_PROFILE)},this._handleMediaClick=()=>{this._scribeAction({element:"platform_photo_card",action:"click"}),this._handleAsyncPromotedEvent(Pe.b.EMBEDDED_MEDIA)},this._handleEntityClick=(e,t,n)=>{const{adFreeArticleDomains:o,createLocalApiErrorHandler:i,fetchAdFreeToken:a,tweet:r}=this.props,s=Pe.a[t],l=ee.a[t],c=_e.a.getClickTrackingEmbedDetails(this.props.promotedContent,n);if(s){const t=s===Pe.b.URL_CLICK&&e.currentTarget instanceof window.HTMLElement?{url:e.currentTarget.href}:void 0;this._handleAsyncPromotedEvent(s,t)}t===Ie.a.URL&&c&&this._scribeAction({action:Ee.b.CLICK_ID_EMBED},void 0,c);let d=!1;if(this._hasClaimsForAdFreeArticles&&null!=n&&n.expandedUrl){const t=new URL(n.expandedUrl).hostname,[s,l]=new te.a(a,i()).getAdFreeArticlesClickHandler({destinationUrl:n.embeddedUrl,linkDomain:t,adFreeArticleDomains:o,tweetAuthorUserId:null==r?void 0:r.user.id_str});s&&(l(e),d=!0)}if(t===Ie.a.INTERACTIVE_HIGHLIGHT&&void 0!==(null==n?void 0:n.id))return this._scribeAction({element:"interactive_text",action:l},{interactive_text_details:{id:n.id}},void 0,d);l&&this._scribeAction({action:l},void 0,void 0,d)},this._handlePromotedDisclaimerLearnMoreClick=e=>()=>{this._scribeAction({component:e,element:"learn_more",action:"click"})},this._handlePoliticalSponsorWebsiteClick=()=>{this._scribeAction({component:"political_ad",element:"organization_website",action:"click"})},this._handleAnalyticsClick=()=>{this._scribeAction({element:"analytics",action:"click"})},this._handlePromoteButtonClick=()=>{this._scribeAction({element:"promote",action:"click"})},this._handlePromoteAgainButtonClick=()=>{this._scribeAction({element:"promote_again",action:"click"})},this._handleAvatarClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"avatar",action:"profile_click"},{profile_id:`${e?e.user.id:""}`}),this._handleAsyncPromotedEvent(Pe.b.PROFILE_IMAGE_CLICK)},this._handleScreenNameClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"user",action:"profile_click"},{profile_id:`${e?e.user.id:""}`}),this._handleAsyncPromotedEvent(Pe.b.SCREEN_NAME_CLICK)},this._handleCaretClick=()=>{this._scribeAction({element:"caret",action:"click"})},this._handleCommunityFetch=()=>{const{createLocalApiErrorHandler:e,fetchCommunityIfNeeded:t,tweet:n}=this.props;if(n&&this._isCommunitiesEnabled){var o;const i=n.community_id_str,a=null==(o=n.quoted_status)?void 0:o.community_id_str;i&&t(i).catch(e()),a&&t(a).catch(e())}},this._handleHeadsUpRender=()=>{const{conversationAnnotation:e,tweet:t,updateHeadsUp:n}=this.props;if(!t)return null;const o=ke.a.getOriginalTweet(t),i=(null==o?void 0:o.reply_count)>20;if(!("Political"===(null==e?void 0:e.conversation_annotation_type)&&i))return null;n(o.id_str)},this._handleLongformNotesLearnMoreRender=()=>{const{tweet:e,updateLongformNotesLearnMoreBanner:t}=this.props;if(e){const n=ke.a.getOriginalTweet(e),o=ke.a.hasLongformNoteUrl(n);this._twitterArticleLearnMoreBannerEnabled&&o&&t(n.id_str)}},this._handleTopicFetch=()=>{var e;const{createLocalApiErrorHandler:t,fetchTopicIfNeeded:n,socialContext:o}=this.props,i=null==o||null==(e=o.topicContext)?void 0:e.topicId;i&&n(i).catch(t())},this._handleUndoTopicNotInterested=()=>{const{createLocalApiErrorHandler:e,topic:t,undoTopicNotInterested:n}=this.props;this._scribeAction({element:"topic",action:"un_not_interested"}),t&&n(t.id).catch(e())},this._handleCardLinkClick=e=>{var t;const{adFreeArticleDomains:n,createLocalApiErrorHandler:o,fetchAdFreeToken:i,isCardArticle:a,setArticlesVisited:r,tweet:s}=this.props;if(this._isArticleNudgeEnabled&&a){var l;const e=null==s||null==(l=s.card)?void 0:l.url;var c;if(e)r(e),this._scribeAction({component:"article_nudge",element:"read_article",action:"click"},{items:[{token:null==s||null==(c=s.card)?void 0:c.url,in_reply_to_tweet_id:null==s?void 0:s.id_str}]})}const d=null==s||null==(t=s.card)?void 0:t.binding_values;if(this._hasClaimsForAdFreeArticles&&d){const[t,a]=new te.a(i,o()).getAdFreeArticlesClickHandler({destinationUrl:xe.a.getBindingValue(d,"card_url"),linkDomain:xe.a.getBindingValue(d,"domain"),adFreeArticleDomains:n});t&&a(e)}},this._handleMediaHashtagHighlightClick=()=>{this._handleAsyncPromotedEvent(Pe.b.HASHTAG_CLICK)}}componentDidMount(){this._handleTopicFetch(),this._handleCommunityFetch(),this._handleHeadsUpRender(),this._handleLongformNotesLearnMoreRender(),this._hasClaimsForAdFreeArticles&&this.props.loadAdFreeArticleDomainsFromPersistence()}componentDidUpdate(e){if(this.props.tweet&&e.tweet&&!e.tweet.user.blocking&&this.props.tweet.user.blocking){const{history:e}=this.props;e.goBack({backLocation:"/"})}this.props.conversationAnnotation!==e.conversationAnnotation&&this._handleHeadsUpRender()}componentWillUnmount(){const{addFlag:e}=this.props;this._shouldShowDownvoteInlineEducation()&&e(C.l,{updateTimestamp:!0})}render(){const{loggedInUserId:e}=this.context,{tweet:t}=this.props;if(!t)return null;const n=t.user.id_str===e,o=Object(Fe.b)(t.withheld_scope),i=Object(Le.h)(t)&&!this.state.displayReported;return r.a.createElement(r.a.Fragment,null,o?r.a.createElement(V.a,null,this._renderWithheldTweet(),n?this._renderTweetComponent():null):i?this._renderReportedTombstone():this._renderTweetComponent(),this._renderIntentPrompt(),this.state.showBlockOrUnblockConfirmation&&!n?this._renderBlockOrUnblockConfirmationSheet():null)}_renderIntentPrompt(){const{forwardPivotInfo:e,history:t,tweet:n}=this.props;if(n&&t.location.pathname.indexOf("/intent/")>-1)return r.a.createElement(ae.a,{forwardPivotInfo:e,history:t,location:t.location,tweetId:n.id_str})}_renderTweetComponent(){var e,t;const{allowDownvote:n,changeDropdownState:o,contextTweet:a,contextualBehavioralEventInfo:s,conversationAnnotation:l,forwardPivotInfo:c,hasModeratedReplies:d,history:h,innerForwardPivotInfo:u,isNsfwUser:p,isPinned:m,location:w,loggedInUser:_,nudges:b,onTweetDismiss:g,promotedContent:C,promotedContentAdvertiser:v,quoteTweetSocialContextProps:f,quotedTweetTombstoneInfo:y,readerModeAvailable:T,replyBadge:k,replyDropdownSelection:I,rootTweetAuthorId:E,scribeData:x,scribeNamespace:S,socialContext:P,socialContextColor:A,topic:L,topicFollowPrompt:O,tweet:D,userCountry:R,userLanguage:M,withActions:F,withCommunityModerationAuthority:U,withHideReply:B,withInlineMedia:N,withSocialContext:H}=this.props,{loggedInUserId:j}=this.context,W={allowDownvote:n,contextTweet:a,forwardPivotInfo:c,hasModeratedReplies:d,innerForwardPivotInfo:u,promotedContent:C,promotedContentAdvertiser:v,quotedTweetTombstoneInfo:y,quoteTweetSocialContextProps:f,readerModeAvailable:T,socialContext:P,socialContextColor:A,topic:L,topicFollowPrompt:O,tweet:D,replyBadge:k,rootTweetAuthorId:E,withActions:F,withInlineMedia:N,withSocialContext:H,nudges:b},{enableKeyboardShortcuts:z}=this.state;if(!D)return null;const V=Object(Re.a)(this._cachedScribeNamespace,S)?this._cachedScribeNamespace:this._cachedScribeNamespace=S,q=D&&D.card&&!D.is_quote_status?D.card.url:void 0,G=ke.a.getOriginalTweet(D),K=G.user.id_str===j,Q=!G.in_reply_to_status_id_str&&K&&!G.community_id_str,X=this._renderConversationControlsTooltip(),$=!!G.in_reply_to_status_id_str,J=(null==G?void 0:G.reply_count)>20,Y="Political"===(null==l?void 0:l.conversation_annotation_type)&&(null==(e=D.headsUp)?void 0:e.showBanner)&&!$&&J,Z=null==(t=G.longformNotesLearnMore)?void 0:t.showBanner,ee=this.context.featureSwitches.isTrue("responsive_web_deamplification_replies_dropdown_selector_enabled")&&D.reply_count>0;return r.a.createElement(Se.c,{data:this._getScribeData(D.retweeted_status||D,C,x),namespace:V},r.a.createElement(re.a,{enabled:!!z,handlers:this._getShortcutKeyHandlers()},this._renderLeftConversationBanner(),r.a.createElement(ge.b,i()({},W,{enableKeyboardShortcuts:z,excludeCardUrl:q,inlineCalloutInfo:this._getInlineCalloutInfo(),isFocal:!0,loggedInUser:_,onAnalyticsClick:this._handleAnalyticsClick,onAvatarClick:this._handleAvatarClick,onBirdwatchNotesIconClick:this._handleBirdwatchNotesIconClick,onBirdwatchNotesIconShown:this._handleBirdwatchNotesIconShown,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onEntityClick:this._handleEntityClick,onFocus:this._handleFocus,onMediaClick:this._handleMediaClick,onMediaHashtagHighlightClick:this._handleMediaHashtagHighlightClick,onModeratedIconClick:this._handleModeratedIconClick,onModeratedIconShown:this._handleModeratedIconShown,onPoliticalSponsorWebsiteClick:this._handlePoliticalSponsorWebsiteClick,onPromoteAgainButtonClick:this._handlePromoteAgainButtonClick,onPromoteButtonClick:this._handlePromoteButtonClick,onPromotedDisclaimerLearnMoreClick:this._handlePromotedDisclaimerLearnMoreClick,onPromotedIndicatorClick:this._handlePromotedIndicatorClick,onReplyContextClick:this._handleReplyContextClick,onReplyPress:this._handleReplyPress,onScreenNameClick:this._handleScreenNameClick,onUndoTopicNotInterestedClick:this._handleUndoTopicNotInterested,renderCurationActionMenu:this._getRenderCurationActionMenu(null==c?void 0:c.displayType,h,p,m,w,this._handleCaretClick,g,C,ke.a.getOriginalTweet(D),Q,X,B,U,null==s?void 0:s.entityToken,R,M),replyBadge:k,showConversationHeadsUp:Y,showLongformNotesLearnMoreBanner:Z,tweet:D})),ee?r.a.createElement(we.a,{changeDropdownState:o,replyDropdownSelection:I}):null,this._renderInlineReply(),this._renderDownvoteEducation()))}_renderLeftConversationBanner(){var e;const{tweet:t}=this.props,{loggedInUserId:n}=this.context;return(null==t||null==(e=t.unmentioned_user_ids)?void 0:e.includes(n))?r.a.createElement(pe,null):null}_renderDownvoteEducation(){const{addFlag:e}=this.props,{showDownvoteFullscreenFromInline:t}=this.state;return r.a.createElement(r.a.Fragment,null,t||this._shouldShowDownvoteFullscreenEducation()?r.a.createElement(j,{onDismiss:()=>{t?this.setState({showDownvoteFullscreenFromInline:!1}):e(C.l)}}):null,this._shouldShowDownvoteInlineEducation()?r.a.createElement(Z,{onAction:()=>{this.setState({showDownvoteFullscreenFromInline:!0})},onClose:()=>{e(C.l,{updateTimestamp:!0})}}):null)}_renderInlineReply(){const{history:e,location:t,tweet:n,tweetId:o}=this.props,{replyPressToggle:i}=this.state,{loggedInUserId:a}=this.context;if(!n)return null;const s=a&&!this._shouldDisable(n,ye.a.Reply),l=ve.b.isMobileOS()?oe:ie;return s?r.a.createElement(l,{history:e,location:t,parentTweetId:o,replyPressToggle:i}):null}_renderWithheldTweet(){const{tweet:e}=this.props;return!!e&&r.a.createElement(Fe.a,{displayTextRange:e.display_text_range,entities:e.withheld_entities||e.entities,lang:e.lang,text:e.withheld_text||e.text})}_renderReportedTombstone(){const{tweet:e}=this.props;if(e){const t=ke.a.getOriginalTweet(e),n=Object(Le.c)(t.reportingVisibility);return r.a.createElement(be.a,{actionText:Ue,lang:e.lang,onClick:this._handleShowReportedTweet},n)}}_handleAsyncPromotedEvent(e,t){const{createLocalApiErrorHandler:n,log:o,promotedContent:i,tweet:a}=this.props;if(a&&i){const{disclosure_type:r,impression_id:s}=i;o({disclosureType:r,itemId:a.id_str,itemType:"tweet",params:{event:e,impression_id:s,...t}}).catch(n())}}}Be.contextType=Te.a;const Ne=Object(fe.a)(N(Be));t.b=Object(Se.a)({component:"tweet"})(Ne)},PbbS:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("ERkP");const o=Object.freeze({Default:"default",FollowTopic:"follow",Star:"star",Interested:"interested",Favorite:"favorite"})},Qtnm:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("euJ+"),i=n("ERkP"),a=n.n(i);const r=(e,t,n,i,r)=>{const s=null==i?void 0:i.length,l=r&&!s,c=a.a.useCallback((()=>{t({entry:n,feedbackKeys:[o.b]}),e.scribe({element:o.g(o.a,n),action:"click"})}),[e,n,t]);return{onTweetDismiss:l?c:void 0}}},ReVx:function(e,t,n){"use strict";n.r(t);var o=n("ezF+"),i=n("VPAj"),a=n("97Jx"),r=n.n(a),s=n("ERkP"),l=n.n(s),c=n("xZXe"),d=n("wtjx"),h=n("Zejx"),u=n("rxPX");const p=(e,{entry:t,module:n})=>n.selectIsUnread(e,t.entryId),m=(e,{entry:t})=>{var n;return null!=(n=t.content.socialContext)&&n.topicContext?h.a.select(e,t.content.socialContext.topicContext.topicId):void 0};var w=Object(u.a)().propsFromState((()=>({isUnread:p,topic:m}))).propsFromActions((({module:e})=>({saveAsRecentSearch:d.a,applyFeedbackAction:e.applyFeedbackAction,applyReactionInstructions:e.applyReactionInstructions}))),_=n("Df4Q"),b=n("M6G0"),g=n("x5Pi"),C=n("3XMw"),v=n.n(C),f=n("6vad"),y=n("MWbm");const T=v.a.e25a0c3a;var k=e=>l.a.createElement(y.a,null,l.a.createElement(f.b,{text:T}),l.a.createElement(c.a,e)),I=n("pbku"),E=n("VrCx"),x=n("kY28"),S=n("Irs7"),P=n("Qtnm");const A=({allowDownvote:e=!1,applyFeedbackAction:t,applyReactionInstructions:n,bookmarkFolderId:o,createAdditionalProps:a=Object(i.a)({}),dismissable:s=!1,displayBlocked:d,entry:h,feedbackItems:u,hideConversationControlsEducationText:p=!1,hideExclusivityInfoEducationTextInReplies:m=!1,hideTrustedFriendsEducationTextInReplies:w=!1,isReaderMode:C=!1,isUnread:v,saveAsRecentSearch:f,shouldSelfThreadIncludeAvatar:y=!1,shouldStoreTypeaheadItem:T,showWithheldBannerOnMyTweets:A=!1,topic:L,tweetTextSize:O,withActionsDisabled:D=!1,withMuteConversation:R=!1,withRemoveFromBookmarks:M=!1,withSelfThread:F=!1,withUserPresence:U=!1,withUnreadStyles:B=!1})=>{const N=Object(S.b)(),{content:{conversation_annotation:H,displayType:j,forwardPivot:W,hasModeratedReplies:z,highlights:V,id:q,innerForwardPivot:G,innerTombstoneInfo:K,nudges:Q,promotedMetadata:X,replyBadge:$,ruxContext:J,socialContext:Y,topicFollowPrompt:Z},conversationPosition:ee,conversationTreeMetadata:te,itemMetadata:ne,referringContext:{contextTweetId:oe,contextualClientEventInfo:ie,focalTweetId:ae,hideMedia:re,socialContext:se,topicFollowPrompt:le}={}}=h;let ce;ee?ce=ee.showReplyContext&&!C?x.a.ReplyContextTypes.Isolated:x.a.ReplyContextTypes.None:C&&(ce=x.a.ReplyContextTypes.None);const de=l.a.useCallback((()=>n({entry:h,triggerName:I.a.ON_LIKE})),[n,h]),he=l.a.useCallback((()=>n({entry:h,triggerName:I.a.ON_BLOCK_AUTHOR})),[n,h]),ue=!!h.conversationPosition&&!h.conversationPosition.isStart,pe=l.a.useMemo((()=>u&&!C?{markNotInterestedTopic:u.find((e=>e.feedbackKey===Object(_.b)(h.entryId)))}:void 0),[u,h.entryId,C]),{onTweetDismiss:me}=Object(P.a)(N,t,h,u,s),we=l.a.useMemo((()=>Object(b.e)(N.contextualScribeNamespace,ie,ee)),[N.contextualScribeNamespace,ie,ee]),_e=l.a.useMemo((()=>Object(g.d)({socialContext:Y,topic:L})),[Y,L]),be={allowDownvote:e,bookmarkFolderId:o,contextTweetId:oe,contextualClientEventInfo:ne.clientEventInfo,conversationPosition:ee,conversationTreeMetadata:te,conversationAnnotation:H,displayBlocked:d,displayPromotedContent:!0,feedbackItems:u,focalTweetId:ae,forwardPivotInfo:W,shouldStoreTypeaheadItem:T,handleBlockTrigger:he,hasModeratedReplies:z,hideConversationControlsEducationText:p||ue,hideExclusivityInfoEducationTextInReplies:m,hideTrustedFriendsEducationTextInReplies:w,hitHighlights:null==V?void 0:V.textHighlights,injectedFeedbackItem:pe,innerForwardPivotInfo:G,isReaderMode:C,isUnread:B?v:void 0,onTweetDismiss:me,onLike:de,quotedTweetTombstoneInfo:K,replyBadge:$,replyContext:ce,ruxContext:J,saveAsRecentSearch:f,scribeData:N.contextualScribeData,scribeNamespace:we,shouldSelfThreadIncludeAvatar:y,showWithheldBannerOnMyTweets:A,socialContext:_e||se,topicFollowPrompt:Z||le,tweetId:q,tweetTextSize:O,urtPromotedContent:X,withActions:!0,withActionsDisabled:D,withInlineMedia:!re||C,withMuteConversation:R,withRemoveFromBookmarks:M,withSelfThread:F,withSocialContext:!0,withUserPresence:U,nudges:Q},ge=a(h,{isUnread:v,topic:L},{saveAsRecentSearch:f,applyFeedbackAction:t,applyReactionInstructions:n});switch(j){case E.a.EmphasizedPromotedTweet:return l.a.createElement(k,r()({},be,ge));default:return l.a.createElement(c.a,r()({},be,ge))}};var L=w(l.a.memo(A));t.default=e=>o.b({component:L,divider:e.divider||{},defaultScribeNamespace:e.isReaderMode?b.b:b.a,getBehavioralEventContextOverride:b.c,getScribeDataItem:b.d,isFocusable:Object(i.a)(!0),shouldDisplayBorder:Object(b.f)(e.isReaderMode)}).getHandler((()=>({...e})))},Sksh:function(e,t,n){"use strict";n("849X");var o=n("SrIh"),i=n("M0jS"),a=n("+d3d"),r=n("VY6S");t.a=new class{constructor(){this.usersInApp={},this._throttledInitialFetch=Object(a.a)((()=>{this.store.dispatch(i.b.fetchManyIfNeeded(Object.keys(this.usersInApp)))}),1500)}init(e){this.store=e}registerUserInApp(e){Object.keys(this.usersInApp).length>50&&(this.usersInApp={},Object(o.a)(new Error("Registered users in app has exceeded 50"),{level:"warning"})),this.usersInApp[e]?this.usersInApp[e]=this.usersInApp[e]+1:(this.usersInApp[e]=1,Object(r.a)(this._throttledInitialFetch(),100))}deregisterUserInApp(e){this.usersInApp[e]&&this.usersInApp[e]>1?this.usersInApp[e]=this.usersInApp[e]-1:delete this.usersInApp[e]}}},YICZ:function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),a=n("Zejx"),r=n("rxPX"),s=n("0KEI");var l=Object(r.a)().propsFromActions((()=>({createLocalApiErrorHandler:Object(s.createLocalApiErrorHandlerWithContextFactory)("TOPIC_NOT_INTERESTED_CONTEXT"),setNotInterested:a.a.notInterested}))),c=n("3XMw"),d=n.n(c),h=n("hOZg"),u=n("Jkc4"),p=n("Irs7"),m=n("/yvb"),w=n("rHpw");const _=d.a.d9b417c4,b=d.a.c29d6806,g=d.a.e839db3a,C=e=>{const{createLocalApiErrorHandler:t,nativeID:n,onPress:o,setNotInterested:a,size:r,style:s,text:l,topicId:c,type:d,withIconOnly:h}=e,w=Object(p.b)(),b=i.a.useCallback((e=>{e.preventDefault(),o?o(e):(w.scribe({element:"topic",action:"not_interested"}),a(c).catch(t()))}),[w,t,o,a,c]);return i.a.createElement(u.a,null,(e=>i.a.createElement(m.a,{accessibilityLabel:_,hoverLabel:{label:g},icon:h?f:void 0,nativeID:n,onPress:e(b),pullRight:h,size:r,style:s,type:d},h?null:l)))};C.defaultProps={size:"small",text:b,type:"brandText",withIconOnly:!0};const v=w.a.create((e=>({closeIcon:{color:e.colors.gray700}}))),f=i.a.createElement(h.a,{style:v.closeIcon}),y=l(C);t.a=y},aA1u:function(e,t,n){"use strict";n("kYxP");var o=n("ERkP"),i=n.n(o),a=n("t62R"),r=n("21zW"),s=n("rHpw"),l=n("3XMw"),c=n.n(l);class d extends i.a.Component{constructor(...e){super(...e),this._formatTimestamp=e=>{const t=c.a.jade381b,n=c.a.d725a289,o=new Date(e),i=t(o);return`${n(o)}  ${i}`}}render(){const{style:e}=this.props;return i.a.createElement(a.b,{color:"gray700",style:e},this._maybeRenderEditedTag(),this._renderTimestampAndMaybePlace(),this._maybeRenderSource())}_renderTimestampAndMaybePlace(){const{linkColor:e,onPlaceClick:t,onTimestampClick:n,place:o,placeLink:r,timestamp:s,timestampLink:l}=this.props,d=this._formatTimestamp(s);return o?i.a.createElement(c.a.I18NFormatMessage,{$i18n:"ba64a3b3"},i.a.createElement(a.b,{color:l?e:void 0,link:l,onClick:n},c.a.e62214cc({date:d})),i.a.createElement(a.b,{color:r?e:void 0,link:r,onClick:t},c.a.bd4e9341({place:o}))):i.a.createElement(a.b,{color:l?e:void 0,link:l,onClick:n},d)}_maybeRenderEditedTag(){const{renderEditCallout:e}=this.props,t=e?e({displayMode:"compact"}):null;return t?i.a.createElement(i.a.Fragment,null,t):null}_maybeRenderSource(){const{linkColor:e,onSourceClick:t,source:n,sourceLink:o}=this.props;return n?i.a.createElement(i.a.Fragment,null,i.a.createElement(r.a,null),i.a.createElement(a.b,{color:o?e:void 0,link:o,onClick:t,style:h.source},n)):null}}d.defaultProps={linkColor:"link"};const h=s.a.create((e=>({source:{whiteSpace:"normal"}})));t.a=d},b5s6:function(e,t,n){"use strict";var o=n("97Jx"),i=n.n(o),a=n("ERkP"),r=n.n(a),s=n("v6aA"),l=n("XOJV"),c=n("eSoz"),d=n("rxPX"),h=n("0KEI");const u=(e,t)=>t.tweetId,p=(e,t)=>{const n=t.tweetId,o=n&&l.a.select(e,n);return o?Object(c.g)(e,o):void 0};var m=Object(d.a)().propsFromState((()=>({community:p,hydratedTweet:l.a.createHydratedTweetSelector(u)}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(h.createLocalApiErrorHandlerWithContextFactory)("QUOTE_TWEET_CONTAINER"),fetchCommunityIfNeeded:c.c.fetchOneIfNeeded}))),w=n("YeIG"),_=n("uCxL"),b=n("Irs7"),g=n("x5Pi");const C=m((({community:e,createLocalApiErrorHandler:t,fetchCommunityIfNeeded:n,hydratedTweet:o,onPress:a,tweetId:l,...c})=>{const{featureSwitches:d,loggedInUserId:h}=r.a.useContext(s.a),u=Object(b.b)(),p=null==o?void 0:o.community_id_str;r.a.useEffect((()=>{p&&Object(w.a)(e)&&n(p).catch(t())}),[e,p,t,n]);const m=r.a.useCallback((e=>{u.scribeAction("click"),a&&a(e)}),[a,u]),C=o&&Object(g.f)(o,h,e),v=C&&Object(g.e)(C),f=d.isTrue("responsive_web_reactions_enabled");return r.a.createElement(_.a,i()({},c,{loggedInUserId:h,onPress:m,shouldShowAltLabelAlways:!0,socialContextProps:v,tweet:o,withReactions:f}))}));t.a=C},dCqJ:function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),a=n("cm6r"),r=(n("kYxP"),n("t62R")),s=n("rHpw"),l=n("3XMw"),c=n.n(l);const d=c.a.d7e50a66,h="INDIRECT",u="NO_SPONSORSHIP",p="ISSUE";class m extends i.a.Component{constructor(...e){super(...e),this._renderDisclaimerDetails=()=>{const{onPoliticalSponsorWebsiteClick:e,promotedContent:t}=this.props;if(!t.adMetadataContainer)return null;const{disclaimerType:n,sponsorshipCandidate:o,sponsorshipOrganization:a,sponsorshipOrganizationWebsite:s,sponsorshipType:l}=t.adMetadataContainer,d=s&&n!==p?i.a.createElement(r.b,{link:s,onClick:e}):i.a.createElement(r.b,{color:"gray700",size:"subtext2"});if(!a)return null;const m=i.a.createElement(c.a.I18NFormatMessage,{$i18n:"e1e348dd"},i.a.cloneElement(d,null,c.a.hdd29d51({sponsorshipOrganization:a}))),w=i.a.createElement(c.a.I18NFormatMessage,{$i18n:"c7dea0d1"},i.a.cloneElement(d,null,c.a.b97f7079({sponsorshipOrganization:a}))),_=o?i.a.createElement(c.a.I18NFormatMessage,{$i18n:"b5c2371b",sponsorshipCandidate:o},i.a.cloneElement(d,null,c.a.b02627a9({sponsorshipOrganization:a}))):null;return i.a.createElement(r.b,{color:"gray700",size:"subtext2"},n===p?m:l===u?w:l===h?_:m)},this._renderLearnMoreLink=()=>{const{onPromotedDisclaimerLearnMoreClick:e,promotedContent:t,tweet:n}=this.props,{disclaimerType:o}=t.adMetadataContainer||{},a=o===p?"issue_ad":"political_ad",s=`http://ads.twitter.com/transparency/ads/${n.user.screen_name}/tweet/${n.id_str}`;return i.a.createElement(r.b,{link:s,onClick:e(a),size:"subtext2",style:w.learnMore},d)}}render(){return i.a.createElement(i.a.Fragment,null,this._renderDisclaimerDetails(),this._renderLearnMoreLink())}}const w=s.a.create((e=>({learnMore:{alignSelf:"flex-start"}})));var _=n("e5HP"),b=n("Z6aJ"),g=n("MWbm");t.a=function(e){const{onPoliticalSponsorWebsiteClick:t,onPromotedDisclaimerLearnMoreClick:n,onPromotedIndicatorClick:o,promotedContent:r,promotedContentAdvertiser:s,style:l,testID:c,tweet:d,withCircleIcon:h}=e,u=b.a.isPromoted(r),p=!!r&&(r.adMetadataContainer&&("POLITICAL"===r.adMetadataContainer.disclaimerType||"ISSUE"===r.adMetadataContainer.disclaimerType)||"political"===b.a.getDisclosureType(r)||"issue"===b.a.getDisclosureType(r));return u?i.a.createElement(g.a,{style:l,testID:c},s&&r?i.a.createElement(a.a,{interactiveStyles:null,link:{pathname:`https://twitter.com/${s.screen_name}`,state:{promotedTweetState:r}},onPress:o},i.a.createElement(_.a,{promotedContent:r,withCircleIcon:h})):!!r&&i.a.createElement(_.a,{promotedContent:r}),p&&r?i.a.createElement(m,{onPoliticalSponsorWebsiteClick:t,onPromotedDisclaimerLearnMoreClick:n,promotedContent:r,tweet:d}):null):null}},gdQ4:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));n("kYxP");var o=n("ERkP"),i=n.n(o),a=n("tRj+"),r=n("3XMw"),s=n.n(r),l=n("zTrU"),c=n("MWbm"),d=n("htQn"),h=n("5mJL"),u=n("oSwX"),p=n("/yvb"),m=n("t62R"),w=n("rHpw");const _=s.a.e3a24e4c,b=s.a.i569ff3e;class g extends i.a.PureComponent{constructor(...e){super(...e),this._getMemoizedBehavioralEventContext=Object(l.a)((e=>({viewType:e})))}componentDidMount(){const{onImpression:e}=this.props;e&&e()}render(){const{avatarUrl:e,onClick:t,style:n,to:o,userName:r,withButton:s,withConversationLine:l}=this.props,w=e&&r,g=s?"add_tweet":"see_more",v=this._getMemoizedBehavioralEventContext(g);return i.a.createElement(a.a,{behavioralEventContext:v},i.a.createElement(d.a,{link:o,onClick:t,style:[C.root,n]},i.a.createElement(h.a,{avatarCell:w?i.a.createElement(c.a,{style:[C.avatarColumn,!l&&C.avatarColumnWithoutLine]},l?i.a.createElement(c.a,{style:C.conversationLine}):null,i.a.createElement(u.default,{size:"large",uri:e})):null,avatarCellStyle:C.conversationConnector,cellStyle:s?C.buttonContainer:w?C.labelWithAvatar:C.label},s?i.a.createElement(p.a,{accessibilityRole:"none",size:"xSmall",style:C.button,type:"brandOutlined"},_):i.a.createElement(m.b,{color:"link",style:C.enlargeTouchTarget},b))))}}g.defaultProps={withButton:!1,withConversationLine:!1};const C=w.a.create((e=>({root:{overflow:"hidden",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space2},avatarColumn:{flexDirection:"column",flexGrow:0,alignItems:"center",paddingBottom:e.spaces.space4},avatarColumnWithoutLine:{paddingTop:e.spaces.space12},conversationConnector:{alignItems:"center",display:"flex",position:"relative"},label:{flexGrow:1,paddingVertical:e.spaces.space4},labelWithAvatar:{flexGrow:1,justifyContent:"center"},conversationLine:{backgroundColor:e.colors.gray200,flexGrow:1,flexShrink:1,width:e.componentDimensions.conversationLineWidth,marginBottom:e.spaces.space4},buttonContainer:{paddingVertical:e.spaces.space4,flexDirection:"row",flexGrow:1},button:{marginVertical:e.spaces.space4},enlargeTouchTarget:{paddingVertical:e.spaces.space8}})))},j7tW:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p}));n("kYxP");var o=n("oEOe"),i=n("PiaM");const a="rweb/pinnedTweets";var r=n("x5Pi"),s=n("G6rE"),l=n("SRyb");const c=o.a(a,"PIN"),d=o.a(a,"UNPIN"),h=e=>(t,n,{api:a,featureSwitches:d})=>o.c(t,{params:{id:e},request:a.Tweets.pin})({actionTypes:c,context:"ACTION_PIN_TWEET",meta:{tweetId:e}},(o=>{const a=s.e.selectLoggedInUser(n());if(void 0===a)return;const c=a.id_str,h=a.pinned_tweet_ids_str&&a.pinned_tweet_ids_str[0];t(s.e.patchUser(c,{pinned_tweet_ids_str:[e]}));const u=Object(l.a)(d,c,"default");return[...h?[u.removeTweets({[h]:!0}),u.injectEntry(i.k({id:h,sortIndex:h}),{atTop:!1})]:[],u.removeTweets({[e]:!0}),u.injectEntry(i.k({id:e,content:{socialContext:{generalContext:r.a}},sortIndex:"NOT_USED"}))]})),u=e=>(t,n,{api:a,featureSwitches:r})=>o.c(t,{params:{id:e},request:a.Tweets.unpin})({actionTypes:d,context:"ACTION_UNPIN_TWEET",meta:{tweetId:e}},(o=>{const a=s.e.selectLoggedInUser(n());if(void 0===a)return;const c=a.id_str;return t(s.e.patchUser(c,{pinned_tweet_ids_str:[]})),[Object(l.a)(r,c,"default").removeTweets({[e]:!0}),Object(l.a)(r,c,"default").injectEntry(i.k({id:e,sortIndex:e}),{atTop:!1})]})),p=(e,t)=>{const n=s.e.selectLoggedInUser(e);return!(null==n||!n.pinned_tweet_ids_str)&&n.pinned_tweet_ids_str[0]===t}},kXdP:function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),a=n("t62R"),r=n("OiMc");const s=n("rHpw").a.create((e=>({hoverText:{marginHorizontal:e.componentDimensions.gutterHorizontal,marginVertical:e.componentDimensions.gutterVertical},popover:{maxWidth:`calc(${e.spaces.space64} * 4)`,minWidth:e.spaces.space64}})));t.a=e=>{const{children:t,hoverText:n}=e;return i.a.createElement(r.a,{contentStyle:s.popover,enableHover:!0,renderContent:()=>i.a.createElement(a.b,{style:s.hoverText},n),withArrow:!0},t)}},pbku:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=Object.freeze({ON_BLOCK_AUTHOR:"onBlockAuthor",ON_LINGER:"onLinger",ON_IS_RELEVANT:"onIsRelevant",ON_SHOW_MORE:"onShowMore",ON_LIKE:"onLike",ON_FOLLOW:"onFollow"})},qbku:function(e,t,n){"use strict";var o=n("97Jx"),i=n.n(o),a=n("ERkP"),r=n.n(a),s=n("rxPX"),l=Object(s.a)().withAnalytics({element:"social_proof"}),c=n("aTAq"),d=n("Nqmc"),h=n("x5Pi");const u=l((e=>{const t=r.a.useContext(h.b);if(t&&e.contextType===t)return null;const{analytics:n,link:o,...a}=e,s=o&&!Object(c.a)(o)?{...o,state:{...o.state,referringScribeNamespace:{...n.contextualScribeNamespace,action:"click"}}}:o;return r.a.createElement(d.a,i()({},a,{link:s,onClick:function(){const{analytics:t,onClick:n}=e;t.scribeAction("click"),n&&n()}}))}));t.a=u},sUoZ:function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),a=n("Lsrn"),r=n("k/Ka");const s=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[a.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M22.18 9.565c-.157-.487-.61-.82-1.126-.82h-5.928l-2.007-5.88c-.164-.476-.612-.8-1.12-.8s-.956.322-1.12.8L8.874 8.743H2.945c-.513 0-.97.332-1.126.82-.158.49.02 1.02.44 1.318l4.735 3.357-2.018 5.908c-.164.484 0 1.02.415 1.324.415.304.97.31 1.39.016L12 17.782l5.22 3.703c.206.146.446.218.686.218.25 0 .497-.08.705-.233.41-.305.577-.84.41-1.324l-2.015-5.906 4.735-3.356c.414-.3.595-.83.44-1.32z"})));s.metadata={width:24,height:24},t.a=s},tvEI:function(e,t,n){"use strict";n.r(t);var o=n("ezF+"),i=n("VPAj"),a=n("ERkP"),r=n.n(a),s=n("b5s6"),l=n("nBUg");const c=({entry:e,isCarouselItem:t,isCondensed:n})=>{const{forwardPivot:o,id:i}=e.content;return r.a.createElement(l.b.Provider,{value:{isCarouselItem:()=>t}},r.a.createElement(s.a,{forwardPivotInfo:o,isCondensed:n,style:t?d.carouselQuoteTweet:d.quotedTweet,tweetId:i}))},d=n("rHpw").a.create((e=>({quotedTweet:{marginHorizontal:e.componentDimensions.gutterHorizontal,marginTop:0,marginBottom:e.componentDimensions.gutterVertical},carouselQuoteTweet:{marginTop:0,marginBottom:0,marginRight:0,marginLeft:e.spaces.space12,width:"312px",height:"172px"}})));var h=r.a.memo(c),u=n("M6G0");t.default=e=>o.b({component:h,divider:e.divider||{},defaultScribeNamespace:u.a,getBehavioralEventContextOverride:u.c,getScribeDataItem:u.d,isFocusable:Object(i.a)(!0),shouldDisplayBorder:Object(u.f)(!!e.isCarouselItem)}).getHandler((()=>({...e})))},wtjx:function(e,t,n){"use strict";n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return f}));var o=n("Ssj5"),i=n("RqPI");const a="recentSearches",r="rweb.recentSearches",s=e=>(t,n,{userPersistence:o})=>o.set(r,{recentSearches:e}).catch((()=>{Promise.resolve()})),l=(e,t)=>{let n=[];if(e&&e.user){const o=e.user;n=t.filter((e=>e.keyword||e.topic||e.event||e.user&&e.user.id!==o.id))}else if(e&&e.topic){const o=e.topic;n=t.filter((e=>e.keyword||e.user||e.event||e.topic&&e.topic.id!==o.id))}else if(e&&e.event){const o=e.event;n=t.filter((e=>e.keyword||e.user||e.topic||e.event&&e.event.id!==o.id))}else if(e&&e.keyword){const o=e.keyword;n=t.filter((e=>e.keyword&&e.keyword.query!==o.query||e.user||e.topic||e.event))}return n},c={fetched:!1,recentSearches:[]};const d=e=>e.recentSearches.recentSearches,h=e=>d(e)[0]||null,u=e=>e.recentSearches.fetched,p="rweb/recentSearches/INIT_FROM_CACHE",m=e=>({type:p,payload:e}),w="rweb/recentSearches/REMOVE_QUERY",_=e=>(t,n,{userPersistence:o})=>{t({payload:e,type:w});const a=n().recentSearches;return Object(i.o)(n())?t(s(a.recentSearches)):Promise.resolve()},b="rweb/recentSearches/CLEAR_ALL",g=()=>(e,t,{userPersistence:n})=>{e({type:b});const o=t().recentSearches;return Object(i.o)(t())?e(s(o.recentSearches)):Promise.resolve()},C="rweb/recentSearches/ADD_QUERY",v=e=>(t,n,{userPersistence:o})=>{t({payload:e,type:C});const a=n().recentSearches;return Object(i.o)(n())?t(s(a.recentSearches)):Promise.resolve()},f=()=>(e,t,{userPersistence:n})=>t().recentSearches.fetched?Promise.resolve():e(((e,t,{userPersistence:n})=>{const o=t();return Object(i.o)(o)?n.get(r).then((t=>{e(m(t))})).catch((()=>{e(m())})):(e(m()),Promise.resolve())}));o.a.register({[a]:function(e=c,t){switch(t.type){case C:{const n=t.payload,o=n?l(n,e.recentSearches):[];return o.length>49&&o.splice(49,1),n&&o.unshift(n),{...e,recentSearches:o}}case w:{const n=t.payload,o=n?l(n,e.recentSearches):[];return{...e,recentSearches:o}}case b:return{fetched:!0,recentSearches:[]};case p:return{...e,...t.payload,fetched:!0};default:return e}}})},xZXe:function(e,t,n){"use strict";n.d(t,"a",(function(){return Re}));var o=n("97Jx"),i=n.n(o),a=(n("kYxP"),n("Cm4o"),n("KrtT"),n("ERkP")),r=n.n(a),s=n("ZyXd"),l=n("TZwD"),c=n("RqPI"),d=n("1YZw"),h=n("6rlp"),u=n("0pUJ"),p=n("Fmkq"),m=n("j7tW"),w=n("Zejx"),_=n("XOJV"),b=n("D5n3"),g=n("G6rE"),C=n("Ig1G"),v=n("jL08"),f=n("eSoz"),y=n("rxPX"),T=n("0KEI"),k=n("EGrD"),I=n("x5Pi"),E=n("P1r1");const x=(e,{tweetId:t})=>Object(m.b)(e,t),S=(e,t)=>t.tweetId,P=(e,{urtAdvertiser:t,urtPromotedContent:n})=>{if(e&&n){const o=e.promoted_content;return{...e,promoted_content:{adMetadataContainer:n.adMetadataContainer,disclosure_type:n.disclosureType,experiment_values:n.experimentValues,impression_id:n.impressionId,advertiser:t?{id_str:t.id_str}:void 0,advertiser_name:(null==t?void 0:t.name)||void 0,click_tracking_info:n.clickTrackingInfo,...o}}}return e},A=(e,{socialContext:t})=>t,L=(e,{socialContext:t})=>{const n=t&&t.topicContext;return n?w.a.select(e,n.topicId):void 0},O=(e,t)=>{const n=t.tweetId,o=n&&_.a.select(e,n);return o?Object(f.g)(e,o):void 0},D=(e,t)=>{const n=_.a.createHydratedTweetSelector(S)(e,t),o=null==n?void 0:n.quoted_status;return o?Object(f.g)(e,o):void 0},R=(e,{urtPromotedContent:t})=>t,M=(e,{urtPromotedContent:t})=>t?g.e.select(e,t.advertiserId):null,F=(e,t)=>t.contextTweetId;var U=Object(y.a)().propsFromState((()=>({adFreeArticleDomains:k.c,articleDomains:v.b,community:O,contextTweet:_.a.createHydratedTweetSelector(F),displaySensitiveMedia:E.k,explicitSocialContext:A,isNsfwUser:E.t,isPinned:x,loggedInUser:g.e.selectLoggedInUser,quoteTweetCommunity:D,topic:L,tweet:_.a.createHydratedTweetSelector(S),urtAdvertiser:M,urtPromotedContent:R,userCountry:c.A,userLanguage:c.q}))).adjustStateProps((({adFreeArticleDomains:e,articleDomains:t,community:n,contextTweet:o,displaySensitiveMedia:i,explicitSocialContext:a,isNsfwUser:r,isPinned:s,loggedInUser:l,quoteTweetCommunity:c,topic:d,tweet:h,urtAdvertiser:u,urtPromotedContent:p,userCountry:m,userLanguage:w})=>{var _,b,g;const f=h&&Object(I.f)(h,null==l?void 0:l.id_str),y=null==h||null==(_=h.card)||null==(b=_.binding_values)||null==(g=b.domain)?void 0:g.string_value,T=Object(v.a)(t,y),k=null==h?void 0:h.quoted_status,E=k?Object(I.f)(k,null==l?void 0:l.id_str,c):void 0,x=E&&Object(I.e)(E),S=Object(C.g)(null==n?void 0:n.role),A=a||f;return{adFreeArticleDomains:e,contextTweet:o,displaySensitiveMedia:i,isCardArticle:T,isNsfwUser:r,isPinned:s,loggedInUser:l,promotedContentAdvertiser:u||void 0,quoteTweetSocialContextProps:x,socialContext:A,socialContextColor:Object(C.j)(n,A),topic:d,tweet:P(h,{urtPromotedContent:p,urtAdvertiser:u}),userCountry:m,userLanguage:w,withCommunityModerationAuthority:S}})).propsFromActions((()=>({addToast:d.b,block:g.e.block,createLocalApiErrorHandler:Object(T.createLocalApiErrorHandlerWithContextFactory)("TWEET_CONTAINER_CONTEXT"),log:h.a,fetchAdFreeToken:k.a,fetchCommunityIfNeeded:f.c.fetchOneIfNeeded,fetchTopicIfNeeded:w.a.fetchOneIfNeeded,loadAdFreeArticleDomainsFromPersistence:k.b,mute:u.a,onUnretweet:b.a,richScribeAction:p.richScribeAction,setArticlesVisited:v.e,undoTopicNotInterested:w.a.undoNotInterested,unblock:g.e.unblock,unmute:g.e.unmute,updateLongformNotesLearnMoreBanner:_.a.updateLongformNotesLearnMoreBanner}))).withAnalytics(),B=n("6bZg"),N=n("sCEu"),H=n("3XMw"),j=n.n(H),W=n("iFPY"),z=n("hACr"),V=n("jQy5"),q=n("3IPs"),G=n("Rp9C"),K=n("uArA"),Q=n("X04g"),X=n("xM7j"),$=n("BLtI"),J=n("3zeG"),Y=n("IO7v"),Z=n("Irs7");var ee=n("MWbm"),te=n("v6aA"),ne=n("E0cF"),oe=n("OIC0"),ie=n("+pKb"),ae=n("/Ikv"),re=n("Z6aJ"),se=n("lHOd"),le=n("7JQg"),ce=n("cFuS"),de=n("24HD"),he=n("4hQ9"),ue=n("fz3c"),pe=n("64vW"),me=n("rHpw"),we=n("gZV8");function _e(e){const{id:t,onFullyVisible:n,position:o,testID:i}=e,a=r.a.useMemo((()=>{switch(o){case"top":return be.topPixel;case"bottom":return be.bottomPixel;case"right":return be.rightPixel;case"left":return be.leftPixel;default:return}}),[o]),s=r.a.useCallback((e=>{e.visibleFraction()>=we.c&&n()}),[n]);return r.a.createElement(ee.a,{style:[be.impressionPixelContainer,a],testID:i},r.a.createElement(we.e,{key:t,onPlacementChange:s},r.a.createElement(ee.a,{style:be.impressionPixel})))}const be=me.a.create((e=>({impressionPixel:{visibility:"hidden",height:"1px",width:"1px"},impressionPixelContainer:{position:"absolute"},topPixel:{top:"0",right:"50%"},bottomPixel:{bottom:"0",right:"50%"},rightPixel:{right:"0",top:"50%"},leftPixel:{left:"0",top:"50%"}}))),ge="top-impression-pixel",Ce="bottom-impression-pixel",ve="right-impression-pixel",fe="left-impression-pixel";class ye extends r.a.PureComponent{constructor(...e){super(...e),this._areHeightsReady=()=>this.props.heightsReady,this._renderImpressionPixels=e=>r.a.createElement(r.a.Fragment,null,r.a.createElement(_e,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"top",testID:ge}),r.a.createElement(_e,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"right",testID:ve}),r.a.createElement(_e,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"bottom",testID:Ce}),r.a.createElement(_e,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"left",testID:fe})),this._handleOnVisible=e=>()=>{const{id:t,onVisible:n}=this.props,o=e();o&&this._lastVisibleId!==t&&n&&(this._lastVisibleId=t,n(o))},this._handlePlacementChange=e=>{const{id:t,onFullyVisible:n,onVisible:o,shouldUseImpressionPixel:i}=this.props;if(!this._areHeightsReady())return;i||this._lastVisibleId!==t&&e.verticalOverlap()>=1&&(this._lastVisibleId=t,o(e));const a=e.visibleFraction()>=we.c,r=e.item.height>e.viewport.height,s=e.verticalOverlap()===e.viewport.height||r&&e.visibleFraction()>=we.d;this._lastFullyVisibleId!==t&&(a||s)&&(this._lastFullyVisibleId=t,n&&n(e))},this._handleLayout=e=>{const{nativeEvent:{layout:{height:t,width:n}}}=e,o={width:n,height:t};if(this._prevLayout&&(this._prevLayout.width!==n||this._prevLayout.height!==t)){const{onResize:e}=this.props;e&&e(this._prevLayout,o)}this._prevLayout=o}}render(){const{children:e,id:t,shouldUseImpressionPixel:n}=this.props;return r.a.createElement(we.e,{key:t,onLayout:this._handleLayout,onPlacementChange:this._handlePlacementChange},(({getScrollPlacement:t})=>r.a.createElement(r.a.Fragment,null,n&&this._areHeightsReady()&&this._renderImpressionPixels(t),e)))}}function Te(e){return r.a.createElement(pe.a.Consumer,null,(({heightsReady:t})=>r.a.createElement(ye,i()({},e,{heightsReady:t}))))}var ke=n("fs1G"),Ie=n("zTrU"),Ee=n("mN6z"),xe=n("Cqiq");const Se=j.a.f277e94a,Pe=j.a.e4c6c30a;class Ae extends r.a.Component{constructor(e,t){var n;super(e,t),this._shouldLogPromotedImpression=Oe.bind(null,this.context.featureSwitches),this._isProbablyRemovedByAdBlocker=Le.bind(null,this.context.featureSwitches),this._isArticleNudgeEnabled=this.context.featureSwitches.isTrue("responsive_web_article_nudge_enabled"),this._isCompatibilityScribeEnabled=this.context.featureSwitches.isTrue("responsive_web_extension_compatibility_scribe"),this._isCommunitiesEnabled=this.context.featureSwitches.isTrue("c9s_enabled"),this._shouldUseImpressionPixel=this.context.featureSwitches.isTrue("responsive_web_impression_pixel_enabled"),this._hasClaimsForAdFreeArticles=null==(n=this.context.userClaims)?void 0:n.isTrueAndEnabled("subscriptions_feature_1006"),this._twitterArticleLearnMoreBannerEnabled=this.context.featureSwitches.isTrue("responsive_web_twitter_article_view_enabled"),this._renderBlockOrUnblockConfirmationSheet=()=>{const{tweet:e}=this.props,{user:t}=e;return Object(de.j)({confirmation:Object(de.h)(t),onClose:this._handleBlockOrUnblockConfirmClose,handleConfirm:this._handleBlockOrUnblockUserConfirm})},this._handleShowReportedTweet=()=>{this.setState({displayReported:!0,enableKeyboardShortcuts:!1})},this._handleUnretweet=()=>{const{createLocalApiErrorHandler:e,onUnretweet:t,tweet:n}=this.props;t(ne.a.getOriginalTweet(n).id_str,{promotedContent:n.promoted_content}).catch(e(Y.a))},this._getShortcutKeyHandlers=()=>{const{onClick:e,shortcutKey:t}=this._getMuteOrUnmuteAction(),{shortcutKey:n}=this._getBlockOrUnblockAction(),o=this.context.loggedInUserId===this.props.tweet.user.id_str;return{...t&&{[t]:e},...n&&!o&&{[n]:this._handleBlockOrUnblockConfirmOpen}}},this._handleBlockOrUnblockConfirmOpen=()=>{this.setState({showBlockOrUnblockConfirmation:!0})},this._handleBlockOrUnblockConfirmClose=()=>{this.setState({showBlockOrUnblockConfirmation:!1})},this._handleBlockOrUnblockUserConfirm=()=>{const{onClick:e}=this._getBlockOrUnblockAction();this._handleBlockOrUnblockConfirmClose(),e&&e()},this._getBaseTweetProps=()=>{var e,t;const{contextualClientEventInfo:n,conversationTreeMetadata:o,feedbackItems:i,focalTweetId:a,forwardPivotInfo:r,handleBlockTrigger:s,isNsfwUser:l,isPinned:c,onTweetDismiss:d,ruxContext:h,saveAsRecentSearch:u,scribeData:p,shouldStoreTypeaheadItem:m,socialContext:w,topicFollowPrompt:_,tweet:b,userCountry:g,userLanguage:C,withActionsDisabled:v,withCommunityModerationAuthority:f,withCurationMenu:y,withHideReply:T,withMuteConversation:k,withUnhideReply:I,withViewHiddenReplies:E}=this.props,x=ne.a.getOriginalTweet(b),S=this._getPromotedContent(),P=p.items&&p.items[0]&&p.items[0].suggestion_details,A=this._isSelected(),L=x&&x.card&&!b.is_quote_status?x.card.url:void 0,{loggedInUserId:O}=this.context,D=(null==x||null==(e=x.user)?void 0:e.id_str)===O,R=!x.in_reply_to_status_id_str&&D&&!x.community_id_str,M=this._renderConversationControlsTooltip(),F=null==(t=x.longformNotesLearnMore)?void 0:t.showBanner;return{excludeCardUrl:L,inlineCalloutInfo:this._getInlineCalloutInfo(),isFocal:a===b.id_str,onAnalyticsClick:this._handleAnalyticsClick,onAvatarClick:this._handleAvatarClick,onBirdwatchNotesIconClick:this._handleBirdwatchNotesIconClick,onBirdwatchNotesIconShown:this._handleBirdwatchNotesIconShown,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onClick:b.isPreview?this._handlePreviewClick:this._handleTweetClick,onEntityClick:this._handleEntityClick,onFocus:this._handleFocus,onLikeSuccess:this._handleLikeSuccess,onMediaClick:b.isPreview?this._handleEmbeddedMediaPreviewClick:this._handleEmbeddedMediaClick,onMediaHashtagHighlightClick:this._handleMediaHashtagHighlightClick,onModeratedIconClick:this._handleModeratedIconClick,onModeratedIconShown:this._handleModeratedIconShown,onPoliticalSponsorWebsiteClick:this._handlePoliticalSponsorWebsiteClick,onPromoteButtonClick:this._handlePromoteButtonClick,onPromoteAgainButtonClick:this._handlePromoteAgainButtonClick,onPromotedDisclaimerLearnMoreClick:this._handlePromotedDisclaimerLearnMoreClick,onPromotedIndicatorClick:this._handlePromotedIndicatorClick,onPromotedUserProfileCardClick:this._handlePromotedUserProfileCardClick,onQuoteTweetClick:this._handleQuoteTweetClick,onReply:this._handleInlineReplyClick,onReplyContextClick:this._handleReplyContextClick,onScreenNameClick:this._handleScreenNameClick,onSelfThreadClick:this._handleSelfThreadClick,onSelfThreadImpression:this._handleSelfThreadImpression,onUndoTopicNotInterestedClick:this._handleUndoTopicNotInterested,promotedContent:S,renderCurationActionMenu:y&&!b.isPreview?this._getRenderCurationActionMenu(r&&r.displayType,i,s,v,l,c,A,this._handleCaretClick,d,S,x,T,f,k,I,R,E,o,null==n?void 0:n.entityToken,M,g,C):void 0,saveAsRecentSearch:u,shouldStoreTypeaheadItem:m,showLongformNotesLearnMoreBanner:F,to:{state:{focal:x.id_str,socialContext:w,contextualClientEventInfo:n,contextTweetId:b.id_str,promotedContent:S,suggestionDetails:P,topicFollowPrompt:_},pathname:x.permalink,query:h?{cxt:h}:void 0}}},this._getReaderModeTweetProps=()=>{var e;const{contextualClientEventInfo:t,ruxContext:n,scribeData:o,socialContext:i,topicFollowPrompt:a,tweet:r,tweetTextSize:s}=this.props,l=ne.a.getOriginalTweet(r),c=this._getPromotedContent(),d=o.items&&o.items[0]&&o.items[0].suggestion_details;return{excludeCardUrl:null==(e=r.card)?void 0:e.url,onAnalyticsClick:ke.a,onAvatarClick:ke.a,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onClick:r.isPreview?this._handlePreviewClick:this._handleTweetClick,onEntityClick:ke.a,onFocus:this._handleFocus,onMediaClick:this._handleEmbeddedMediaClick,onReplyContextClick:ke.a,to:{state:{focal:l.id_str,socialContext:i,contextualClientEventInfo:t,contextTweetId:r.id_str,promotedContent:c,suggestionDetails:d,topicFollowPrompt:a},pathname:l.permalink,query:n?{cxt:n}:void 0},tweet:r,tweetTextSize:s||"headline1",withActions:!1,withAvatarLink:!1,withReaderModeBottomBar:!0,withUserAvatar:!1,withUserHoverCard:!1,withUserName:!1,withTimestamp:!1}},this._getInlineCalloutInfo=()=>{const{displaySensitiveMedia:e,isNsfwUser:t,scribeNamespace:n,tweet:o,userCountry:i,userLanguage:a}=this.props,{featureSwitches:r,loggedInUserId:s}=this.context;if(Object(he.e)({displaySensitiveMedia:e,featureSwitches:r,isNsfwUser:t,loggedInUserId:s,tweet:o,userCountry:i,userLanguage:a}))return Object(he.d)(o,n,r)},this._getBlockOrUnblockAction=()=>{const{addToast:e,block:t,contextualClientEventInfo:n,createLocalApiErrorHandler:o,tweet:i,unblock:a}=this.props,{user:r}=i,s=this._getPromotedContent(),c={addToast:e,behavioralEventEntityToken:null==n?void 0:n.entityToken,createLocalApiErrorHandler:o,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(l.a)({...c,block:t,unblock:a,user:r,promotedContent:s})},this._getMuteOrUnmuteAction=()=>{const{addToast:e,contextualClientEventInfo:t,createLocalApiErrorHandler:n,mute:o,tweet:i,unmute:a}=this.props,{user:r}=i,s={addToast:e,behavioralEventEntityToken:null==t?void 0:t.entityToken,createLocalApiErrorHandler:n,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}},l=this._getPromotedContent();return Object(V.a)({...s,mute:o,unmute:a,user:r,promotedContent:l})},this._renderConversationControlsTooltip=()=>{const{loggedInUserId:e}=this.context,{showMidConversationControlEducationText:t,tweet:n}=this.props,o=ne.a.getOriginalTweet(n);if(!o)return!1;const i=!!o.community_id_str,a=o.user&&o.user.id_str===e,r=o.reply_count>0;return!o.in_reply_to_status_id_str&&a&&r&&!i&&t},this._getRenderCurationActionMenu=Object(Ie.a)(((e,t,n,o,i,a,s,l,c,d,h,u,p,m,w,_,b,g,C,v,f,y)=>()=>r.a.createElement(J.a,{behavioralEventEntityToken:C,feedbackItems:t,forwardPivotDisplayType:e,handleBlockTrigger:n,isDisabled:o,isNsfwUser:i,isPinned:a,onMenuClick:l,onTweetDismiss:c,promotedContent:d,tweet:h,userCountry:f,userLanguage:y,withChangeConversationControls:_,withChangeConversationControlsTooltip:v,withCommunityModerationAuthority:p,withHideReply:u,withMuteConversation:m,withUnhideReply:w,withViewHiddenReplies:b}))),this._getDefaultScribeData=Object(Ie.a)(((e,t,n,o,i,a)=>{const r=(({clickTrackingEmbedDetails:e,contextualScribeData:t,isSelected:n,overflow:o,promotedContent:i,scribeData:a,tweet:r})=>({...t||{},...a||{},...e&&{click_tracking_embed_details:e},items:G.a.addTweetToItems(a?a.items:[],r,i,n,o)}))({tweet:e,promotedContent:t,scribeData:n,overflow:o,isSelected:this._isSelected(),contextualScribeData:i,clickTrackingEmbedDetails:a});return this._cachedFinalScribeData&&Object(Ee.a)(r,this._cachedFinalScribeData)||(this._cachedFinalScribeData=r),this._cachedFinalScribeData})),this._scribeAction=(e,t={},n,o,i)=>{var a;const{analytics:r,history:s,richScribeAction:l,scribeData:c,scribeNamespace:d,tweet:h}=this.props,u=null==(a=s.location.state)?void 0:a.overflow,p=this._getPromotedContent();let m=c;if(o){const e=G.a.getUserItem(h.user,p),t=m.items?[...m.items,e]:[e];m={...m,items:t}}if(i){const e={article_details:{is_ad_free:i}},t=m.items?[...m.items,e]:[e];m={...m,items:t}}l({...d,...e},{...this._getDefaultScribeData(ne.a.getOriginalTweet(h),p,m,u,r.contextualScribeData,n),...t})},this._handlePoliticalSponsorWebsiteClick=()=>{this._scribeAction({component:"political_ad",element:"organization_website",action:"click"})},this._handlePromotedDisclaimerLearnMoreClick=e=>()=>{this._scribeAction({component:e,element:"learn_more",action:"click"})},this._handlePromotedIndicatorClick=()=>{this._handleAsyncPromotedEvent(ce.b.FOOTER_PROFILE)},this._handleFocus=()=>{this.setState({enableKeyboardShortcuts:!0})},this._handleBlur=()=>{this.setState({enableKeyboardShortcuts:!1})},this._getPromotedContent=()=>{const{displayPromotedContent:e,tweet:t}=this.props;return e?t.promoted_content:void 0},this._handleImpression=e=>{this._shouldLogPromotedImpression(e)&&this._handleAsyncPromotedEvent(ce.b.IMPRESSION)},this._handleFullyVisible=e=>{this._shouldLogPromotedImpression(e)&&this._handleAsyncPromotedEvent(ce.b.DWELL)},this._handleResize=(e,t)=>{!this._isProbablyRemovedByAdBlocker(e)&&this._isProbablyRemovedByAdBlocker(t)&&(s.a.recordAdBlockerPresence(),this._isCompatibilityScribeEnabled&&this._scribeAction({action:"blocked_ad"}))},this._handleInlineReplyClick=e=>{const{loggedInUserId:t}=this.context,{history:n,tweet:o}=this.props,i=this._getPromotedContent();e.preventDefault(),this._scribeAction({element:"inline_reply",action:"reply"}),n.push({state:{inReplyToStatusId:o.id_str,isSelfThreadReply:!!t&&Object(he.c)({tweet:o,loggedInUserId:t}),promotedContent:i},pathname:"/compose/tweet"})},this._handleLikeSuccess=()=>{if(this.context.featureSwitches.isTrue("home_timeline_like_reactivity_enabled")){const{onLike:e}=this.props,t="LikeReactionFatigue";try{const n=JSON.parse(window.sessionStorage.getItem(t))||0;n<this.context.featureSwitches.getNumberValue("home_timeline_like_reactivity_fatigue")&&e&&e().then((e=>{null!=e&&e.performed&&window.sessionStorage.setItem(t,JSON.stringify(n+1))}))}catch(e){}}},this._handleReplyContextClick=(e,t)=>this._scribeAction({element:"reply_context",action:"click"},{event_value:t}),this._handleAsyncPromotedEvent=(e,t)=>{const{createLocalApiErrorHandler:n,log:o,tweet:i}=this.props,a=this._getPromotedContent();if(a){const{disclosure_type:r,impression_id:s}=a;o({disclosureType:r,itemId:i.id_str,itemType:ce.c.TWEET,params:{event:e,impression_id:s,...t}}).catch(n())}},this._handleModeratedIconClick=()=>this._scribeAction({element:"moderated_replies_icon",action:"click"}),this._handleModeratedIconShown=()=>this._scribeAction({element:"moderated_replies_icon",action:"impression"}),this._handleBirdwatchNotesIconClick=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"click"}),this._handleBirdwatchNotesIconShown=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"impression"}),this._handleAnalyticsClick=()=>{this._scribeAction({element:"analytics",action:"click"})},this._handlePromoteButtonClick=()=>{this._scribeAction({element:"promote",action:"click"})},this._handlePromoteAgainButtonClick=()=>{this._scribeAction({element:"promote_again",action:"click"})},this._handleAvatarClick=()=>{const{tweet:e}=this.props;this._handleSaveAsRecentSearchUser(),this._scribeAction({element:"avatar",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(ce.b.PROFILE_IMAGE_CLICK)},this._handleCaretClick=()=>this._scribeAction({element:"caret",action:"click"}),this._handleTweetClick=Object(K.a)((e=>{if(!e.defaultPrevented){if(e.stopPropagation(),window.getSelection().toString().length)return;this._scribeAction({element:"tweet",action:"click"}),this._handleAsyncPromotedEvent(ce.b.VIEW_DETAILS)}})),this._handlePreviewClick=e=>{e.preventDefault()},this._handleEmbeddedMediaPreviewClick=e=>{null==e||e.preventDefault()},this._handleEmbeddedMediaClick=()=>{this._scribeAction({element:"platform_photo_card",action:"click"}),this._handleAsyncPromotedEvent(ce.b.EMBEDDED_MEDIA)},this._handleQuoteTweetClick=()=>{this._scribeAction({element:"tweet",action:"click"}),this._handleAsyncPromotedEvent(ce.b.VIEW_DETAILS)},this._handleEntityClick=(e,t,n)=>{const{adFreeArticleDomains:o,createLocalApiErrorHandler:i,fetchAdFreeToken:a,tweet:r}=this.props,s=ce.a[t],l=B.a[t],c=this._getPromotedContent(),d=G.a.getClickTrackingEmbedDetails(c,n);if(s){const t=s===ce.b.URL_CLICK&&e.currentTarget instanceof window.HTMLElement?{url:e.currentTarget.href}:void 0;this._handleAsyncPromotedEvent(s,t)}if(t===oe.a.MEDIA)return this._handleTweetClick(e);t===oe.a.URL&&d&&this._scribeAction({action:ie.b.CLICK_ID_EMBED},{},d);let h=!1;if(this._hasClaimsForAdFreeArticles&&null!=n&&n.expandedUrl){const t=new URL(n.expandedUrl).hostname,[s,l]=new N.a(a,i()).getAdFreeArticlesClickHandler({destinationUrl:n.embeddedUrl,linkDomain:t,adFreeArticleDomains:o,tweetAuthorUserId:r.user.id_str});s&&(l(e),h=!0)}if(t===oe.a.MENTION){const e=null!=n&&n.text?[{item_type:Q.a.ItemType.USER,name:n.text,id:n.id_str}]:void 0;return this._scribeAction({action:l},{targets:e},void 0,void 0,h)}if(t===oe.a.HASHTAG){const e=null!=n&&n.text?[{name:n.text}]:void 0;return this._scribeAction({action:l},{targets:e},void 0,void 0,h)}if(t===oe.a.INTERACTIVE_HIGHLIGHT&&void 0!==(null==n?void 0:n.id))return this._scribeAction({element:"interactive_text",action:l},{interactive_text_details:{id:n.id}},void 0,void 0,h);l&&this._scribeAction({action:l},void 0,void 0,void 0,h)},this._handlePromotedUserProfileCardClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"user_recommendation",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(ce.b.SCREEN_NAME_CLICK)},this._handleScreenNameClick=()=>{const{tweet:e}=this.props;this._handleSaveAsRecentSearchUser(),this._scribeAction({element:"user",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(ce.b.SCREEN_NAME_CLICK)},this._handleSelfThreadClick=()=>this._scribeAction({element:"self_thread",action:"click"}),this._handleSelfThreadImpression=()=>this._scribeAction({element:"self_thread",action:"impression"}),this._handleTopicFetch=()=>{var e;const{createLocalApiErrorHandler:t,fetchTopicIfNeeded:n,socialContext:o}=this.props,i=o&&(null==(e=o.topicContext)?void 0:e.topicId);i&&n(i).catch(t())},this._handleCommunityFetch=()=>{const{createLocalApiErrorHandler:e,fetchCommunityIfNeeded:t,tweet:n}=this.props;if(this._isCommunitiesEnabled&&n){var o;const i=n.community_id_str,a=null==(o=n.quoted_status)?void 0:o.community_id_str;i&&t(i).catch(e()),a&&t(a).catch(e())}},this._handleLongformNotesLearnMoreRender=()=>{const{tweet:e,updateLongformNotesLearnMoreBanner:t}=this.props,n=ne.a.getOriginalTweet(e),o=ne.a.hasLongformNoteUrl(n);e&&o&&this._twitterArticleLearnMoreBannerEnabled&&t(n.id_str)},this._handleUndoTopicNotInterested=()=>{const{createLocalApiErrorHandler:e,topic:t,undoTopicNotInterested:n}=this.props;this._scribeAction({element:"topic",action:"un_not_interested"}),t&&n(t.id).catch(e())},this._handleCardLinkClick=e=>{var t;const{adFreeArticleDomains:n,analytics:o,createLocalApiErrorHandler:i,fetchAdFreeToken:a,isCardArticle:r,setArticlesVisited:s,tweet:l}=this.props;if(r&&this._isArticleNudgeEnabled){var c;const e=null==l||null==(c=l.card)?void 0:c.url;var d;if(e)s(e),o.scribe({component:"article_nudge",element:"read_article",action:"click",data:{items:[{token:null==l||null==(d=l.card)?void 0:d.url,in_reply_to_tweet_id:l.id_str}]}})}const h=null==l||null==(t=l.card)?void 0:t.binding_values;if(this._hasClaimsForAdFreeArticles&&h){const[t,o]=new N.a(a,i()).getAdFreeArticlesClickHandler({destinationUrl:ae.a.getBindingValue(h,"card_url"),linkDomain:ae.a.getBindingValue(h,"domain"),adFreeArticleDomains:n});t&&o(e)}},this._handleSaveAsRecentSearchUser=()=>{const{saveAsRecentSearch:e,shouldStoreTypeaheadItem:t,tweet:n}=this.props,{user:o}=n;e&&t&&t(Q.a.ItemType.USER)&&e({user:{id:o.id_str,type:q.a.User}})},this._isSelected=()=>{const{conversationTreeMetadata:e,tweet:t}=this.props,{selectedTweet:n}=e||{};return n&&t.id_str===n.selectedTweetId},this._handleMediaHashtagHighlightClick=()=>{this._handleAsyncPromotedEvent(ce.b.HASHTAG_CLICK)},this.state={displayReported:!1,enableKeyboardShortcuts:!1,showBlockOrUnblockConfirmation:!1};const o=this._getPromotedContent();this._shouldHidePromotedTweet=re.a.isPromoted(o)&&s.a.shouldHidePromotedTweets(this.context.featureSwitches)}shouldComponentUpdate(e,t){return!Object(Ee.a)(this.props,e)||!Object(Ee.a)(this.state,t)}componentDidMount(){this._shouldHidePromotedTweet&&this._isCompatibilityScribeEnabled&&this._scribeAction({action:"hide_promoted"}),this._handleTopicFetch(),this._handleCommunityFetch(),this._handleLongformNotesLearnMoreRender(),this._hasClaimsForAdFreeArticles&&this.props.loadAdFreeArticleDomainsFromPersistence()}render(){var e;const{loggedInUserId:t}=this.context,{conversationPosition:n,conversationTreeMetadata:o,showWithheldBannerOnMyTweets:i,tweet:a}=this.props;if(!this._shouldRender())return o?r.a.createElement(X.a,{conversationPosition:n,conversationTreeMetadata:o},Pe):null;const s=(null==a||null==(e=a.user)?void 0:e.id_str)===t,l=Object(xe.b)(ne.a.getOriginalTweet(a).withheld_scope),c=s&&!a.retweeted_status,d=c&&"user"===ne.a.getOriginalTweet(a).withheld_scope&&!i,h=Object(ue.h)(a)&&!this.state.displayReported;return r.a.createElement(r.a.Fragment,null,l?r.a.createElement(ee.a,null,d?null:this._renderWithheldTweet(),c?this._renderContent():null):h?this._renderReportedTombstone():this._renderContent(),this._renderIntentPrompt(),this.state.showBlockOrUnblockConfirmation?this._renderBlockOrUnblockConfirmationSheet():null)}_renderIntentPrompt(){const{contextualClientEventInfo:e,forwardPivotInfo:t,history:n,tweet:o,tweetId:i}=this.props;if(o&&"focal_module"===(null==e?void 0:e.component)&&n.location.pathname.indexOf("/intent/")>-1&&n.location.query.tweet_id===i)return r.a.createElement(W.a,{forwardPivotInfo:t,history:n,location:n.location,tweetId:o.id_str})}_renderWithheldTweet(){const{conversationPosition:e,conversationTreeMetadata:t,tweet:n}=this.props,o=n.user.id_str,i=ne.a.getOriginalTweet(n),{loggedInUserId:a}=this.context,s=!!a&&a===o&&i.retweeted,l=i.withheld_text||i.text,c=i.withheld_entities||i.entities,d=n.user.id_str===a;return r.a.createElement(xe.a,{conversationPosition:e,conversationTreeMetadata:d?void 0:t,displayTextRange:i.display_text_range,entities:c,lang:i.lang,onUnretweet:s?this._handleUnretweet:void 0,showUnretweetButton:s,text:l})}_renderReportedTombstone(){const{conversationPosition:e,conversationTreeMetadata:t,tweet:n}=this.props,o=ne.a.getOriginalTweet(n),i=Object(ue.c)(o.reportingVisibility);return r.a.createElement(X.a,{actionText:Se,conversationPosition:e,conversationTreeMetadata:t,lang:o.lang,onClick:this._handleShowReportedTweet},i)}_renderContent(){var e;const{allowDownvote:t,analytics:n,bookmarkFolderId:o,contextTweet:i,contextualClientEventInfo:a,conversationPosition:s,conversationTreeMetadata:l,displayBlocked:c,forwardPivotInfo:d,hasModeratedReplies:h,hideConversationControlsEducationText:u,hideExclusivityInfoEducationTextInReplies:p,hideTrustedFriendsEducationTextInReplies:m,history:w,hitHighlights:_,injectedFeedbackItem:b,innerForwardPivotInfo:g,isReaderMode:C,isUnread:v,linkify:f,loggedInUser:y,nudges:T,promotedContentAdvertiser:k,quoteTweetSocialContextProps:I,quotedTweetTombstoneInfo:E,replyBadge:x,replyContext:S,rootTweetAuthorId:P,scribeData:A,scribeNamespace:L,shouldSelfThreadIncludeAvatar:O,socialContext:D,socialContextColor:R,topic:M,topicFollowPrompt:F,tweet:U,withActions:B,withActionsDisabled:N,withBirdwatchPivots:H,withCardLinks:j,withInlineMedia:W,withQuotedTweetLinks:V,withRemoveFromBookmarks:q,withSelfThread:G,withSocialContext:K,withUserPresence:Q}=this.props,{enableKeyboardShortcuts:X}=this.state,J=ne.a.getOriginalTweet(U),Y=this._getPromotedContent(),Z=Object(Ee.a)(this._cachedScribeNamespace,L)?this._cachedScribeNamespace:this._cachedScribeNamespace=L,ee=null==(e=w.location.state)?void 0:e.overflow,te={...{allowDownvote:t,bookmarkFolderId:o,contextTweet:i,contextualClientEventInfo:a,conversationPosition:s,conversationTreeMetadata:l,displayBlocked:c,enableKeyboardShortcuts:X,forwardPivotInfo:d,nudges:T,hasModeratedReplies:h,hideConversationControlsEducationText:u,hideExclusivityInfoEducationTextInReplies:p,hideTrustedFriendsEducationTextInReplies:m,hitHighlights:_,injectedFeedbackItem:b,innerForwardPivotInfo:g,linkify:f,loggedInUser:y,promotedContentAdvertiser:k,quotedTweetTombstoneInfo:E,quoteTweetSocialContextProps:I,replyBadge:x,replyContext:S,rootTweetAuthorId:P,shouldSelfThreadIncludeAvatar:O,socialContext:D,socialContextColor:R,topic:M,topicFollowPrompt:F,tweet:U,withActions:B,withActionsDisabled:N,withBirdwatchPivots:H,withCardLinks:j,withInlineMedia:W,withQuotedTweetLinks:V,withRemoveFromBookmarks:q,withSelfThread:G,withSocialContext:K,withUnreadStyles:v,withUserPresence:Q},...C?this._getReaderModeTweetProps():this._getBaseTweetProps()},oe=r.a.createElement(le.c,{data:this._getDefaultScribeData(J,Y,A,ee,n.contextualScribeData,void 0),namespace:Z},r.a.createElement(z.a,{enabled:!!X,handlers:this._getShortcutKeyHandlers()},r.a.createElement($.b,te)));return Y?r.a.createElement(Te,{id:U.id_str,onFullyVisible:this._handleFullyVisible,onResize:this._handleResize,onVisible:this._handleImpression,shouldUseImpressionPixel:this._shouldUseImpressionPixel},oe):oe}_shouldRender(){const{tweet:e}=this.props;return!(this._shouldHidePromotedTweet||this._tweetIsDeleted()||this._shouldHideBlockedTweet()||Object(ue.f)(e))}_tweetIsDeleted(){const{tweet:e}=this.props,{retweeted_status:t}=e;return e.isDeleted||t&&t.isDeleted}_shouldHideBlockedTweet(){var e,t;const{displayBlocked:n,focalTweetId:o,tweet:i}=this.props,a=ne.a.getOriginalTweet(i),r=!(null==i||null==(e=i.user)||!e.blocking)||!(null==a||null==(t=a.user)||!t.blocking);return o!==i.id_str&&(!n&&r)}}Ae.defaultProps={displayBlocked:!1,shouldSelfThreadIncludeAvatar:!1,showWithheldBannerOnMyTweets:!0,withCardLinks:!1,withCurationMenu:!0,withRemoveFromBookmarks:!1,withMuteConversation:!1},Ae.contextType=te.a;const Le=(e,t)=>t.height<=e.getNumberValue("responsive_web_extension_compatibility_size_threshold",50),Oe=(e,t)=>!(e.isTrue("responsive_web_extension_compatibility_impression_guard")&&Le(e,t.item)),De=e=>{const t=r.a.useContext(se.a);return((e,t)=>{const n=Object(Z.b)();r.a.useEffect((()=>{t||n.scribe({action:"hydration_failed",data:{tweet_id:e}})}),[n,t,e])})(e.tweetId,e.tweet),e.tweet?r.a.createElement(Ae,i()({},e,{history:t,tweet:e.tweet})):null};De.defaultProps=Ae.defaultProps;const Re=U(De);t.b=Object(le.a)({component:"tweet"})(Re)}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.tweetHandler.f72b4b77.js.map