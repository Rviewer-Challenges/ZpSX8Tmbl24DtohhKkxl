(window.webpackJsonp=window.webpackJsonp||[]).push([[246],{"0W/e":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("rHpw");const r=e=>1===e?{height:n.a.theme.spacesPx.space48,width:n.a.theme.spacesPx.space48}:{height:n.a.theme.spacesPx.space40,width:e*n.a.theme.spacesPx.space40}},PEva:function(e,t,a){"use strict";a.r(t);a("kYxP");var n=a("ERkP"),r=a.n(n),l=a("+xEG"),i=a("aoyV"),s=a("Zl35"),o=a("fZNH"),c=a("ub6r"),u=a("0nHQ"),p=a("USG3"),m=a("Q0n6"),d=a("5VhU"),h=a("hhMf"),b=a("Ur4q"),y=a("oH2E"),f=a("t62R"),E=a("Wms4"),g=a("vCAy"),S=a("w05h"),C=a("IE/l"),v=a("N2PN"),w=a("dPHj"),R=a("/yvb"),T=a("0W/e"),A=a("kCRK"),k=a("Lsrn"),L=a("k/Ka");const _=(e={})=>Object(L.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[k.a.root,e.style],viewBox:"0 0 24 24"},r.a.createElement("g",null,r.a.createElement("path",{d:"M20.5 2h-1c-.828 0-1.5.672-1.5 1.5v6.976L4.87 2.116c-.228-.146-.522-.157-.762-.023-.24.132-.39.384-.39.657v18.5c0 .273.15.525.39.657.113.063.237.093.36.093.142 0 .28-.04.403-.117L18 13.527V20.5c0 .828.672 1.5 1.5 1.5h1c.828 0 1.5-.672 1.5-1.5v-17c0-.828-.672-1.5-1.5-1.5z"})));_.metadata={width:24,height:24};var x=_,O=a("3rX5"),I=a("cm6r"),P=a("fs1G"),F=a("rHpw"),B=a("shC7"),N=a("MWbm");const D=F.a.create((({borderRadii:e,borderWidths:t,colors:a,spaces:n})=>({thumbnail:{backgroundColor:a.translucentBlack77,borderRadius:e.small,display:"flex",flexDirection:B.a.getConstants().isRTL?"row-reverse":"row",overflow:"hidden",opacity:1},thumbnailFocused:{boxShadow:`0 0 0 ${t.medium} ${a.white}`,outlineStyle:"none"},countdownTime:{paddingHorizontal:n.space4,minWidth:"1em",display:"flex",alignItems:"center",justifyContent:"center",fontVariant:["tabular-nums"]},iconMargin:{marginLeft:"0.5em"},iconMarginRtl:{marginRight:"0.5em"}})));var M=({onClick:e})=>{const{aspectRatio:t,playerState:a}=r.a.useContext(s.b.PeriodicContext);if(!a)return null;const n=Object(m.f)(a);if(!n||n.displayType!==A.c.AD)return null;const l=n.durationMs,i=l<7e3,o=(i?l:5e3)-(n.currentTimeMs||0),c=o>250,u=o<0,d=Object(m.d)(n)||0,h=Object(m.g)(n)||0,b=(i?h:5)-d,y=Object(S.m)({seconds:Object(S.q)(b)});return r.a.createElement(I.a,{accessibilityLabel:u?S.l:y,accessibilityRole:"button",focusable:!0,interactive:!0,interactiveStyles:null,onClick:u&&e?e:P.a,testID:"ControlBar-containerView"},(e=>{const n=B.a.getConstants().isRTL;return r.a.createElement(r.a.Fragment,null,!u&&r.a.createElement(p.a,{show:c},r.a.createElement(N.a,{style:[D.thumbnail,e.isFocused&&D.thumbnailFocused],testID:"ControlBar-videoThumbnail"},r.a.createElement(f.b,{color:"white",size:"subtext2",style:D.countdownTime},b),r.a.createElement(O.a,{source:a.posterImage,style:Object(T.a)(t)}))),r.a.createElement(p.a,{show:u},r.a.createElement(R.a,{focusable:!1,interactivityState:e,pointerEvents:"auto",size:"small",testID:"ControlBar-skipButton",type:"onMediaDominantColorFilled"},r.a.createElement(f.b,{dir:"ltr",weight:"normal"},S.k,r.a.createElement(x,{style:n?D.iconMarginRtl:D.iconMargin})))))}))},j=a("aITJ"),W=a("kRXa"),H=a("wtsM"),V=a("5Ixf"),z=a("AtEG"),U=a("NnQ9"),Y=a("p6DB");const K="PrerollControlBar-",X={CAPTIONS:`${K}Captions`,FULLSCREEN:`${K}Fullscreen`};class $ extends r.a.Component{constructor(...e){super(...e),this._parentRef=r.a.createRef(),this._renderRightContent=e=>{const{playerApi:t,playerState:a}=this.props;if(!t||!a)return null;const n=j.b.isIOS();return r.a.createElement(r.a.Fragment,null,this._renderTimePlayed(),this._renderVolumeControls(t,a),!n&&r.a.createElement(e,{focus:!0,interactionKey:X.FULLSCREEN,interactionTimeoutMs:0,mouseover:!0},this._renderFullScreenButton(t,a)))},this._renderActionButton=(e,t)=>{const{controls:a,isPlaying:n}=t,{pause:l,play:i}=e,s=Object(m.f)(t);return!s||s.isLive?null:n||a&&"PLAY_REQUESTED"===a.playState?r.a.createElement(v.b,{accessibilityLabel:H.d,hoverLabelPreferredHorizontalOrientation:"end",icon:r.a.createElement(V.a,null),onPress:l}):r.a.createElement(v.b,{accessibilityLabel:H.e,hoverLabelPreferredHorizontalOrientation:"end",icon:r.a.createElement(z.a,null),onPress:i})},this._renderAdText=()=>r.a.createElement(w.a,null,S.o),this._renderTimePlayed=()=>r.a.createElement(s.a,{periodic:!0},(({playerState:e})=>{const t=Object(m.f)(e),a=Object(m.d)(t),n=Object(m.g)(t);return t&&"number"==typeof a&&n&&!t.isLive?r.a.createElement(w.a,null,`${Object(m.b)(a)} / ${Object(m.b)(n)}`):null})),this._renderVolumeControls=(e,t)=>{const{isMuted:a,volume:n}=t,{mute:l,setVolume:i,unmute:s}=e,o=a?s:l,c=a?H.g:H.c;return r.a.createElement(W.a,{accessibilityLabelIcon:c,accessibilityLabelSlider:H.h,isMuted:a,onMuteToggle:o,onSliderChange:this._setVolumePercent(i),volumePercent:100*n})},this._setVolumePercent=e=>t=>{e(t/100)},this._renderFullScreenButton=(e,t)=>{const{fullscreen:a}=t;return a.isFullscreen?r.a.createElement(v.b,{accessibilityLabel:H.b,hoverLabelPreferredHorizontalOrientation:"start",icon:r.a.createElement(q,{isFullscreen:a.isFullscreen}),onPress:this._exitFullScreen(e)}):r.a.createElement(v.b,{accessibilityLabel:H.a,hoverLabelPreferredHorizontalOrientation:"start",icon:r.a.createElement(q,{isFullscreen:a.isFullscreen}),onPress:this._requestFullScreen(e)})},this._requestFullScreen=e=>()=>{e.fullScreen(this.props.containerRef)},this._exitFullScreen=e=>()=>e.exitFullScreen(),this._renderSkipAffordance=()=>r.a.createElement(N.a,{pointerEvents:"none",style:G.skipAffordance},r.a.createElement(M,null))}render(){const{displayDismissableControls:e,playerApi:t,playerState:a,skipButton:n}=this.props;return t&&a?r.a.createElement(h.a.ObserverContext.Consumer,null,(l=>r.a.createElement(N.a,{ref:this._parentRef,style:G.root},r.a.createElement(C.a,{actionButton:this._renderActionButton(t,a),displayDismissableControls:e,leftContent:this._renderAdText(),rightContent:this._renderRightContent(l),skipButton:n})))):null}}const G=F.a.create((e=>({root:{writingDirection:"ltr",cursor:"auto",width:"100%"},skipAffordance:{marginLeft:e.spaces.space12,visibility:"hidden"}})));function q({isFullscreen:e,style:t}){const{hidden:a,shown:n}=Q;return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{style:e?a:n}),r.a.createElement(Y.a,{style:e?n:a}))}const Q={hidden:{display:"none",height:"1.5em"},shown:{display:"block",height:"1.5em"}};var Z=$,J=a("oSwX");class ee extends r.a.PureComponent{constructor(...e){super(...e),this._buildMessage=(e,t)=>{switch(e){case A.d.watch_now:return t?Object(S.e)({advertiserName:t}):S.j;case A.d.shop:return t?Object(S.c)({advertiserName:t}):S.h;case A.d.see_more:return t?Object(S.b)({advertiserName:t}):S.g;case A.d.go_to:return t?Object(S.a)({advertiserName:t}):S.f;case A.d.visit_site:default:return t?Object(S.d)({advertiserName:t}):S.i}},this._handlePress=e=>()=>{e.callToActionClicked()}}componentDidMount(){const{playerApi:e}=this.props;e&&e.callToActionImpression()}render(){const{advertiserName:e,avatarUri:t,ctaType:a,ctaUrl:n,playerApi:l}=this.props;if(!l)return null;const i=this._buildMessage(a,e);return r.a.createElement(R.a,{accessibilityLabel:i,icon:t?r.a.createElement(J.default,{borderColor:"white",borderWidth:"small",size:"medium",uri:t}):void 0,link:n,onPress:this._handlePress(l),size:"xSmall",style:te.root,type:"onMediaDominantColorFilled"},i)}}const te=F.a.create((e=>({root:{position:"absolute",left:e.spaces.space12,top:e.spaces.space12}})));var ae=ee,ne=a("aNKf");const re=F.a.create((e=>({root:{position:"absolute",top:0,left:0,width:"100%"},gradientContainer:{padding:e.spaces.space16},flexRow:{alignItems:"center",flexDirection:"row"},rightSpacing:{marginRight:e.spaces.space4}})));var le=({children:e})=>r.a.createElement(N.a,{style:re.root},r.a.createElement(ne.a,{colors:[F.a.theme.colors.translucentBlack77,F.a.theme.colors.transparent],style:re.gradientContainer},r.a.createElement(N.a,{style:re.flexRow},r.a.Children.toArray(e).map(((e,t,{length:a})=>{const n=`LinearGradient-children-${t}`,l=t<a-1?re.rightSpacing:"";return r.a.createElement(N.a,{key:n,style:l},e)}))))),ie=a("VLhD");class se extends r.a.Component{constructor(...e){super(...e),this.state={showControlBar:!1,stackedLabels:!1},this._durationLabelRef=r.a.createRef(),this._descriptionLabelRef=r.a.createRef(),this._handleLayout=()=>{var e,t;const a=null==(e=this._durationLabelRef)?void 0:e.current,n=null==(t=this._descriptionLabelRef)?void 0:t.current;a&&n&&a.measure(((e,t)=>{n.measure(((e,a)=>{t!==a?this.setState({stackedLabels:!0}):this.setState({stackedLabels:!1})}))}))},this._renderPrerollControlBar=e=>{const{containerRef:t,onSkip:a,playerApi:n,playerState:l}=this.props;if(!n||!l)return null;const{Observer:i,observed:s}=e,o=Object(ie.c)(l,s,ie.b),c=l.fullscreen.isFullscreen,u=B.a.getConstants().isRTL,m=[oe.labelOuterContainerBase,u?oe.labelOuterContainerRtl:oe.labelOuterContainerLtr];return r.a.createElement(N.a,{style:oe.bottomContentContainer},r.a.createElement(N.a,{style:oe.bottomContentRow},r.a.createElement(N.a,{style:[oe.forceFullWidth,oe.flexDirectionRow]},r.a.createElement(i,{focus:!0,interactionKey:ie.a.A11YHook},r.a.createElement(N.a,{focusable:!0})),r.a.createElement(N.a,{style:oe.flexExpand},r.a.createElement(N.a,{style:m},r.a.createElement(p.a,{show:o},r.a.createElement(N.a,{style:[oe.bottomContentRow,oe.rowBottomSpace]},this._renderLabels()))),c?null:r.a.createElement(N.a,{style:oe.bottomContentRow},r.a.createElement(N.a,{style:[oe.skipThumbnail,u?oe.skipThumbnailAbsoluteRtl:oe.skipThumbnailAbsolute],testID:ce.floatSkipThumbnail},r.a.createElement(M,{onClick:a}))),r.a.createElement(i,{focus:!0,interactionKey:ie.a.ControlBar,mouseover:!0,touch:!0},r.a.createElement(Z,{containerRef:t,displayDismissableControls:!o,playerApi:n,playerState:l,skipButton:c?r.a.createElement(N.a,{style:[oe.skipThumbnail,u?oe.skipThumbnailRelativeRtl:oe.skipThumbnailRelative],testID:ce.inlineSkipThumbnail},r.a.createElement(M,{onClick:a})):null}))))))},this._renderWithIntentionContext=e=>{const{playerApi:t,playerState:a}=this.props;if(!t||!a)return null;const n=Object(m.f)(a),l=null==n?void 0:n.advertiserProfileImageUrl,i=null==n?void 0:n.advertiserName,s=null==n?void 0:n.cta;return r.a.createElement(r.a.Fragment,null,s?r.a.createElement(ae,{advertiserName:i,avatarUri:l,ctaType:s.type,ctaUrl:s.url,playerApi:t}):r.a.createElement(le,null,l&&r.a.createElement(J.default,{accessibilityHidden:!0,borderColor:"white",borderWidth:"small",focusable:!1,size:"medium",uri:l}),i&&r.a.createElement(f.b,{color:"white",weight:"bold"},i)),this._renderPrerollControlBar(e))},this._renderLabels=()=>r.a.createElement(s.a,{periodic:!0},(({playerState:e})=>{const t=Object(m.f)(e),a=Object(m.g)(t),n=Object(m.d)(t)||0,l=a?a-n:null,i=B.a.getConstants().isRTL,s=[oe.labelContainerBase,i?oe.labelContainerRtl:oe.labelContainerLtr],o=[g.b.borderRadiusLeft,this.state.stackedLabels&&g.b.borderRadiusRight],c=[g.b.borderRadiusRight,this.state.stackedLabels&&g.b.borderRadiusLeft],u=t&&"number"==typeof l&&!t.isLive?r.a.createElement(N.a,{ref:this._durationLabelRef},r.a.createElement(E.a,{key:"PrerollVideoOverlay-DurationLabel",style:[g.b.label,i?oe.labelSpaceLeft:g.b.spaceRight,this.state.stackedLabels&&oe.labelBottomSpace,...i?c:o]},r.a.createElement(f.b,{numberOfLines:1},Object(m.b)(l)))):null,p=r.a.createElement(N.a,{ref:this._descriptionLabelRef},r.a.createElement(E.a,{key:"PrerollVideoOverlay-DescriptionLabel",style:[g.b.label,i?oe.labelSpaceLeft:g.b.spaceRight,...i?o:c]},r.a.createElement(f.b,{numberOfLines:1},S.o)));return r.a.createElement(N.a,{onLayout:this._handleLayout,pointerEvents:"none",style:s},u,p)}))}render(){const{playerApi:e,playerState:t}=this.props;return e&&t?r.a.createElement(h.a.Context.Consumer,null,this._renderWithIntentionContext):null}}const oe=F.a.create((e=>({bottomContentContainer:{flexWrap:"wrap",position:"absolute",bottom:0,width:"100%"},bottomContentRow:{alignItems:"flex-end",flexWrap:"nowrap",flexDirection:B.a.getConstants().isRTL?"row-reverse":"row",flexGrow:1,flexShrink:0,justifyContent:"space-between",width:"100%"},rowBottomSpace:{marginBottom:e.spaces.space12},forceFullWidth:{width:"100%"},labelOuterContainerBase:{flexWrap:"wrap",position:"absolute",bottom:0,maxWidth:"65%"},labelOuterContainerLtr:{flexDirection:"row",left:0},labelOuterContainerRtl:{flexDirection:"row-reverse",right:0},labelBottomSpace:{marginBottom:e.spaces.space2},labelContainerBase:{justifyContent:"flex-start",flexWrap:"wrap",flexGrow:1,flexShrink:1,flexBasis:"auto"},labelContainerLtr:{flexDirection:"row",marginLeft:e.spaces.space12},labelContainerRtl:{flexDirection:"row-reverse",marginRight:e.spaces.space12},labelSpaceLeft:{marginLeft:e.spaces.space2},skipThumbnail:{flexGrow:0,flexShrink:0,flexBasis:"auto",alignItems:"flex-end"},skipThumbnailRelative:{marginBottom:e.spaces.space12,marginRight:e.spaces.space12},skipThumbnailAbsolute:{position:"absolute",bottom:e.spaces.space12,right:e.spaces.space12,maxWidth:"35%"},skipThumbnailRelativeRtl:{marginBottom:e.spaces.space12,marginLeft:e.spaces.space12},skipThumbnailAbsoluteRtl:{position:"absolute",bottom:e.spaces.space12,left:e.spaces.space12,maxWidth:"35%"},flexExpand:{flexGrow:1,flexShrink:1,flexBasis:0},flexDirectionRow:{flexDirection:B.a.getConstants().isRTL?"row-reverse":"row"},flexWrap:{flexWrap:"wrap",justifyContent:"space-between"},hidden:{visibility:"hidden"}}))),ce={floatSkipThumbnail:"float-SkipThumbnail",inlineSkipThumbnail:"inline-SkipThumbnail"};var ue=se,pe=a("uz49"),me=a("mNIZ"),de=a("zCLo"),he=a("ReFq");class be extends r.a.PureComponent{constructor(...e){super(...e),this.state={wasPrerollSkipped:!1},this._renderVideoPlayer=e=>{var t;const{playerApi:a,playerState:n,poster:l,useKeyboardShortcuts:i}=this.props;if(!a||!n)return null;const c=Object(m.f)(n),u=(null==c?void 0:c.displayType)===A.c.AD&&(null==c?void 0:c.playbackCompleted),p=null==(t=n.errorInfo)?void 0:t.adFailed,d=(null==c?void 0:c.displayType)===A.c.AD&&(null==c?void 0:c.useRedesignedPrerollUx);return d&&(this.state.wasPrerollSkipped||u||p)?r.a.createElement(s.a,null,(({aspectRatio:e})=>{const t=l||n.posterImage;return r.a.createElement(pe.a,{aspectRatio:e,imageSrc:t,onTransitionComplete:this._handleTransitionAnimationComplete})})):d?this._renderVideo(e,!0):r.a.createElement(de.a,{enabled:!!i,playerApi:a,playerState:n},r.a.createElement(o.a,{playerState:n},this._renderVideo(e,!1)))},this._renderVideo=(e,t)=>{var a,n;const{accessibilityLabel:s,containerRef:o,customControlBarIcon:h,fullscreenAdsDisabledOnIOS:f,guestsState:E,includeDisputeLinkInCopyrightErrorMessage:g,onScribeEvent:S,playerApi:C,playerDisplayOptions:v,playerState:w,poster:R,shouldShowAltLabel:T,showWatchAgain:k}=this.props;if(!C||!w)return null;const{Observer:L,observed:_}=e,x=Object(ie.c)(w,_,ie.b),O=!!w.error,I=Object(m.f)(w),P=(null==I?void 0:I.contentType)===A.a.GIF,F="PLAY_REQUESTED"!==(null==(a=w.controls)?void 0:a.playState),B=k&&w.tracksFinished,D=x&&w.isPreview,M=!(!x||null==I||!I.isLive),j=T?s:void 0,W=!(null!=v&&v.hideLeftBadges)&&(!!j||P||D||M),H=!(null!=v&&v.hideRightBadges)&&x,V=!(null!=v&&v.hidePosterImage),z=null==(n=w.controls)?void 0:n.isPosterShown;return r.a.createElement(L,{click:!0,interactionKey:ie.a.Root,mousemove:!0,mouseover:!0},O?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{hideControls:x,isTouchOnlyUI:ie.b,playerApi:C,playerDisplayOptions:v,playerState:w}),V&&!B&&r.a.createElement(y.a,{imageSrc:R,playerApi:C,playerState:w,withPlayButton:F}),r.a.createElement(i.a,{playerState:w}),t?r.a.createElement(ue,{containerRef:o,onSkip:this._handleSkip,playerApi:C,playerState:w}):r.a.createElement(r.a.Fragment,null,!P&&k&&r.a.createElement(he.a,{onScribeEvent:S,playerApi:C,playerState:w}),r.a.createElement(d.a,{guestsState:E,playerState:w}),!P&&r.a.createElement(L,{focus:!0,interactionKey:ie.a.VideoCTA,mouseover:!0},r.a.createElement(p.a,{show:!x},r.a.createElement(me.a,{playerApi:C,playerState:w}))),!P&&!z&&r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{focus:!0,interactionKey:ie.a.A11YHook},r.a.createElement(N.a,{focusable:!0})),r.a.createElement(L,{focus:!0,interactionKey:ie.a.ControlBar,mouseover:!0,touch:!0},r.a.createElement(c.a,{containerRef:o,customControlBarIcon:h,fullscreenAdsDisabledOnIOS:f,hideControls:x,playerApi:C,playerState:w,publisherDisplayName:null==I?void 0:I.publisherDisplayName,publisherProfileImageUrl:null==I?void 0:I.publisherProfileImageUrl,showScrubber:"ad"!==(null==I?void 0:I.displayType)&&!(null!=I&&I.isLive)}))),r.a.createElement(p.a,{show:W},r.a.createElement(l.a,{mediaAccessibilityLabel:j,playerDisplayOptions:v,playerState:w,position:"left"})),r.a.createElement(p.a,{show:H},r.a.createElement(l.a,{playerDisplayOptions:v,playerState:w,position:"right"})))),r.a.createElement(p.a,{show:O},O&&r.a.createElement(u.a,{imageSrc:R,includeDisputeLinkInCopyrightErrorMessage:g,playerApi:C,playerState:w})))},this._handleSkip=()=>{const{playerApi:e}=this.props;e&&e.pause(),this.setState({wasPrerollSkipped:!0})},this._handleTransitionAnimationComplete=()=>{const{playerApi:e}=this.props;e&&e.nextTrack()}}render(){const{playerApi:e,playerState:t}=this.props;return e&&t?r.a.createElement(h.a,null,r.a.createElement(h.a.Context.Consumer,null,this._renderVideoPlayer)):null}}t.default=be},ReFq:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));a("kYxP");var n=a("ERkP"),r=a.n(n),l=a("/yvb"),i=a("3XMw"),s=a.n(i),o=a("rHpw"),c=a("MWbm");const u=s.a.f2d4e6f2;class p extends r.a.PureComponent{constructor(...e){super(...e),this._createWatchAgainHandler=e=>t=>{const{onScribeEvent:a,playerApi:n}=this.props;t.stopPropagation(),a&&a({namespace:{element:e,action:"click"}}),n&&n.replay()},this._handleOnPress=this._createWatchAgainHandler("watch_again_button"),this._handleOnClick=this._createWatchAgainHandler("watch_again_overlay")}render(){const{playerState:e}=this.props;return e&&e.tracksFinished?r.a.createElement(c.a,{onClick:this._handleOnClick,style:m.overlay},r.a.createElement(l.a,{accessibilityLabel:u,onPress:this._handleOnPress,type:"onMediaDominantColorFilled"},u)):null}}const m=o.a.create((e=>({overlay:{...o.a.absoluteFillObject,backgroundColor:o.a.theme.colors.translucentBlack30,alignItems:"center",justifyContent:"center"}})))},uz49:function(e,t,a){"use strict";a("kYxP");var n=a("ERkP"),r=a.n(n),l=a("0W/e"),i=a("3rX5"),s=a("rHpw"),o=a("MWbm");const c={animationStage:"INITIAL",containerSize:null,imageTransform:null},u=(e=c,t)=>{switch(t.type){case"SET_TRANSFORM":if("INITIAL"===e.animationStage){const{aspectRatio:a,containerHeight:n,containerWidth:r}=t.payload,i=Object(l.a)(a),o={width:r,height:n},c={scaleX:i.width/r,scaleY:i.height/n,translateX:-1*s.a.theme.spacesPx.space12,translateY:-1*s.a.theme.spacesPx.space12};return{...e,animationStage:"SET_TRANSFORM",containerSize:o,imageTransform:c}}return e;case"START_ANIMATION":return"SET_TRANSFORM"===e.animationStage?{...e,animationStage:"START_ANIMATION",imageTransform:{scaleX:1,scaleY:1,translateX:0,translateY:0}}:e;case"FINISH_ANIMATION":return{...e,animationStage:"FINISH_ANIMATION"};default:return e}};const p={imageFill:{width:"100%",height:"100%"},imageWrapperBaseStyles:{transitionDuration:"250ms",transformOrigin:"bottom right",transitionProperty:"transform",transitionTimingFunction:"ease",position:"absolute",bottom:"0",right:"0"}};t.a=function({aspectRatio:e,imageSrc:t,onTransitionComplete:a}){const[n,l]=r.a.useReducer(u,c),{animationStage:m,containerSize:d,imageTransform:h}=n,b=r.a.useCallback((t=>{if(null!=t){const{height:a,width:n}=t.getBoundingClientRect();requestAnimationFrame((()=>{l({type:"SET_TRANSFORM",payload:{aspectRatio:e,containerHeight:a,containerWidth:n}})}))}}),[e]),y=r.a.useCallback((e=>{requestAnimationFrame((()=>{l({type:"START_ANIMATION"})}))}),[]),f=r.a.useCallback((()=>{l({type:"FINISH_ANIMATION"})}),[]);return r.a.useEffect((()=>{t||f()}),[t,f]),r.a.useEffect((()=>{"FINISH_ANIMATION"===m&&a&&a()}),[a,m]),r.a.useEffect((()=>{if("START_ANIMATION"===m){const e=setTimeout((()=>{f()}),300);return function(){clearTimeout(e)}}}),[m,f]),r.a.createElement(o.a,{ref:b,style:s.a.absoluteFill},(()=>{if(null==d||null==h||!t)return null;const e={height:d.height,width:d.width},{scaleX:a,scaleY:n,translateX:l,translateY:s}=h,o={transform:`matrix(${a}, 0, 0, ${n}, ${l}, ${s})`},c={...p.imageWrapperBaseStyles,...e,...o};return r.a.createElement("div",{onTransitionEnd:f,style:c},r.a.createElement(i.a,{ref:y,source:t,style:p.imageFill}))})())}},zCLo:function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),l=a("wD1h"),i=a("oLZl"),s=a("rHpw"),o=a("MWbm");t.a=function(e){const t=r.a.useRef(null),{enabled:a,playerApi:n,playerState:c}=e;if(!a)return e.children||null;const u=e=>{n&&c&&(c.isPlaying?n.pause():n.play())},p=e=>{if(n&&c){const t=parseInt(e.key,10)/10;n.scrubToFraction(t)}};return r.a.createElement(l.a,{containerRef:t,enabled:!0,handlers:{[i.a.K]:u,[i.a.M]:e=>{n&&c&&(c.isMuted?n.unmute():n.mute())},[i.a.Space]:u,[i.a.C]:e=>{n&&c&&n.toggleCaptions()},[i.a.Home]:e=>{n&&c&&n.scrubToFraction(0)},[i.a[0]]:p,[i.a[1]]:p,[i.a[2]]:p,[i.a[3]]:p,[i.a[4]]:p,[i.a[5]]:p,[i.a[6]]:p,[i.a[7]]:p,[i.a[8]]:p,[i.a[9]]:p,[i.a.End]:e=>{n&&c&&n.scrubToFraction(1)}}},r.a.createElement(o.a,{focusable:!0,ref:t,style:s.a.absoluteFill},e.children))}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/loaders.video.VideoPlayerDefaultUI.45df25e7.js.map