(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{"0nHQ":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));n("kYxP");var r=n("ERkP"),o=n.n(r),s=n("t62R"),a=n("Yyzf"),i=n("3XMw"),c=n.n(i),l=n("yeeK");const u="EUROPEAN_COPYRIGHT_VIOLATION";class d extends o.a.Component{constructor(...t){super(...t),this._handleReload=()=>{const{playerApi:t,playerState:e}=this.props;if(!e||!e.errorInfo)return;const{canRetry:n}=e.errorInfo;return n?()=>{t&&t.reload()}:void 0}}render(){const{displayBackgroundImage:t=!1,imageSrc:e,playerApi:n,playerState:r}=this.props;if(!n||!r)return null;const s=this._getErrorAndData();if(!s)return null;const i=this._maybeUseCustomErrorElement(s)||this._buildMessage(s);return o.a.createElement(a.a,{displayBackgroundImage:t,errorMessage:i,iconPlayError:"BROADCAST_NOT_FOUND"===r.error,imageSrc:e||r.posterImage,onReloadPress:this._handleReload()})}_buildMessage(t){const{error:e,errorData:n}=t;if("LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR"===e||e===u){const{copyrightHolder:t}=n||{};return t?l.b[e]({holder:t}):l.a}return e&&l.b[e]||l.a}_getErrorAndData(){const{playerState:t}=this.props,{error:e,errorData:n}=null!=t?t:{};return e?{error:e,errorData:n}:null}_maybeUseCustomErrorElement(t){const{error:e,errorData:n}=t,r=null==n?void 0:n.copyrightHolder,{includeDisputeLinkInCopyrightErrorMessage:a}=this.props;return r&&(a&&e===u)?o.a.createElement(c.a.I18NFormatMessage,{$i18n:"e570a97b",copyrightHolder:r},o.a.createElement(s.b,{link:"https://help.twitter.com/forms/ipi/copyright-dispute"},c.a.a15adf2c)):null}}},Q0n6:function(t,e,n){"use strict";n.d(e,"a",(function(){return b})),n.d(e,"o",(function(){return R})),n.d(e,"i",(function(){return T})),n.d(e,"e",(function(){return g})),n.d(e,"j",(function(){return M})),n.d(e,"h",(function(){return I})),n.d(e,"d",(function(){return D})),n.d(e,"g",(function(){return S})),n.d(e,"l",(function(){return k})),n.d(e,"m",(function(){return P})),n.d(e,"f",(function(){return A})),n.d(e,"n",(function(){return w})),n.d(e,"k",(function(){return L})),n.d(e,"c",(function(){return W})),n.d(e,"b",(function(){return N}));var r=n("kCRK"),o=n("855f"),s=n("3XMw"),a=n.n(s);const i=a.a.i3b7a017,c=a.a.ie5d110f,l=a.a.df5f11b3,u=a.a.a7cd5cf4,d=a.a.b6eb8f6a,h=a.a.dcc2b9b3,p=a.a.hf4ffd4d,_=a.a.f6e90cd7,E=a.a.e7d191ed,f=a.a.h1888a33,m=a.a.c58b2ab7,y=t=>"number"==typeof t?Object(o.c)(t):t,b=t=>{const{viewCount:e,viewerCount:n}=t;return e||0===e?m({viewCount:y(e)}):n||0===n?f({viewerCount:y(n)}):null},R=t=>{if(!t)return"";return(({durationSeconds:t,isBroadcast:e,isLive:n,timecode:r,videoTrack:o}={})=>{const s=[],a=e||n?d:u,i=n?p:h;if(s.push(i({locVideoType:a})),"number"==typeof t&&t&&!n){const{hoursWord:e,minutesWord:n,secondsWord:r}=O(t);s.push(_({hoursWord:e,minutesWord:n,secondsWord:r}))}if("number"==typeof r&&r){const{hoursWord:t,minutesWord:e,secondsWord:n}=O(r);s.push(E({hoursWord:t,minutesWord:e,secondsWord:n}))}const c=o&&b(o);return c&&s.push(c),s.join(". ")})({isLive:t.isLive,isBroadcast:t.contentType===r.a.BROADCAST,durationSeconds:S(t),timecode:L(t),videoTrack:t})},O=t=>{const{hours:e,minutes:n,seconds:r}=x(t),o={hoursWord:"",minutesWord:"",secondsWord:""};return 0===r&&0===n&&0===e&&0===n?(o.secondsWord=i(0),o):(o.hoursWord=e>0?l(e):"",o.minutesWord=n>0?c(n):"",o.secondsWord=r>0?i(r):"",o)},C=(t,e,n)=>Math.max(Math.min(t,n),e),T=t=>t?(t.currentTimeMs||0)/1e3:void 0,v=t=>t.endTimeS-t.startTimeS,g=t=>{var e;const n=null==t||null==(e=t.controls)?void 0:e.playbackTimeRange,r=A(t),o=T(r);if(void 0===o)return 0;if(!n)return o;const s=o-n.startTimeS;return C(s,0,v(n))},M=t=>t?(t.durationMs||0)/1e3:void 0,I=t=>{var e;const n=null==t||null==(e=t.controls)?void 0:e.playbackTimeRange,r=A(t),o=M(r);return o?n?v(n):o:0},D=t=>{const e=T(t);return e&&Math.round(e)},S=t=>{const e=M(t);return e&&Math.round(e)},k=(t,e)=>{var n,r,o;const s=M(A(t));if(!s)return;const a=null!=(n=null==t||null==(r=t.controls)||null==(o=r.playbackTimeRange)?void 0:o.startTimeS)?n:0;return C((a+e)/s,0,1)},P=t=>t.tracks.find((t=>0===t.id)),A=t=>t.tracks.find((e=>e.id===t.currentTrackId)),w=t=>t.controls&&t.controls.isPosterShown?P(t):A(t),L=t=>{if(t){const e=t.requestedTimecode;return e&&e>0?e:t.replayEditedStartTime}},W=t=>N(Math.round(t/1e3)),N=t=>{const{hours:e,minutes:n,seconds:r}=x(t),o=r<10?`0${r}`:r,s=n<10&&e?`0${n}`:n;return e?`${e}:${s}:${o}`:`${s}:${o}`},x=t=>({hours:Math.floor(t/3600),minutes:Math.floor(t%3600/60),seconds:Math.floor(t%60)})},USG3:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("kYxP");var r=n("ERkP"),o=n.n(r);const s={transitionDuration:"250ms",transitionProperty:"opacity, height",transitionTimingFunction:"ease",willChange:"opacity"};function a({children:t,show:e}){const[n,r]=o.a.useState(!e);return o.a.useEffect((()=>{e&&n&&r(!1)}),[n,e]),o.a.useMemo((()=>{const a={...s,opacity:e?1:0};return o.a.createElement("div",{onTransitionEnd:t=>{e||n||r(!0)},style:a},n?null:t)}),[t,e,n])}},Ur4q:function(t,e,n){"use strict";n("kYxP");var r=n("ERkP"),o=n.n(r),s=n("kCRK"),a=n("Q0n6"),i=n("7nmT"),c=n.n(i),l=n("rHpw"),u=n("MWbm");class d extends o.a.Component{constructor(...t){super(...t),this.state={grabbing:!1},this._firstClick=!0,this._componentRef=o.a.createRef(),this._handleMouseDown=()=>{const{playerState:t}=this.props,e=t&&Object(a.f)(t);e&&e.is360&&this._setEventListener("mousemove",this._handleMouseMove),this._setEventListener("mouseup",this._handleMouseUp)},this._handleMouseMove=()=>{const{playerState:t}=this.props,e=t&&Object(a.f)(t);e&&e.is360&&(this.setState({grabbing:!0}),this._setEventListener("mouseup",this._handleGrabRelease)),this._unsetEventListener("mousemove",this._handleMouseMove),this._unsetEventListener("mouseup",this._handleMouseUp)},this._handleGrabRelease=()=>{this.setState({grabbing:!1}),this._unsetEventListener("mouseup",this._handleGrabRelease)},this._handleMouseUp=t=>{this._unsetEventListener("mousemove",this._handleMouseMove),this._unsetEventListener("mouseup",this._handleMouseUp),this._handleClick(t)},this._handleClick=t=>{const{hideControls:e,isTouchOnlyUI:n,onClick:r,playerApi:o,playerDisplayOptions:i,playerState:c}=this.props;if(r)return r(t);if(o&&c){const t=Object(a.f)(c),r=t&&t.contentType&&t.contentType===s.a.GIF;if(this._firstClick&&!r&&(this._firstClick=!1,c.isMuted))return void o.unmute();if(n&&e)return;const{pause:l,play:u,replay:d}=o,h=t&&t.isLive,p=i&&i.liveClickthrough,_=t&&p&&p.enabled&&t.isLive&&c.isPlaying&&!t.is360;if(n&&e)return;if(r)return void(c.isPlaying?l():u());t&&t.currentTimeMs===t.durationMs?d():c.isPlaying?_?this._handleLiveClickthrough():h||l():u()}},this._setEventListener=(t,e)=>{const n=c.a.findDOMNode(this._componentRef.current);n&&n.addEventListener(t,e)},this._unsetEventListener=(t,e)=>{const n=c.a.findDOMNode(this._componentRef.current);n&&n.removeEventListener(t,e)},this._handleLiveClickthrough=()=>{const{playerApi:t,playerDisplayOptions:e,playerState:n}=this.props,r=e&&e.liveClickthrough,o=n&&Object(a.f)(n);if(r&&n&&o&&t){const e=r.url||n.eventUrl||o.broadcastShareUrl;e&&(window.open(e,r.target||"_blank"),t.liveClickthroughClicked())}}}render(){const{playerState:t}=this.props,{grabbing:e}=this.state,n=t&&Object(a.f)(t),r=n&&n.is360;return o.a.createElement(u.a,{onMouseDown:this._handleMouseDown,ref:this._componentRef,style:[l.a.absoluteFill,r?e?h.base360grabbing:h.base360:h.base]})}}const h=l.a.create((t=>({base:{cursor:"pointer"},base360:{cursor:"grab"},base360grabbing:{cursor:"grabbing"}})));e.a=d},aoyV:function(t,e,n){"use strict";n("kYxP");var r=n("ERkP"),o=n.n(r),s=n("Qwev"),a=n("Q0n6"),i=n("rHpw"),c=n("MWbm");class l extends o.a.Component{constructor(...t){super(...t),this._playInitiatedTime=null,this.state={waitingForPlayback:!1},this._checkPlayRequest=(t,e)=>{const n=e&&"PLAY_REQUESTED"===e.controls.playState,r=n&&(!t||"PLAY_REQUESTED"!==t.controls.playState);n?r&&this._startPlaybackWait():this._clearPlaybackWait()},this._clearPlaybackWait=()=>{clearInterval(this._bufferingCheck),this._playInitiatedTime=null},this._startPlaybackWait=()=>{const{waitingForPlaybackThresholdMs:t}=this.props;this._clearPlaybackWait(),this._playInitiatedTime=Date.now(),this._bufferingCheck=setInterval((()=>{if(!this._playInitiatedTime)return this._clearPlaybackWait();const e=this._playInitiatedTime;Date.now()-e>t&&(this.setState({waitingForPlayback:!0}),this._clearPlaybackWait())}),100)}}static getDerivedStateFromProps(t){const{playerState:e}=t;return e&&"PLAY_REQUESTED"===e.controls.playState?null:{waitingForPlayback:!1}}componentWillUnmount(){this._clearPlaybackWait()}componentDidMount(){this._checkPlayRequest(null,this.props.playerState)}componentDidUpdate(t){this._checkPlayRequest(t.playerState,this.props.playerState)}render(){const{playerState:t}=this.props;if(!t)return null;const e=Object(a.f)(t);return e&&e.isBuffering||this.state.waitingForPlayback?o.a.createElement(c.a,{pointerEvents:"none",style:[i.a.absoluteFill,u.buttonContainer]},o.a.createElement(s.a,{color:i.a.theme.colors.white,size:60})):null}}l.defaultProps={waitingForPlaybackThresholdMs:1e3};const u=i.a.create((t=>({buttonContainer:{justifyContent:"center",alignItems:"center"}})));e.a=l},fZNH:function(t,e,n){"use strict";n("kYxP");var r=n("ERkP"),o=n.n(r),s=n("Q0n6"),a=n("3XMw"),i=n.n(a),c=n("CKsB"),l=n("rHpw"),u=n("kCRK"),d=n("shC7"),h=n("MWbm");const p=i.a.d26d8730,_=i.a.f1b6bcec;class E extends o.a.Component{constructor(...t){super(...t),this.state={openContextMenu:!1,positionX:0,positionY:0},this._handleOpenContextMenu=t=>e=>{var n;if(e.preventDefault(),null!=t&&null!=(n=t.source)&&n.id&&(t.source.type===u.e.TWEET||t.source.type===u.e.BROADCAST)){document.addEventListener("click",this._handleCloseContextMenu);const t=e.currentTarget.getBoundingClientRect();this.setState({openContextMenu:!0,positionX:e.clientX-t.left,positionY:e.clientY-t.top})}},this._handleCloseContextMenu=()=>{this.state.openContextMenu&&(document.removeEventListener("click",this._handleCloseContextMenu),this.setState({openContextMenu:!1}))},this._handleCopyVideoAddress=()=>{document.addEventListener("copy",this._handleCopy),document.execCommand("copy")},this._handleCopy=t=>{var e,n;const{playerState:r}=this.props,o=null==r||null==(e=r.source)?void 0:e.id,s=null==r||null==(n=r.source)?void 0:n.type;o&&s&&t.clipboardData&&(s===u.e.BROADCAST?t.clipboardData.setData("text/plain",`https://twitter.com/i/broadcasts/${o}`):s===u.e.TWEET&&t.clipboardData.setData("text/plain",`https://twitter.com/i/status/${o}`),t.preventDefault()),document.removeEventListener("copy",this._handleCopy)},this._isGif=t=>{const e=t&&Object(s.m)(t);return e&&e.contentType===u.a.GIF}}render(){const{children:t,playerState:e}=this.props,{openContextMenu:n,positionX:r,positionY:s}=this.state,a=this._isGif(e),i=d.a.getConstants().isRTL?{top:s,right:r}:{top:s,left:r};return o.a.createElement(h.a,{onContextMenu:this._handleOpenContextMenu(e),style:l.a.absoluteFill},t,n&&o.a.createElement(h.a,{style:[f.menuWrapper,i]},o.a.createElement(c.a,{actionText:a?_:p,onClick:this._handleCopyVideoAddress})))}}e.a=E;const f=l.a.create((t=>({menuWrapper:{borderRadius:t.borderRadii.small,position:"absolute",overflow:"hidden",backgroundColor:t.colors.navigationBackground,boxShadow:t.boxShadows.medium,display:"table"}})))},kCRK:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"e",(function(){return i}));const r={VISIT:"url",WATCH:"watch"},o={watch_now:"watch_now",visit_site:"visit_site",shop:"shop",see_more:"see_more",go_to:"go_to"},s={MEDIA:"media_entity",GIF:"gif",VMAP:"vmap",BROADCAST:"broadcast"},a={AD:"ad",CONTENT:"content"},i={BROADCAST:"broadcast",DM:"dm",TWEET:"tweet"}},oH2E:function(t,e,n){"use strict";var r=n("97Jx"),o=n.n(r),s=(n("kYxP"),n("ERkP")),a=n.n(s),i=n("3rX5"),c=n("cm6r"),l=n("rHpw"),u=n("mXq/"),d=n("Q0n6");class h extends a.a.Component{constructor(...t){super(...t),this._playVideo=t=>e=>{t&&t.play(),e&&e.stopPropagation()}}render(){const{playerApi:t,playerState:e,withPlayButton:n}=this.props;if(!(t&&e&&e.controls&&e.controls.isPosterShown))return null;const r=Object(d.m)(e),s=this.props.imageSrc||e.posterImage,h=Object(d.o)(r);return a.a.createElement(c.a,o()({},n?null:{accessibilityLabel:h},{focusable:!n,interactiveStyles:null,onPress:this._playVideo(t),style:[l.a.absoluteFill,p.buttonContainer]}),s&&a.a.createElement(i.a,{resizeMode:"cover",source:s,style:l.a.absoluteFill}),n&&a.a.createElement(u.a,{accessibilityLabel:h,onPress:this._playVideo(t),type:"video"}))}}h.defaultProps={withPlayButton:!0};const p=l.a.create((t=>({buttonContainer:{justifyContent:"center",alignItems:"center"}})));e.a=h},yeeK:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n("3XMw"),o=n.n(r);const s=o.a.c1658fc6,a={BROADCAST_REQUEST_ERROR:s,BROADCAST_ENDED_NO_REPLAY:o.a.ce871584,BROADCAST_NOT_FOUND:o.a.c101eb96,CONFIG_USER_DATA_NETWORK_ERROR:s,CONFIG_NETWORK_ERROR:s,DMCA_TAKEDOWN_ERROR:o.a.gb24a514,EUROPEAN_COPYRIGHT_VIOLATION:o.a.hcaf3e63,LIVE_PARSE_ERROR:s,LIVE_STREAM_ACQUISITION_MISSING_CONTENT_ID:s,LIVE_STREAM_ACQUISITION_NETWORK_ERROR:s,LIVE_VIDEO_GEOBLOCK_ERROR:o.a.if05c038,LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR:o.a.d420171b,LIVE_VIDEO_GEOLOCATION_PROMPT:o.a.b1eb72fa,MEDIA_NOT_SUPPORTED:o.a.c057680c,MEDIA_SRC_INVALID_ERROR:s,MEDIA_ABORTED:s,MEDIA_NETWORK_ERROR:s,MEDIA_DECODE_ERROR:s,MEDIA_GEOBLOCK_ERROR:o.a.i5dfae6e,MEDIA_UNKNOWN_CODE_ERROR:s,ORIGINAL_CONTEXT_DELETED:o.a.c2388276,UNSUPPORTED_TYPE:s,VMAP_NETWORK_ERROR:s,VMAP_PARSE_ERROR:s}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~loaders.video.VideoPlayerDefaultUI~loaders.video.VideoPlayerHashtagHighlightUI~loaders.video.VideoPlay.21174cb7.js.map