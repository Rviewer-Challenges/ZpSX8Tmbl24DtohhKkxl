(window.webpackJsonp=window.webpackJsonp||[]).push([[357,7],{"2qZs":function(e,t,n){"use strict";var i=n("ERkP"),o=n.n(i),a=n("Lsrn"),r=n("k/Ka");const s=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[a.a.root,e.style],viewBox:"0 0 24 24"},o.a.createElement("g",null,o.a.createElement("path",{d:"M2.264 22.983c-.322 0-.638-.126-.88-.368-.374-.374-.473-.926-.25-1.405L2.8 17.58c-1.017-1.7-1.55-3.62-1.55-5.58C1.25 6.072 6.072 1.25 12 1.25S22.75 6.072 22.75 12 17.928 22.75 12 22.75c-1.957 0-3.876-.533-5.55-1.54l-3.66 1.657c-.17.078-.35.116-.526.116zm4.158-3.286c.278 0 .558.077.807.23 1.434.864 3.085 1.323 4.77 1.323 5.1 0 9.25-4.15 9.25-9.25S17.1 2.75 12 2.75 2.75 6.9 2.75 12c0 1.688.458 3.338 1.326 4.774.266.44.298.977.086 1.434l-1.384 3.014 3.016-1.386c.2-.093.413-.14.628-.14z"}),o.a.createElement("path",{d:"M12 18.25c-3.446 0-6.25-2.804-6.25-6.25S8.554 5.75 12 5.75s6.25 2.804 6.25 6.25-2.804 6.25-6.25 6.25zm0-11c-2.62 0-4.75 2.13-4.75 4.75s2.13 4.75 4.75 4.75 4.75-2.13 4.75-4.75S14.62 7.25 12 7.25z"}),o.a.createElement("path",{d:"M14.5 12.75c-.414 0-.75-.336-.75-.75 0-.965-.785-1.75-1.75-1.75-.414 0-.75-.336-.75-.75s.336-.75.75-.75c1.792 0 3.25 1.458 3.25 3.25 0 .414-.336.75-.75.75z"})));s.metadata={width:24,height:24},t.a=s},"3zeG":function(e,t,n){"use strict";n("kYxP"),n("ERkP");var i=n("zb92");const o=Object(i.a)({loader:()=>Promise.all([n.e(0),n.e(241)]).then(n.bind(null,"MzK7"))});t.a=o},"64vW":function(e,t,n){"use strict";var i=n("ERkP");const o=n.n(i).a.createContext({heightsReady:!0});t.a=o},"6bZg":function(e,t,n){"use strict";var i=n("OIC0");t.a={[i.a.CASHTAG]:void 0,[i.a.EMOJI]:void 0,[i.a.HASHTAG]:"hashtag_click",[i.a.INTERACTIVE_HIGHLIGHT]:"highlight_click",[i.a.MEDIA]:void 0,[i.a.MENTION]:"mention_click",[i.a.TEXT]:void 0,[i.a.URL]:"open_link"}},"9B+1":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("PbbS");const o=e=>({topicId:e.topicId,functionalityType:e.functionalityType}),a=e=>e===i.a.Star?i.a.Star:e===i.a.Favorite?i.a.Favorite:e===i.a.Interested?i.a.Interested:i.a.Default},BLtI:function(e,t,n){"use strict";n.d(t,"a",(function(){return Mn}));var i=n("97Jx"),o=n.n(i),a=(n("kYxP"),n("849X"),n("ERkP")),r=n.n(a),s=n("rcen"),l=n("Rp9C"),c=n("MWbm"),d=n("Irs7"),h=n("htQn"),u=n("t62R"),p=n("OOKO"),m=n("/yvb"),_=n("rHpw"),w=n("v6aA"),b=n("Lsrn"),g=n("k/Ka");const C=(e={})=>Object(g.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[b.a.root,e.style],viewBox:"0 0 24 24"},r.a.createElement("g",null,r.a.createElement("path",{d:"M20.937 3.223c-.403-.263-.948-.375-1.48-.195-.726.247-1.906.534-3.457.534-1.38 0-2.286-.225-3.273-.472l-.01-.003c-1.01-.252-2.1-.525-3.717-.525-1.67 0-3.235.484-4.357.946-.16.066-.312.132-.455.197V2.75c0-.518-.42-.938-.938-.938s-.937.42-.937.938v18.5c0 .518.42.938.938.938s.94-.42.94-.938v-2.457c.28-.15.682-.35 1.168-.55 1.002-.414 2.312-.806 3.642-.806 1.38 0 2.286.225 3.273.472l.01.002c1.01.253 2.102.525 3.717.525 2.4 0 4.075-.6 4.804-.922.58-.257.883-.823.883-1.378V4.577c0-.612-.343-1.088-.75-1.354zm-3.28 8.717c-.465.226-1.026.03-1.25-.435-.71-1.462-2.598-1.42-3.234.113l-.307.74c-.145.35-.487.58-.866.58-.38 0-.72-.23-.866-.58l-.308-.74c-.636-1.532-2.525-1.576-3.233-.113-.226.466-.786.66-1.252.435-.465-.226-.66-.786-.434-1.252C7.16 8.1 10.392 7.905 12 9.94c1.608-2.035 4.84-1.84 6.094.748.225.466.03 1.026-.436 1.252z"})));C.metadata={width:24,height:24};var v=C;const f=(e={})=>Object(g.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[b.a.root,e.style],viewBox:"0 0 24 24"},r.a.createElement("g",null,r.a.createElement("path",{d:"M3.25 22c-.414 0-.75-.336-.75-.75V2.75c0-.414.336-.75.75-.75s.75.336.75.75v1.247C5.144 3.453 7.007 2.75 9 2.75c1.592 0 2.655.266 3.682.522.982.246 1.91.478 3.318.478 1.687 0 2.945-.332 3.704-.61.41-.15.87-.086 1.235.168.35.244.56.64.56 1.054V16.21c0 .474-.272.905-.694 1.1-.62.284-2.325.94-4.806.94-1.593 0-2.654-.266-3.682-.522-.983-.246-1.91-.478-3.318-.478-2.147 0-4.203.996-5 1.433v2.567c0 .414-.336.75-.75.75zM4 5.683v11.314c1.144-.544 3.007-1.247 5-1.247 1.592 0 2.655.266 3.682.522.982.245 1.91.478 3.318.478 1.975 0 3.36-.458 4-.725v-11.4c-.887.302-2.246.625-4 .625-1.593 0-2.654-.266-3.682-.522-.983-.246-1.91-.478-3.318-.478-2.147 0-4.203.996-5 1.433z"}),r.a.createElement("path",{d:"M17.925 10.77c-1.23-2.543-4.46-2.65-5.925-.496-1.465-2.153-4.695-2.047-5.925.495-.18.372-.025.82.348 1 .373.182.82.026 1.002-.347.78-1.61 2.878-1.556 3.575.123l.308.74c.116.28.39.464.693.464s.578-.182.694-.463l.306-.74c.697-1.68 2.795-1.734 3.575-.124.18.373.63.53 1.002.348.373-.18.53-.628.348-1z"})));f.metadata={width:24,height:24};var T=f,y=n("OKMS"),k=n("7Mjr");class I extends r.a.Component{constructor(...e){super(...e),this._scribeAction=e=>{const{analytics:t,tweet:n}=this.props,i=l.a.getTweetItem(n);t.scribe({action:e,data:{items:[i]}})},this._handlePivotClick=()=>{this._scribeAction("click")},this._getBirdwatchIcon=e=>{switch(e){case"BirdwatchFlagFill":return r.a.createElement(v,{style:E.birdwatchIcon,testID:"icon-birdwatch-flag"});case"BirdwatchFlagStroke":return r.a.createElement(T,{style:E.birdwatchIcon,testID:"icon-birdwatch-flag-stroke"});default:return r.a.createElement(y.a,{style:E.birdwatchIcon,testID:"icon-birdwatch-fill"})}}}componentDidMount(){this._scribeAction("impression")}render(){const{callToAction:e,destinationUrl:t,footer:n,iconType:i,subtitle:o,title:a}=this.props,l="#"===t?void 0:{pathname:t,anchorless:!0},d=l?this._handlePivotClick:void 0,_=(null==e?void 0:e.destinationUrl)||"#",w="#"===_?void 0:_;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{link:l,onPress:d,style:E.pivotContainer,testID:"birdwatch-pivot",withInteractiveStyling:!!l},r.a.createElement(c.a,{style:E.headerContainer},r.a.createElement(c.a,{style:[E.headerTextContainer,!e&&E.headerTextAndThumbnailContainer]},this._getBirdwatchIcon(i),r.a.createElement(u.b,{size:"subtext1",style:E.birdwatchLabel,weight:"bold"},a)),e?null:r.a.createElement(k.a,{style:E.icon,testID:"icon-arrow-right"})),o?r.a.createElement(s.a,{entities:o.entities,size:"body",style:E.subtitle,text:o.text}):null,e?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{spacing:"space2"}),r.a.createElement(c.a,{style:E.callToActionContainer},r.a.createElement(u.b,{size:"subtext1"},e.prompt),r.a.createElement(m.a,{link:w,onPress:this._handlePivotClick,size:"small",type:"primaryOutlined"},e.title))):null),n?r.a.createElement(s.a,{color:"gray700",entities:n.entities,size:"subtext2",style:E.footer,text:n.text}):null)}}I.contextType=w.a;const E=_.a.create((e=>({birdwatchLabel:{display:"flex",alignItems:"center"},footer:{paddingVertical:e.spaces.space12},pivotContainer:{borderColor:e.colors.nestedBorderColor,borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.xLarge,marginTop:e.spaces.space12,overflow:"hidden"},headerContainer:{paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space12,backgroundColor:e.colors.hoverBlack,justifyContent:"space-between",alignItems:"center",flexDirection:"row",flexGrow:1},headerTextContainer:{flexDirection:"row",width:"100%"},headerTextAndThumbnailContainer:{width:"80%"},callToActionContainer:{paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space12,justifyContent:"space-between",alignItems:"center",flexDirection:"row",flexGrow:1},icon:{color:e.colors.text,paddingLeft:e.spaces.space12,flexShrink:0},birdwatchIcon:{marginRight:e.spacesPx.space4,padding:e.spacesPx.space2,color:e.colors.primary,flexShrink:0},thumbnail:{color:e.colors.whiteOnColor},subtitle:{paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space12}})));var x=Object(d.a)(I,{element:"birdwatch_pivot"}),S=n("6/RC"),A=n("uIZp"),P=n("3XMw"),L=n.n(P),O=n("5S/X");function D(e){this.name="AssertionError",this.message=e,this.stack=(new Error).stack}D.prototype=Object.create(Error.prototype),D.prototype.constructor=D;var M=(e,t)=>{if(!e)throw new D(t?`Assertion failed: ${t}`:"Assertion failed (also, no message was provided)")},R=n("E6XO"),U=n("sXY3"),F=n("tn7R"),B=n("+d3d"),N=n("oECP"),H=n("fs1G");let j={},W=0;const z={mount:["didMount","willMount"],update:["didUpdate","willUpdate"]},V=()=>{Object(U.a)(j).forEach((([e,t],n)=>{const i=Object(F.a)(t),o=i.length;i.forEach((t=>{Object(U.a)(z).map((([n,[i,a]])=>{(e=>1===e||Math.random()<=.01)(o)&&i in t&&a in t&&Object(R.c)(((e,t)=>`lifecycle:${e.toLowerCase()}:${t}`)(e,n),{duration_ms:t[i]-t[a]})}))}))})),Object(R.a)(),j={}},q=Object(B.a)(V,2e4)||V,K=(e,t=!1)=>{const n=e.constructor.displayName;M(n,`${e.constructor.name} component has "displayName" set.`);let i=e.__lifecycleIdentifier;return!i&&t&&(W+=1,i=e.__lifecycleIdentifier=W),j[n]&&j[n][i]||(j[n]={...j[n],[i]:{}}),[n,i]},G=(e,t,n,i)=>{j[e][t][n]=i};var $=S.canUseDOM?function(e){const t={UNSAFE_componentWillMount:e.prototype.UNSAFE_componentWillMount||H.a,componentDidMount:e.prototype.componentDidMount||H.a,UNSAFE_componentWillUpdate:e.prototype.UNSAFE_componentWillUpdate||H.a,componentDidUpdate:e.prototype.componentDidUpdate||H.a,componentWillUnmount:e.prototype.componentWillUnmount||H.a};return e.prototype.UNSAFE_componentWillMount=function(...e){const[n,i]=K(this,!0);t.UNSAFE_componentWillMount.apply(this,e),G(n,i,"willMount",Date.now())},e.prototype.componentDidMount=function(...e){const[n,i]=K(this);t.componentDidMount.apply(this,e),G(n,i,"didMount",Date.now()),q()},e.prototype.UNSAFE_componentWillUpdate=function(...e){const[n,i]=K(this,!0);t.UNSAFE_componentWillUpdate.apply(this,e),G(n,i,"willUpdate",Date.now())},e.prototype.componentDidUpdate=function(...e){const[n,i]=K(this);t.componentDidUpdate.apply(this,e),G(n,i,"didUpdate",Date.now()),q()},e.prototype.componentWillUnmount=function(...e){t.componentWillUnmount.apply(this,e),q()},e}:N.a,Q=n("caTy"),X=n("Y6L+"),J=n("zb92");var Z=Object(J.a)({loader:()=>n.e(235).then(n.bind(null,"mL9d"))}),Y=n("xM7j"),ee=n("LKCq");const te="inner_tombstone";function ne({children:e,config:t,nativeID:n}){var i;const a=Object(d.b)();if(O.b)return e;const l=(null==(i=t.richRevealText)?void 0:i.text)||t.revealText,h=t.richText?r.a.createElement(s.a,{alignment:t.richText.alignment,entities:t.richText.entities,onEntityClick:function(){a.scribe({action:"open_link",component:te})},rtl:t.richText.rtl,text:t.richText.text}):t.text;return r.a.createElement(c.a,{nativeID:n},l?r.a.createElement(ee.a,{label:h,onReveal:function(){a.scribe({action:"click",component:te})},render:({onActionClick:e,...t})=>r.a.createElement(Y.a,o()({},t,{inline:!0,onClick:e})),revealLabel:l},e):r.a.createElement(Y.a,{inline:!0},h))}var ie=n("PeW/"),oe=n("3IPs"),ae=n("PbbS"),re=n("LWCC"),se=n("JUsM");const le=_.a.create((e=>({topicFollowPrompt:{marginBottom:e.spaces.space12,marginTop:`-${e.spaces.space8}`}})));var ce=({defaultRef:e,topic:t,topicFollowPrompt:n})=>{const{entities:i,text:o}=(null==n?void 0:n.description)||{};return r.a.createElement(c.a,{style:le.topicFollowPrompt},r.a.createElement(se.a,{containerRef:e,primaryAction:r.a.createElement(re.a,{showRelationshipChangeConfirmation:!0,textMode:ae.a.FollowTopic,topic:t}),text:r.a.createElement(s.a,{entities:i,text:o})}))};var de=Object.freeze({Author:"author",LikedByAuthor:"liked-by-author"}),he=n("SrIh"),ue=n("7JQg"),pe=n("gdQ4"),me=n("qbku"),_e=n("tocL"),we="analyticsButton",be="promotedIndicator",ge="readerModeBottomBar",Ce="socialContext",ve="tweet",fe=n("X04g"),Te=n("v/3V"),ye=n("RqPI"),ke=n("3zvM"),Ie=n("lMB6"),Ee=n("iChn");const xe=Object(ke.e)({namespace:"translationsTweets",fetchOneContext:"FETCH_TWEET_TRANSLATION",fetchOneEndpoint:e=>(t,n)=>e.Tweets.fetchTranslation(t,n).then(Se),fetchOneParams:e=>({id:e})}),Se=e=>{const t=Array.isArray(e)?e:[e];return{entities:{translationsTweets:Object(Ee.a)(t,(e=>e.id_str))}}};var Ae=Ie.a.register(xe),Pe=n("rxPX"),Le=n("0KEI");const Oe=(e,t)=>Ae.select(e,t.tweetId),De=(e,t)=>Ae.selectFetchStatus(e,t.tweetId);var Me=Object(Pe.a)().propsFromState((()=>({translation:Oe,translationFetchStatus:De,userLanguage:ye.q}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(Le.createLocalApiErrorHandlerWithContextFactory)("TRANSLATE_TWEET"),fetchTranslation:Ae.fetchOneIfNeeded}))),Re=n("PdwO"),Ue=n("cTG8"),Fe=n("zTrU"),Be=n("YeIG"),Ne=n("Gpeq");const He=L.a.b4947556;class je extends r.a.Component{constructor(...e){super(...e),this._fetchTranslation=()=>{const{createLocalApiErrorHandler:e,fetchTranslation:t,tweetId:n}=this.props;t(n).catch(e())},this._shouldDisableTranslation=()=>{const{disableTranslation:e,displayTextRange:t,entities:n,isFocal:i,lang:o,supplementalLang:a,text:r,userLanguage:s}=this.props;return this._getMemoizedDisableTranslation(e,t,n,r,o,a,s)||!(i||this.context.featureSwitches.isTrue("tweet_translation_timeline_enabled"))},this._renderTranslation=()=>{const{createLocalApiErrorHandler:e,disableTranslation:t,enrichments:n,fetchTranslation:i,header:a,hitHighlights:s,isFocal:l,onMediaTranslation:c,style:d,supplementalLang:h,translation:u,translationFetchStatus:p,tweetId:m,userLanguage:_,weight:w,withOriginalText:b,...g}=this.props;if(u)return r.a.createElement(Ue.a,o()({},g,{displayTextRange:this._getMemoizedDisplayTextRange(u.text),entities:u.entities,lang:u.destinationLanguage,text:u.text}))},this._getMemoizedDisplayTextRange=Object(Fe.a)((e=>[0,e.length])),this._getMemoizedDisableTranslation=Object(Fe.a)(((e,t,n,i,o,a,r)=>{const s=r&&o&&Object(Ne.c)(o.split("-")[0])!==Object(Ne.c)(r.split("-")[0]);return e||!!a||!s||!Object(Ne.b)({displayTextRange:t,entities:n,text:i,language:o})}))}componentDidUpdate(e){const{onMediaTranslation:t,translation:n}=this.props;if(e.translation!==n&&n){var i;const{featureSwitches:e}=this.context,o={};((null==n||null==(i=n.entities)?void 0:i.media)||[]).forEach((e=>{e.alt_text&&(o[e.id_str]=e.alt_text)})),t&&!Object(Be.a)(o)&&e.isTrue("responsive_web_alt_text_translations_enabled")&&t(o)}}render(){const{createLocalApiErrorHandler:e,disableTranslation:t,fetchTranslation:n,header:i,isFocal:o,onMediaTranslation:a,style:s,supplementalLang:l,translation:c,translationFetchStatus:d,tweetId:h,userLanguage:u,withOriginalText:p,...m}=this.props;return r.a.createElement(Re.a,{disableTranslation:this._shouldDisableTranslation(),fetchTranslation:this._fetchTranslation,header:i,key:h,onMediaTranslation:a,originLanguage:c&&c.localizedSourceLanguage,scribeElement:"translate_tweet",style:s,translateButtonText:He,translatedMessage:this._renderTranslation(),translationFetchStatus:d,withOriginalText:p},r.a.createElement(Ue.a,m))}}je.contextType=w.a;var We=Me(je),ze=n("2qZs"),Ve=n("wwsH");const qe={viewType:"birdwatch"},Ke=_.a.create((e=>({birdwatchIcon:{marginLeft:e.spaces.space12}})));var Ge=({onPress:e,onShow:t,tweetId:n})=>{const i={pathname:`/i/birdwatch/t/${n}`,external:!0};return r.a.useEffect((()=>{t&&t()}),[t]),r.a.createElement(Ve.a,{Icon:ze.a,accessibilityLabel:"Birdwatch note",activeColor:"primary",behavioralEventContext:qe,link:i,onPress:e,style:Ke.birdwatchIcon})},$e=n("xXop"),Qe=n("xrkw"),Xe=n("mqpi");const Je=L.a.e6901eec;class Ze extends r.a.PureComponent{constructor(...e){super(...e),this._shouldDisable=Xe.b.bind(null,this.context.featureSwitches)}render(){const{endControl:e,loggedInUserId:t,onAnalyticsClick:n,style:i,tweet:o}=this.props;return!this._shouldDisable(o,Xe.a.Analytics)&&t===o.user.id_str?r.a.createElement(c.a,{style:[Ye.analyticsContainerWithChildren,i]},r.a.createElement(h.a,{link:`${o.permalink}/analytics`,onPress:n,style:Ye.analyticsButton,testID:we},r.a.createElement(Qe.a,{style:Ye.analyticsIcon}),r.a.createElement(u.b,{color:"gray700"},Je)),e):null}}Ze.contextType=w.a;const Ye=_.a.create((e=>({analyticsIcon:{color:e.colors.gray700,paddingRight:e.spaces.space4},analyticsButton:{paddingVertical:e.spaces.space16,flexDirection:"row",flexGrow:1},analyticsContainerWithChildren:{justifyContent:"space-between",borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:"1px",flexDirection:"row",alignItems:"center"}})));var et=Ze,tt=n("tmUV"),nt=n("YBcl"),it=n("k89r");var ot=e=>{const t=Object(it.a)();return r.a.createElement(nt.a,o()({},e,{handleAnchorAction:()=>{t.scribe({component:"conversation_control_prompt",element:"see_conversation",action:"click"})},handleAnchorOpen:e=>{t.scribe({element:e,action:"click"})},handleAnchorSecondaryAction:()=>{t.scribe({component:"conversation_control_prompt",element:"ok",action:"click"})},handleHeadsUpImpression:(e,n)=>{t.scribe({element:"heads_up_context",action:n,data:{tweet_id:e}})}}))},at=n("uFYP");const rt=L.a.g6237a1e,st=L.a.d6b5949e,lt=e=>{switch(e){case"paused":return st;case"in-progress":default:return rt}};var ct=e=>{const{nativeID:t,status:n,style:i}=e,o="paused"===n;return r.a.createElement(c.a,{style:[dt.root,i]},r.a.createElement(at.a,{style:[dt.icon,o?dt.withGray700:null]}),r.a.createElement(u.b,{color:o?"gray700":"text",nativeID:t,size:"subtext2"},lt(n)))};const dt=_.a.create((e=>({root:{alignItems:"center",flexDirection:"row"},icon:{color:e.colors.buttonBlack,height:"1em",marginRight:e.spaces.space4,flexShrink:0},withGray700:{color:e.colors.gray700}})));var ht=n("TuTd");const ut=(e,t)=>Object(ht.a)(e,t.tweetId);var pt=Object(Pe.a)().propsFromState((()=>({liveCounts:ut}))).adjustStateProps((({liveCounts:e})=>({liveLikeCount:e&&e.likeCount,liveQuoteCount:e&&e.quoteCount,liveRetweetCount:e&&e.retweetCount}))),mt=n("Jkc4"),_t=n("855f"),wt=n("MtXG"),bt=n("de1q"),gt=n("cHvH");const Ct=L.a.fd80ffb0,vt=_.a.theme.spacesPx.space20;class ft extends r.a.PureComponent{constructor(e,t){super(e,t),this._reactionsLegacyHeartEnabled=this.context.featureSwitches.isTrue("responsive_web_reactions_legacy_heart"),this._renderQuoteTweetTimelinePivot=()=>{const{permalink:e}=this.props;return r.a.createElement(h.a,{link:`${e}/retweets/with_comments`,onPress:this._handleQuoteTweetPivotScribeOnClick,style:Tt.quoteTweetPivot,withDarkerInteractiveBackground:!1},r.a.createElement(u.b,{color:"primary"},Ct))},this._updateStateIfChanged=(e,t)=>n=>{const{nativeEvent:{layout:{width:i}}}=n;i!==e()&&t(i)},this._handleQuoteTweetStatLayout=this._updateStateIfChanged((()=>this.state.quoteTweetLabelWidth),(e=>this.setState({quoteTweetLabelWidth:e}))),this._handleRetweetStatLayout=this._updateStateIfChanged((()=>this.state.retweetLabelWidth),(e=>this.setState({retweetLabelWidth:e}))),this._handleLikeStatLayout=this._updateStateIfChanged((()=>this.state.likeLabelWidth),(e=>this.setState({likeLabelWidth:e}))),this._handleStatGroupLayout=this._updateStateIfChanged((()=>this.state.groupWidth),(e=>this.setState({groupWidth:e}))),this._handleRetweetScribeOnClick=()=>{const{analytics:e}=this.props;e.scribe({element:"retweet_stat",action:"click"})},this._handleQuoteTweetScribeOnClick=()=>{const{analytics:e}=this.props;e.scribe({element:"quote_tweet_stat",action:"click"})},this._handleQuoteTweetPivotScribeOnClick=()=>{const{analytics:e}=this.props;e.scribe({element:"quote_tweet_pivot",action:"click"})},this.state={retweetLabelWidth:void 0,likeLabelWidth:void 0,quoteTweetLabelWidth:void 0,groupWidth:void 0}}componentDidMount(){const{analytics:e,isNonCompliantTweet:t,quoteTweetCount:n}=this.props;t&&e.scribe({element:"quote_tweet_pivot",action:"impression"}),n&&n>0&&e.scribe({element:"quote_tweet_stat",action:"impression"})}render(){const{isNonCompliantTweet:e}=this.props;return e?this._renderQuoteTweetTimelinePivot():this._renderStats()}_renderReaction(e){const{permalink:t}=this.props,n=_t.a.getTruncatedCount(e.count),i={pathname:`${t}/reactions`,state:{reactionType:e.type}};return r.a.createElement(c.a,{key:e.type},r.a.createElement(mt.a,null,(t=>r.a.createElement(wt.a,{count:e.count,link:i,onPress:t()},r.a.createElement(c.a,{style:Tt.reactionStat},r.a.createElement(bt.a,{legacyHeart:this._reactionsLegacyHeartEnabled,reactionType:e.type,style:Tt.reaction}),r.a.createElement(wt.a.Value,{animated:!0,count:e.count,weight:"normal"},n))))))}_renderReactionsStatsGroup(){const{permalink:e,reactionCount:t}=this.props,n=t&&t.reduce(((e,t)=>(t.count||0)+e),0)||0;if(!n||!t)return null;const i=_t.a.getTruncatedCount(n),o=t.sort(((e,t)=>t.count-e.count)).filter((e=>e.count>0));return r.a.createElement(gt.a,null,(({windowWidth:t})=>r.a.createElement(wt.a.Group,{style:[Tt.detailItemContainer,Tt.detailItem]},t>_.a.theme.breakpoints.small?r.a.createElement(c.a,null,r.a.createElement(mt.a,null,(t=>r.a.createElement(wt.a,{count:n,link:`${e}/reactions`,onPress:t()},r.a.createElement(L.a.I18NFormatMessage,{$i18n:"d01be6d9"},r.a.createElement(wt.a.Value,{animated:!0,count:n},L.a.d2100fb5({displayCountAll:i})),r.a.createElement(wt.a.Label,null,L.a.g692ffe2({count:n}))))))):null,o.map((e=>this._renderReaction(e))))))}_renderLikesStat(e){const t=_t.a.getTruncatedCount(e),{permalink:n}=this.props;return r.a.createElement(c.a,{onLayout:this._handleLikeStatLayout},r.a.createElement(mt.a,null,(i=>r.a.createElement(wt.a,{count:e,link:`${n}/likes`,onPress:i()},r.a.createElement(L.a.I18NFormatMessage,{$i18n:"e4eeeeff"},r.a.createElement(wt.a.Value,{animated:!0,count:e},L.a.e8866a55({displayCount:t})),r.a.createElement(wt.a.Label,null,L.a.eb3abe45({count:e})))))))}_renderRetweetsStat(e){const t=_t.a.getTruncatedCount(e),{permalink:n}=this.props;return r.a.createElement(c.a,{onLayout:this._handleRetweetStatLayout},r.a.createElement(mt.a,null,(i=>r.a.createElement(wt.a,{count:e,link:`${n}/retweets`,onPress:i(this._handleRetweetScribeOnClick)},r.a.createElement(L.a.I18NFormatMessage,{$i18n:"b07c7c03"},r.a.createElement(wt.a.Value,{animated:!0,count:e},L.a.d71de0c1({displayCount:t})),r.a.createElement(wt.a.Label,null,L.a.c42234da({count:e})))))))}_renderQuoteTweetsStat(e){const t=_t.a.getTruncatedCount(e),{permalink:n}=this.props;return r.a.createElement(c.a,{onLayout:this._handleQuoteTweetStatLayout},r.a.createElement(mt.a,null,(i=>r.a.createElement(wt.a,{count:e,link:`${n}/retweets/with_comments`,onPress:i(this._handleQuoteTweetScribeOnClick)},r.a.createElement(L.a.I18NFormatMessage,{$i18n:"f0259953"},r.a.createElement(wt.a.Value,{animated:!0,count:e},L.a.f6e12707({displayCount:t})),r.a.createElement(wt.a.Label,null,L.a.e2414185({count:e})))))))}_renderStats(){const{containerStyle:e,likeCount:t,quoteTweetCount:n,reactionCount:i,retweetCount:o,style:a,withReactions:s}=this.props,{groupWidth:l,likeLabelWidth:d,quoteTweetLabelWidth:h,retweetLabelWidth:u}=this.state,p=u&&h&&d&&l&&u+vt+(s?0:d+vt)+h>l,m=l,_=s?void 0:t;return o||_||n||i?r.a.createElement(c.a,{onLayout:this._handleStatGroupLayout,style:m?e:Tt.hidden},s?this._renderReactionsStatsGroup():null,o||_||n?r.a.createElement(wt.a.Group,{style:[Tt.detailItemContainer,Tt.detailItem,Tt.noWrap,a]},o?this._renderRetweetsStat(o):null,n?this._renderQuoteTweetsStat(n):null,_&&!p?this._renderLikesStat(_):null):null,p&&_?r.a.createElement(wt.a.Group,{style:[Tt.detailItemContainer,Tt.detailItem,a]},this._renderLikesStat(_)):null):null}}ft.contextType=w.a;const Tt=_.a.create((e=>({detailItem:{paddingHorizontal:e.spaces.space4,paddingVertical:e.spaces.space16},detailItemContainer:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:"1px",flexDirection:"row"},hidden:{visibility:"hidden"},noWrap:{flexWrap:"nowrap"},quoteTweetPivot:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:"1px",paddingVertical:e.spaces.space16},reaction:{width:"1.2em",height:"1.2em",marginRight:"0.5em"},reactionStat:{flexDirection:"row",alignItems:"center",display:"inline-flex"}})));var yt=Object(d.a)(ft);var kt=pt((function(e){const{containerStyle:t,isNonCompliantTweet:n,liveLikeCount:i,liveQuoteCount:o,liveRetweetCount:a,tweetLikeCount:s,tweetPermalink:l,tweetQuoteTweetCount:c,tweetReactionCount:d,tweetRetweetCount:h,withReactions:u}=e;return r.a.createElement(yt,{containerStyle:t,isNonCompliantTweet:n,likeCount:i||s,permalink:l,quoteTweetCount:o||c,reactionCount:d,retweetCount:a||h,withReactions:u})})),It=n("avOP");var Et=e=>{const{children:t}=e;return O.b?r.a.createElement(It.a,{itemProp:"articleBody"},t):t},xt=n("M0jS");const St=(e,t)=>Object(xt.c)(e,t.userId);var At=Object(Pe.a)().propsFromState((()=>({userSpace:St}))),Pt=n("Sksh"),Lt=n("dgjd"),Ot=n("1I0O"),Dt=n("oSwX");const Mt=e=>{const{avatarRef:t,imageLayoutCache:n,nativeID:i,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:c,size:d,style:h,uri:u,userId:p,userSpace:m,withHoverCard:_,withLink:w}=e;r.a.useEffect((()=>(Pt.a.registerUserInApp(p),()=>{Pt.a.deregisterUserInApp(p)})),[p]);const b=m&&m.spaceId||"",{space:g}=Object(Lt.a)(b);return m&&g&&"Running"===g.state?r.a.createElement(Ot.a,o()({avatarRef:t,imageLayoutCache:n,nativeID:i,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:c,size:d,style:h,uri:u,withHoverCard:_,withLink:w},m)):r.a.createElement(Dt.default,{avatarRef:t,imageLayoutCache:n,nativeID:i,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:c,size:d,style:h,uri:u,withHoverCard:_,withLink:w})};var Rt=At(r.a.memo(Mt)),Ut=n("FGLp"),Ft=n("TIdA"),Bt=n("DNho");const Nt=Ft.a.createLayoutCache(),Ht=_.a.create((e=>({avatar:{display:"block"},avatarWrapper:{flexShrink:1,flexGrow:0,width:"100%"}})));var jt=e=>{const t=Object(d.b)(),{featureSwitches:n}=r.a.useContext(w.a),{avatarRef:i,nativeID:o,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:h,uri:u,userId:p,withHoverCard:m=!0,withLink:_=!0,withNftAvatar:b,withUserPresence:g=!1}=e;return Object(Ut.a)((()=>{b&&n.isTrue("responsive_web_nft_avatar")&&t.scribe({element:"nft_avatar",action:"impression"})})),r.a.createElement(c.a,{style:Ht.avatarWrapper},r.a.createElement(Bt.a.Consumer,null,(({avatarSize:e})=>g?r.a.createElement(Rt,{avatarRef:i,imageLayoutCache:Nt,nativeID:o,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:h,size:e,style:Ht.avatar,uri:u,userId:p,withHoverCard:m,withLink:_}):r.a.createElement(Dt.default,{avatarRef:i,imageLayoutCache:Nt,nativeID:o,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:h,size:e,style:Ht.avatar,uri:u,userId:p,withHoverCard:m,withLink:_}))))},Wt=n("aITJ"),zt=n("E0cF"),Vt=n("Z6aJ"),qt=n("dCqJ"),Kt=n("Olb6"),Gt=n("nBUg"),$t=n("r7g+"),Qt=n("PbQQ"),Xt=n("JWUO"),Jt=n("9VO7"),Zt=n("GBcw"),Yt=n("jV+4"),en=n("ir4X"),tn=n("aA1u"),nn=n("uK4q"),on=n("kY28"),an=n("6nXH");function rn(e,t,n){var i;const o=zt.a.getOriginalTweet(e),a=null==o||null==(i=o.entities)?void 0:i.hashtags;if(!Array.isArray(a)||a.length<1)return;const r=a[0];return n&&function(e){const t=zt.a.getOriginalTweet(e),n=t.extended_entities&&t.extended_entities.media;return!!(n&&n.length>0)&&n.some((e=>"animated_gif"===e.type))}(e)&&t.isTrue("responsive_web_hashtag_highlight_is_enabled")?r.text:void 0}var sn=n("9B+1"),ln=n("YICZ"),cn=n("21zW"),dn=n("8bWS");const hn=L.a.gf5e9ea6,un=L.a.e2f2b658,pn=Object.freeze({see_more:L.a.ffd9cfe6,discover_more:L.a.d172116a,more:L.a.h63a5c3c,more_tweets:L.a.iac074c4,more_suggestions:L.a.g11ebd34,browse:L.a.g4a6901a,browse_tweets:L.a.b1abb17e});const mn=({onUndoTopicNotInterestedClick:e})=>r.a.createElement(c.a,{style:bn.tombstone},r.a.createElement(Y.a,{actionText:hn,children:un,inline:!0,onClick:e})),_n=Object(d.a)((e=>{const{analytics:t,bannerText:n,label:i,link:o,linkText:a,onNotInterestedPress:l,topic:d,withRightControl:h}=e,p=n&&""===n.text,m=a&&""===a.text,_=!m,w=!(p||m);return r.a.createElement(c.a,{style:bn.topicActions},w&&r.a.createElement(cn.a,null),_&&r.a.createElement(u.b,{color:"primary",link:o,onClick:()=>{t.scribeAction("click")},size:"subtext2",weight:"bold"},a?r.a.createElement(s.a,a):i),h?r.a.createElement(c.a,{style:bn.notInterestedButtonWrapper},r.a.createElement(ln.a,{onPress:l,size:"small",topicId:d.id,type:"brandText",withIconOnly:!0})):null)})),wn=e=>{const{isExpanded:t,onNotInterestedPress:n,topic:i}=e,o=i.following?bn.followingTopicButtonWrapper:bn.followTopicButtonWrapper,a=[t&&o,!t&&bn.followTopicButtonWrapperNotExpanded],s=t?bn.largeNotInterestedButtonWrapper:bn.notInterestedButtonWrapper;return r.a.createElement(c.a,{style:bn.topicActions},t?null:r.a.createElement(cn.a,{style:bn.topicMiddot}),r.a.createElement(c.a,{style:a},r.a.createElement(re.a,{isTransparent:!t,showRelationshipChangeConfirmation:!0,size:t?"small":"xSmall",style:bn.followTopicButton,textMode:ae.a.FollowTopic,topic:i})),n||t&&!i.following?r.a.createElement(c.a,{style:s},r.a.createElement(ln.a,{onPress:n,size:"small",topicId:i.id,type:t?"primaryOutlined":"brandText",withIconOnly:!t})):null)};const bn=_.a.create((e=>({tombstone:{paddingBottom:e.componentDimensions.gutterVertical},iconStyle:{paddingBottom:`calc(${e.spaces.space2} + ${e.spaces.space1})`,marginBottom:e.spaces.space4},topicActions:{flexDirection:"row",flexGrow:1,alignItems:"center",minHeight:e.spaces.space32},topicMiddot:{alignSelf:"center",paddingRight:0},followTopicButton:{marginTop:e.spaces.space1},followTopicButtonWrapperNotExpanded:{marginBottom:e.spaces.space2},followTopicButtonWrapper:{marginVertical:e.spaces.space4,paddingRight:e.spaces.space4,width:"50%"},followingTopicButtonWrapper:{marginVertical:e.spaces.space4,width:"100%"},notInterestedButtonWrapper:{alignItems:"flex-end",flexGrow:1},largeNotInterestedButtonWrapper:{marginVertical:e.spaces.space4,paddingLeft:e.spaces.space4,width:"50%"}})));var gn=n("0zXz");const Cn=(e={})=>Object(g.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[b.a.root,e.style],viewBox:"0 0 24 24"},r.a.createElement("g",null,r.a.createElement("path",{d:"M22.76 6.69c0 3.035-2.43 5.447-5.465 5.447-.233 0-.292.02-.428 0L11.85 7.12c-.02-.177-.02-.254-.02-.43 0-3.013 2.45-5.483 5.465-5.483 3.034 0 5.465 2.47 5.465 5.484zm-7.235 6.574l-.136.117-11.63 9.415c-1.13-.467-2.064-1.36-2.51-2.51l-.02-.02L10.7 8.48l.02-.02 4.803 4.804z"})));Cn.metadata={width:24,height:24};var vn=Cn;const fn=L.a.aaad27c8;function Tn({color:e="magenta500",name:t}){return r.a.createElement(r.a.Fragment,null,r.a.createElement(vn,{accessibilityLabel:fn,style:[yn.icon,{backgroundColor:_.a.theme.colors[e]}]}),t)}const yn=_.a.create((({borderRadii:e,colors:t,fontSizes:n,primaryColorName:i,spaces:o})=>({icon:{borderRadius:e.infinite,color:t.whiteOnColor,fontSize:n.subtext3,marginRight:o.space4,padding:o.space2}}))),kn=_.a.theme.aspectRatios.maxTimelineImage,In=_.a.theme.aspectRatios.minTimelineImage,En=["magenta500","orange500","purple500"],xn=L.a.f277e94a,Sn=L.a.ee79367b,An=L.a.a2a3824a,Pn=L.a.c14cdb18,Ln=L.a.e8adeec8,On=L.a.i093db9c,Dn={element:"user_recommendation"};class Mn extends r.a.Component{constructor(...e){super(...e),this._defaultInlinePromptRef=r.a.createRef(),this._iconContainerRef=r.a.createRef(),this.state={mediaAltTranslations:{}},this._transformPromotedUrl=Te.a.bind(null,this.context.featureSwitches),this._isEdgeToEdgeEnabled=this.context.featureSwitches.isTrue("media_edge_to_edge_content_enabled"),this._getWithTopLine=()=>{const{conversationTreeMetadata:e,isFocal:t,tweet:n}=this.props,i=zt.a.getOriginalTweet(n),o=this._getConversationPosition(),a=this._getIsConversationStart(),r=e&&e.ancestorConnector,s=e&&e.indents,l=t&&!!i.in_reply_to_status_id_str||o&&!a;return s?"top"===r:l},this._getWithBottomLine=()=>{const{conversationTreeMetadata:e,tweet:t}=this.props,n=zt.a.getOriginalTweet(t),i=this._getConversationPosition(),o=e&&e.indents,a=e&&e.descendantConnector,r=i&&!i.isEnd;return o?a:!(!n.in_reply_to_status_id_str&&"ancestor"!==(null==i?void 0:i.position)&&this._isEdgeToEdgeEnabled)&&r},this._isEditTweetConsumptionEnabled=()=>this.context.featureSwitches.isTrue("responsive_web_edit_tweet_enabled")||this.context.featureSwitches.isTrue("subscriptions_feature_labs_1004"),this._isTweetInConversation=()=>{const e=this._getWithTopLine(),t=this._getWithBottomLine();return!!e||!!t},this._getFeatureConfigurationContextProviderValue=()=>{const{onMediaHashtagHighlightClick:e,promotedContent:t,promotedContentAdvertiser:n,tweet:i}=this.props,{featureSwitches:o}=this.context,a={highlightedHashtag:()=>rn(i,o,Vt.a.isPromoted(t)),avatarURIForHashtagHighlight:()=>function(e,t){if(e&&t.isTrue("responsive_web_hashtag_highlight_show_avatar"))return e.profile_image_url_https}(n,o),shouldUseSmallFontForHashtagHighlight:()=>o.isTrue("responsive_web_hashtag_highlight_use_small_font"),onMediaHashtagHighlightClick:e},r=o.isTrue("trusted_friends_consumption_enabled"),s=o.isTrue("trusted_friends_tweet_creation_enabled"),l={c9sEnabled:()=>o.isTrue("c9s_enabled"),trustedFriendsEnabled:()=>r,trustedFriendsCreationEnabled:()=>s},c=!this.props.isFocal&&this._isTweetInConversation();return{...a,...l,isVibeTweetConsumptionEnabled:()=>o.isTrue("vibe_tweet_context_enabled"),withEdgeToEdgeContent:()=>!c&&o.isTrue("media_edge_to_edge_content_enabled"),withEdgeToEdgeTweetAnatomy:()=>o.isTrue("media_edge_to_edge_content_enabled"),headsUpVariant:()=>o.getStringValue("conversational_safety_heads_up_treatment_A_enabled"),isCollaborativeTweetConsumptionEnabled:()=>o.isTrue("responsive_web_cotweet_consumption_enabled"),isCopyrightDisputeLinkEnabled:()=>o.isTrue("ecd_dispute_form_link_enabled"),isEditTweetConsumptionEnabled:this._isEditTweetConsumptionEnabled,misinfoLabelRevampTweaksEnabled:()=>o.isTrue("responsive_web_misinfo_label_revamp_tweaks_enabled"),mixedMediaEnabled:()=>o.isTrue("responsive_web_mixed_media_consumption_enabled"),sensitiveMediaWarningsEnabled:()=>o.isTrue("sensitive_tweet_warnings_enabled"),tweetRendersPromotedContentBadgeBelowHeader:()=>o.isTrue("responsive_web_promoted_badge_below_header"),socialContextRefreshEnabled:()=>this.context.featureSwitches.isTrue("social_context_and_topic_context_refresh_alignment_enabled"),trustedFriendsInfo:()=>r&&r?i.trusted_friends_info:void 0,twitterArticleLearnMoreBannerEnabled:()=>o.isTrue("responsive_web_twitter_article_view_enabled")}},this._renderPromotedDetails=e=>{const{onPoliticalSponsorWebsiteClick:t,onPromotedDisclaimerLearnMoreClick:n,onPromotedIndicatorClick:i,promotedContent:o,promotedContentAdvertiser:a,tweet:s}=this.props;return n&&t&&i?r.a.createElement(qt.a,{onPoliticalSponsorWebsiteClick:t,onPromotedDisclaimerLearnMoreClick:n,onPromotedIndicatorClick:i,promotedContent:o,promotedContentAdvertiser:a,style:Rn.promotedDetails,testID:be,tweet:s,withCircleIcon:e}):null},this._getPromoteButtonOnPress=e=>{const{onPromoteAgainButtonClick:t,onPromoteButtonClick:n}=this.props;return"EligibleWithPreviousCampaign"===e?t:n},this._renderBirdwatchPivot=()=>{const{tweet:e,withBirdwatchPivots:t}=this.props,n=zt.a.getOriginalTweet(e);return n.birdwatch_pivot&&t&&this.context.featureSwitches.isTrue("responsive_web_birdwatch_pivots_enabled")?r.a.createElement(x,o()({},n.birdwatch_pivot,{tweet:e})):null},this._renderModeratedRepliesIcon=()=>{const{hasModeratedReplies:e,onModeratedIconClick:t,tweet:n}=this.props;return e?r.a.createElement(Kt.a,{link:`${n.permalink}/hidden`,onPress:t}):null},this._renderBirdwatchNotesIcon=()=>{const{onBirdwatchNotesIconClick:e,onBirdwatchNotesIconShown:t,tweet:n}=this.props;return!(n.birdwatch_pivot&&!0===this.context.featureSwitches.getValueWithoutScribeImpression("responsive_web_birdwatch_pivots_enabled"))&&n.has_birdwatch_notes&&this.context.featureSwitches.isTrue("responsive_web_birdwatch_consumption_enabled")&&this.context.featureSwitches.isTrue("responsive_web_birdwatch_contribution_enabled")?r.a.createElement(Ge,{onPress:e,onShow:t,tweetId:n.id_str}):null},this._getUsernameStackedLayoutEnabled=()=>this.props.isFocal||this._isEdgeToEdgeEnabled,this._handleSocialContextClick=()=>{const{saveAsRecentSearch:e,shouldStoreTypeaheadItem:t,socialContext:n}=this.props;if(e&&n&&t&&t(fe.a.ItemType.USER)){var i;const t=(null==(i=n.landingUrl)?void 0:i.url.match(X.A.id))||"",o=n.text||"";e({topic:{id:t&&t[0],name:o,description:An,type:oe.a.Topic}})}},this._renderTweetTextHWTweet=e=>{const{excludeCardUrl:t,hitHighlights:n,isFocal:i,linkify:a,onEntityClick:s,tweet:l,tweetTextSize:c,withCardLinks:d,withInlineMedia:h,withQuotedTweetLinks:u}=this.props,p=zt.a.getOriginalTweet(l),m=zt.a.hasInteractiveText(p),_=c||(m?"title4":e.size),w=this._shouldShowLikedByAuthor(),b={...e,excludeCardUrl:t,hitHighlights:n,linkify:a,onEntityClick:s,size:_,transformUrl:this._transformUrl,unmentionedUserIds:p.unmentioned_user_ids,weight:m?"heavy":void 0,withCardLinks:d,withMediaLinks:!h,withQuoteLinks:u||zt.a.isQuotedTweetUnavailable(p),withUnicodeEmojis:O.b};return r.a.createElement(Et,null,r.a.createElement(We,o()({},b,{disableTranslation:p.user.protected,isFocal:i,lang:p.lang,onMediaTranslation:this._handleMediaTranslations,supplementalLang:p.supplemental_language,text:p.text,tweetId:p.id_str,withLikedByAuthor:w,withOriginalText:i})))},this._renderTweetText=e=>{const{excludeCardUrl:t,hitHighlights:n,isFocal:i,linkify:o,onEntityClick:a,tweet:s,tweetTextSize:l,withCardLinks:c,withInlineMedia:d,withQuotedTweetLinks:h}=this.props,u=zt.a.getOriginalTweet(s),p=zt.a.hasInteractiveText(u),m=l||(i||p?"title4":"body"),_=p&&Rn.interactiveHighlightSpacer||this._isEdgeToEdgeEnabled&&Rn.edgeToEdgeTextSpacer,w=i?Rn.expandedTweetText:_;return r.a.createElement(Et,null,r.a.createElement(We,{disableTranslation:u.user.protected,displayTextRange:u.display_text_range,enrichments:u.enrichments,entities:u.entities,excludeCardUrl:t,hitHighlights:i?void 0:n,isFocal:i,lang:u.lang,linkify:!!i||o,nativeID:e,onEntityClick:a,onMediaTranslation:this._handleMediaTranslations,quotedTweetId:u.quoted_status&&u.quoted_status.id_str,quotedTweetPermalink:u.quoted_status_permalink,size:m,style:w,supplementalLang:u.supplemental_language,text:u.text,transformUrl:this._transformUrl,tweetId:u.id_str,unmentionedUserIds:u.unmentioned_user_ids,weight:p?"heavy":void 0,withCardLinks:i?void 0:c,withMediaLinks:i?void 0:!d,withOriginalText:i,withQuoteLinks:!i&&h||zt.a.isQuotedTweetUnavailable(u),withUnicodeEmojis:O.b}))},this._handleMediaTranslations=e=>{this.setState({mediaAltTranslations:e})},this._transformUrl=e=>{var t;return this._transformPromotedUrl(e,null==(t=this.props.promotedContent)?void 0:t.click_tracking_info)}}render(){var e;const{conversationTreeMetadata:t,forwardPivotInfo:n,hideConversationControlsEducationText:i,hideExclusivityInfoEducationTextInReplies:a,hideTrustedFriendsEducationTextInReplies:s,isFocal:l,loggedInUser:d,onBlur:h,onClick:p,onFocus:w,onPromotedUserProfileCardClick:b,promotedContent:g,quotedTweetTombstoneInfo:C,readerModeAvailable:v,renderCurationActionMenu:f,showConversationHeadsUp:T,showLongformNotesLearnMoreBanner:y,socialContext:k,to:I,tweet:E,withReaderModeBottomBar:x,withTimestamp:P,withUnreadStyles:L}=this.props,O=zt.a.getOriginalTweet(E),{has_super_follower:D,quick_promote_eligibility:M,user:R}=O,U=null==M?void 0:M.eligibility,F=this._getIsQuickPromoteEligible(U),B=Vt.a.isPromoted(g),N="true"===(null==g||null==(e=g.experiment_values)?void 0:e.pac_in_timeline)&&!O.card&&this.context.featureSwitches.isTrue("responsive_web_promoted_account_card_enabled"),H=!!B&&this.context.featureSwitches.isTrue("responsive_web_promoted_badge_below_header"),j=!!B&&this.context.featureSwitches.isTrue("responsive_web_promoted_badge_use_circle_icon"),W=!(!R.professional||!F),z="IneligibleCampaignRunning"===U||"IneligibleCampaignPaused"===U,V=t&&t.ancestorConnector,q=t&&t.indents,K=this._isTweetInConversation()&&!l||!this._isEdgeToEdgeEnabled;return l?r.a.createElement(Qt.c.UseTweetA11yIds,{tweet:E},(([e,o])=>{const l=z?r.a.createElement(ct,{nativeID:e.promotionStatusLabel,status:this._getTweetPromotionStatus(U),style:Rn.promotionStatus}):null,m=t?r.a.createElement(u.b,{nativeID:e.conversationLevel,style:_.a.visuallyHidden},Sn({conversationTreeDepth:t.depth.toString()})):null,C=O.tombstoneInfo||E.tombstoneInfo,k=r.a.createElement(r.a.Fragment,null,C?this._renderTombstone(e.tombstone,C):null,this._renderReplyContext({nativeID:e.replyContext}),r.a.createElement(c.a,null,this._renderTweetText(e.text)),r.a.createElement(c.a,null,this._renderRichContent({nativeID:e.richContent,withRoundMediaCorners:K})),r.a.createElement(c.a,null,N?r.a.createElement(ue.c,{namespace:Dn},r.a.createElement($t.a.PromotedUserProfileCard,{followButton:r.a.createElement(A.a,{promotedContent:g,userId:O.user.id_str}),isUserProtected:O.user.protected,isUserVerified:O.user.verified,link:{pathname:`/${O.user.screen_name}`,anchorless:!0},onClick:b,onScreenNameClick:b,promotedContent:g,style:Rn.promotedUserCard,userDescription:O.user.description,userId:O.user.id_str,userName:O.user.name,userScreenName:O.user.screen_name})):null));return r.a.createElement(Gt.b.Provider,{value:this._getFeatureConfigurationContextProviderValue()},r.a.createElement(tt.a,{forwardPivotInfo:n,tweet:E},r.a.createElement(Xt.a,{a11yDomIds:o,actionMenu:f&&S.canUseDOM?f():null,avatar:this._renderAvatar(e.avatar),footer:this._renderFooter(),header:this._renderHeader(e),indents:q,onBlur:h,onFocus:w,onPress:p,testID:ve,timestamp:B||this._getUsernameStackedLayoutEnabled()||!P?null:this._renderTweetRelativeTimestamp(e.timestamp),userFollowIndicators:D?r.a.createElement(Jt.a,{type:"superFollower"}):void 0,userLabel:this._renderUserLabel(R,e.userLabel),userName:this._renderUserName(e.username,e.timestamp),userVibe:this._renderVibePill(),withBottomLine:this._getWithBottomLine(),withElbow:q?"side"===V:void 0,withFooterGap:!1,withFullWidthChildren:!0,withTopLine:this._getWithTopLine(),withUnreadStyles:L},H?this._renderPromotedDetails(j):null,m,k,this._renderFocalContent(H,W,l),E.isPreview?r.a.createElement(Z,{previewTweetId:E.id_str}):this._renderTweetActions({actionSize:"large",displayStyle:"block",nativeID:e.actionsBar,style:[Rn.actionBarFocalTweet,!v&&Rn.actionBarWithInlineReply],withAnalyticsAction:!1,withCount:!1}),this._renderReaderModeButton(),r.a.createElement(ot,{conversationControlLabelNativeID:e.conversationControlLabel,displayStyle:"detail",exclusivityInfoLabelNativeID:e.exclusivityInfoLabel,hideConversationControlsEducationText:!!i,hideExclusivityInfoEducationTextInReplies:!!a,hideTrustedFriendsEducationTextInReplies:!!s,loggedInUser:d,longformNotesLabelNativeID:e.longformNotesLabel,showConversationHeadsUp:T,showLongformNotesLearnMoreBanner:y,trustedFriendsLabelNativeID:e.trustedFriendsLabel,tweet:E}),x?r.a.createElement(c.a,{style:Rn.readerBottomBar,testID:ge}):null)))})):r.a.createElement(Gt.b.Provider,{value:this._getFeatureConfigurationContextProviderValue()},r.a.createElement(tt.a,{forwardPivotInfo:n,tweet:E},r.a.createElement($t.a,{conversationTreeMetadata:t?{ancestorConnector:t.ancestorConnector,depth:t.depth,indents:t.indents}:void 0,link:S.canUseDOM?this._getMaybeRedirectedTweetLink(I,!0):void 0,onBlur:h,onFocus:w,onPress:p,promotedContent:g,quotedTweetTombstoneInfo:C,renderActionMenu:f&&S.canUseDOM?f:gn.a,renderActionsBar:E.isPreview?()=>r.a.createElement(Z,{previewTweetId:E.id_str}):e=>r.a.createElement(r.a.Fragment,null,this._renderTweetActions({actionSize:e.actionSize,displayStyle:e.displayStyle,nativeID:e.nativeID,style:e.style,withCount:e.withCount,withAnalyticsAction:!0}),this.props.withReaderModeBottomBar?r.a.createElement(c.a,{style:Rn.readerBottomBar,testID:ge}):null),renderEducation:e=>r.a.createElement(r.a.Fragment,null,W&&r.a.createElement(m.a,{link:`${E.permalink}/quick_promote_web/intro`,onPress:this._getPromoteButtonOnPress(U),style:Rn.promoteButton,type:"primaryOutlined"},this._getPromoteButtonText(U)),r.a.createElement(ot,o()({},e,{hideConversationControlsEducationText:!!i,hideExclusivityInfoEducationTextInReplies:!!a,hideTrustedFriendsEducationTextInReplies:!!s,loggedInUser:d,showLongformNotesLearnMoreBanner:y}))),renderHighlightedUserLabel:e=>{var t;return"AutomatedLabel"!==(null==(t=e.label)?void 0:t.userLabelType)||this.context.featureSwitches.isTrue("account_taxonomy_automated_label_enabled")?r.a.createElement($t.a.HighlightedUserLabel,e):null},renderPromotedIndicator:e=>r.a.createElement($t.a.PromotedIndicator,o()({},e,{withCircleIcon:j})),renderPromotedUserProfileCard:e=>N?r.a.createElement(ue.c,{namespace:Dn},r.a.createElement($t.a.PromotedUserProfileCard,o()({},e,{followButton:r.a.createElement(A.a,{promotedContent:g,userId:e.userId}),link:{pathname:`/${O.user.screen_name}`,anchorless:!0},onClick:b,onScreenNameClick:b,style:Rn.promotedUserCard}))):null,renderPromotionStatusBadge:z?e=>r.a.createElement(ct,{nativeID:e.nativeID,status:this._getTweetPromotionStatus(U),style:Rn.promotionStatus}):()=>null,renderReplyContext:e=>this._renderReplyContext({nativeID:e.nativeID}),renderRichContent:e=>this._renderRichContent({nativeID:e.nativeID,withRoundMediaCorners:K}),renderSelfThreadCTA:()=>this._renderSelfThreadCTA(),renderSocialContext:e=>this._renderSocialContext({nativeID:e.nativeID}),renderText:e=>this._renderTweetTextHWTweet(e),renderTimestamp:e=>this._renderTweetTimestamp(e),renderTombstone:e=>this._renderTombstoneHWTweet(e),renderUserAvatar:e=>this._renderAvatar(e.nativeID),renderUserName:e=>this._renderUserNameHWTweet(e),renderVibePill:e=>this._renderVibePillHWTweet(e),socialContext:k?{contextType:k.contextType,isSelfRetweet:k.isSelfRetweet,link:k.landingUrl?Object(Q.b)(k.landingUrl):void 0,name:k.name,screenName:k.screenName,text:k.text}:void 0,staticLinkConfig:null,testID:ve,tweet:E,withBottomLine:this._getWithBottomLine(),withTopLine:this._getWithTopLine(),withUnreadStyles:L})))}_getMaybeRedirectedTweetLink(e,t){const{tweet:n}=this.props,i=this.context.history,o=zt.a.getOriginalTweet(n);let a="string"==typeof e?{pathname:e,state:{}}:e;if(a&&o.isStaleEdit&&this._isEditTweetConsumptionEnabled()){var r,s;if(!!(null==(r=n.edit_control)||null==(s=r.edit_tweet_ids)||!s.find((e=>i.location.pathname.includes(`/${e}/history`))))){var l,c;const e=zt.a.getTweetLatestVersionId(o);a={...a,pathname:zt.a.getTweetLatestVersionPermalink(o),state:{...a.state,focal:null!=(l=a.state)&&l.focal?e:void 0,contextTweetId:null!=(c=a.state)&&c.contextTweetId?e:void 0}}}}return a?{...a,anchorless:t}:void 0}_renderTweetTimestamp(e){const{withTimestamp:t,withTimestampLink:n}=this.props,{link:i,nativeID:a}=e;return t?r.a.createElement($t.a.Timestamp,o()({},e,{link:n?this._getMaybeRedirectedTweetLink(i,!1):void 0,nativeID:this._isEdgeToEdgeEnabled?void 0:a})):null}_renderTweetRelativeTimestamp(e){const{promotedContent:t,tweet:n,withTimestampLink:i}=this.props,o=zt.a.getOriginalTweet(n);return r.a.createElement(Zt.a,{link:i?{pathname:o.permalink,state:{contextTweetId:o.id_str,promotedContent:t}}:void 0,nativeID:e,timestamp:o.created_at})}_getAuthorLabelUserNameColor(){return En.includes(_.a.theme.primaryColorName)?"blue500":"magenta500"}_shouldRenderAuthorLabel(){const{replyBadge:e,rootTweetAuthorId:t,tweet:n}=this.props,{user:i}=zt.a.getOriginalTweet(n);return e===de.Author||i.id_str===t}_renderUserNameHWTweet(e){const{onAvatarClick:t,onScreenNameClick:n,tweet:i,withUserHoverCard:a,withUserName:s}=this.props;if(!s)return null;const{user:l}=zt.a.getOriginalTweet(i),{featureSwitches:c}=this.context,d=this._shouldRenderAuthorLabel()&&c.isTrue("responsive_web_author_labels_handle_label_enabled"),h=d?this._getAuthorLabelUserNameColor():void 0;return r.a.createElement($t.a.UserName,o()({},e,{color:h,onAvatarClick:t,onLinkClick:n,onScreenNameClick:n,renderUserNameHighlights:d?()=>r.a.createElement(Tn,{color:h,name:l.name}):void 0,withHoverCard:a&&!l.blocking,withLink:!!n}))}_renderUserName(e,t){const{isFocal:n,onAvatarClick:i,onScreenNameClick:o,promotedContent:a,tweet:s,withUserHoverCard:l,withUserName:c}=this.props;if(!c)return null;const{user:d}=zt.a.getOriginalTweet(s),{featureSwitches:h}=this.context,u=Vt.a.isPromoted(a),p=this._shouldRenderAuthorLabel()&&h.isTrue("responsive_web_author_labels_focal_label_enabled"),m=p?this._getAuthorLabelUserNameColor():void 0;return r.a.createElement(Yt.a,{color:m,isProtected:d.protected,isVerified:d.verified,name:d.name,nativeID:e,onAvatarClick:i,onLinkClick:o,onScreenNameClick:o,promotedContent:a,renderUserNameHighlights:p?()=>r.a.createElement(Tn,{color:m,name:d.name}):void 0,screenName:d.screen_name,screenNameSuffix:u||n||!this._isEdgeToEdgeEnabled?null:this._renderTweetRelativeTimestamp(),userId:null==d?void 0:d.id_str,withHoverCard:l&&!d.blocking,withLink:!!o,withStackedLayout:this._getUsernameStackedLayoutEnabled()})}_renderUserLabel(e,t){const{highlightedLabel:n}=e,i="AutomatedLabel"===(null==n?void 0:n.userLabelType),o=!!i&&this.context.featureSwitches.isTrue("account_taxonomy_automated_label_enabled");return!n||i&&!o?null:r.a.createElement(en.a,{label:n,nativeID:t})}_renderVibePill(){const{featureSwitches:e}=this.context;if(!e.isTrue("vibe_tweet_context_enabled"))return null;const{tweet:t}=this.props,n=zt.a.getOriginalTweet(t),{vibeTag:i}=n;return i?r.a.createElement($t.a.VibePill,{isActive:i.isAuthorActiveVibe,text:i.vibe.text,verb:i.vibe.verb}):null}_renderVibePillHWTweet(e){return this._isTweetInConversation()?null:r.a.createElement($t.a.VibePill,e)}_renderFocalContent(e,t,n){const{onAnalyticsClick:i,tweet:a}=this.props,s=zt.a.getOriginalTweet(a),{created_at:l,place:d,quick_promote_eligibility:h,source:p,source_name:_}=s,w=null==h?void 0:h.eligibility,b=this.context.featureSwitches.isTrue("responsive_web_reactions_enabled"),g=s.isEdited&&this._isEditTweetConsumptionEnabled(),C=s.isStaleEdit&&this._isEditTweetConsumptionEnabled();return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{style:Rn.footerContainer},r.a.createElement(c.a,{style:Rn.footerContent},r.a.createElement(tn.a,{linkColor:"gray700",place:d&&d.full_name,placeLink:d&&d.id?`/places/${d.id}`:void 0,renderEditCallout:g?e=>r.a.createElement(nn.a,o()({},e,{link:zt.a.getTweetEditHistoryRoute(s)})):e=>null,source:p&&_?_:void 0,sourceLink:"https://help.twitter.com/using-twitter/how-to-tweet#source-labels",style:Rn.timeLocSource,timestamp:l,timestampLink:s.permalink}),r.a.createElement(c.a,{style:Rn.footerIcons},this._renderModeratedRepliesIcon(),this._renderBirdwatchNotesIcon())),e?null:this._renderPromotedDetails(),n),C&&r.a.createElement(c.a,{style:[Rn.detailItemContainer,Rn.detailItem]},r.a.createElement(c.a,{style:Rn.staleTweetCallout},r.a.createElement(nn.a,{displayMode:"detailedSentence"})),r.a.createElement(u.b,{link:zt.a.getTweetLatestVersionPermalink(s),style:Rn.staleEditCalloutLink},On)),r.a.createElement(et,{endControl:t?r.a.createElement(m.a,{link:`${a.permalink}/quick_promote_web/intro`,onPress:this._getPromoteButtonOnPress(w),style:Rn.tweetAnalyticsPromoteButton,type:"primaryFilled"},this._getPromoteButtonText(w)):null,loggedInUserId:this.context.loggedInUserId,onAnalyticsClick:i,tweet:s}),r.a.createElement(kt,{isNonCompliantTweet:"non_compliant"===s.limited_actions,tweetId:s.id_str,tweetLikeCount:s.favorite_count,tweetPermalink:s.permalink,tweetQuoteTweetCount:s.quote_count,tweetReactionCount:s.reaction_count,tweetRetweetCount:s.retweet_count,withReactions:b}))}_renderFooter(){const{isFocal:e,topic:t,topicFollowPrompt:n}=this.props;return r.a.createElement(r.a.Fragment,null,this._renderSelfThreadCTA(),!e&&t&&n&&this.context.featureSwitches.isTrue("topics_context_controls_inline_prompt_enabled")?ce({defaultRef:this._defaultInlinePromptRef,topic:t,topicFollowPrompt:n}):null)}_renderHeader(e){const{isFocal:t,topic:n,topicFollowPrompt:i}=this.props;return r.a.createElement(r.a.Fragment,null,t&&i&&n&&this.context.featureSwitches.isTrue("topics_context_controls_inline_prompt_enabled")?ce({defaultRef:this._defaultInlinePromptRef,topic:n,topicFollowPrompt:i}):this._renderSocialContext({nativeID:e.socialContext}))}_renderSelfThreadCTA(){const{onSelfThreadClick:e,onSelfThreadImpression:t,tweet:n}=this.props,i=zt.a.getOriginalTweet(n),o=this._shouldShowSelfThreadWithAvatar();return this._shouldShowSelfThread()?r.a.createElement(pe.a,{avatarUrl:o?i.user.profile_image_url_https:void 0,onClick:e,onImpression:t,style:Rn.selfThreadCTA,to:n.permalink,userName:i.user.screen_name,withConversationLine:o}):null}_shouldShowSelfThread(){const{conversationPosition:e,tweet:t,withSelfThread:n}=this.props,i=zt.a.getOriginalTweet(t);return n&&!e&&i.self_thread&&!t.isPreview}_shouldShowSelfThreadWithAvatar(){const{shouldSelfThreadIncludeAvatar:e,tweet:t}=this.props,n=zt.a.getOriginalTweet(t);return this._shouldShowSelfThread()&&e&&!n.in_reply_to_status_id_str}_shouldShowLikedByAuthor(){const{replyBadge:e}=this.props;return e===de.LikedByAuthor&&this.context.featureSwitches.isTrue("responsive_web_like_by_author_enabled")}_getConversationPosition(){return this._shouldShowSelfThreadWithAvatar()?{isStart:!0,isEnd:!1}:this.props.conversationPosition}_getIsConversationStart(){const{tweet:e}=this.props,t=this._getConversationPosition(),n=zt.a.getOriginalTweet(e);return t&&(t.isStart||!n.in_reply_to_status_id_str)}_getIsQuickPromoteEligible(e){switch(e){case"Eligible":case"EligibleWithPreviousCampaign":return!0;default:return!1}}_getPromoteButtonText(e){switch(e){case"Eligible":return Pn;case"EligibleWithPreviousCampaign":return Ln;default:return Object(he.a)(new Error(`Tweet promote button should never render when quick promote eligibility is ${e||"null"}`),{level:"warning"}),Pn}}_getTweetPromotionStatus(e){switch(e){case"IneligibleCampaignRunning":return"in-progress";case"IneligibleCampaignPaused":return"paused";default:return Object(he.a)(new Error(`Tweet promotion badge should never render when quick promote eligibility is ${e||"null"}`),{level:"warning"}),"in-progress"}}_renderSocialContext({nativeID:e}){const{conversationPosition:t,injectedFeedbackItem:n,isFocal:i,onUndoTopicNotInterestedClick:a,promotedContent:l,socialContext:c,socialContextColor:d,topic:h,withSocialContext:u}=this.props;if(!u||!c||Vt.a.isPromoted(l))return null;const{featureSwitches:p}=this.context,m=t&&!this._getIsConversationStart(),{contextType:_,isSelfRetweet:w,landingUrl:b,name:g,screenName:C,text:v,topicContext:f}=c,T=b?Object(Q.b)(b):void 0;if(f&&h&&function({featureSwitches:e,isExpanded:t,topic:n,topicContext:i}){return Object(dn.c)(i)&&t&&n.not_interested&&(!(e.getStringValue("topics_context_controls_implicit_variation")in pn)||e.isTrue("topics_context_controls_implicit_context_x_enabled"))}({featureSwitches:p,isExpanded:i,topic:h,topicContext:f}))return r.a.createElement(mn,{onUndoTopicNotInterestedClick:a});const y={contextType:_,iconSize:"large",withLeftPadding:this.context.featureSwitches.isTrue("social_context_and_topic_context_refresh_alignment_enabled")?m||!1:!m&&!i,text:v},k=f&&h?function(e){var t;const{featureSwitches:n,iconSize:i,injectedFeedbackItem:o,isExpanded:a,socialContext:l,topic:c,withLeftPadding:d}=e,{contextType:h,landingUrl:u,topicContext:p}=l,m=u?Object(Q.b)(u):void 0,_=p&&Object(dn.b)(p),w=p&&Object(dn.c)(p),b=n.isTrue("media_edge_to_edge_content_enabled"),g=b?_e.a.TextOnly:_e.a.Topic,C=null==o||null==(t=o.markNotInterestedTopic)?void 0:t.onClick,v=p?Object(sn.a)(p):void 0,f=null!=p&&p.bannerText?r.a.createElement(s.a,p.bannerText):l.text;if(_&&n.getStringValue("topics_context_controls_followed_variation")in pn){const e=pn[n.getStringValue("topics_context_controls_followed_variation")];return{iconSize:i,contextType:g,rightControl:r.a.createElement(_n,{bannerText:l.topicContext&&l.topicContext.bannerText,label:e,link:m,linkText:l.topicContext&&l.topicContext.linkText,topic:c}),withBottomBorder:!1,withLeftPadding:!(n.isTrue("social_context_and_topic_context_refresh_alignment_enabled")||b),topicData:v,text:f}}if(w){if(n.getStringValue("topics_context_controls_implicit_variation")in pn){var T;const e=pn[n.getStringValue("topics_context_controls_implicit_variation")];return{iconSize:i,contextType:g,rightControl:r.a.createElement(_n,{bannerText:l.topicContext&&l.topicContext.bannerText,label:e,link:m,linkText:null==(T=l.topicContext)?void 0:T.linkText,onNotInterestedPress:C,topic:c,withRightControl:n.isTrue("topics_context_controls_implicit_context_x_enabled")}),topicData:v,text:f,withBottomBorder:!1,withLeftPadding:!(n.isTrue("social_context_and_topic_context_refresh_alignment_enabled")||b)}}{const e=r.a.createElement(wn,{isExpanded:a,onNotInterestedPress:C,topic:c});return a?{bottomControl:e,contextType:h,iconSize:"xLarge",iconStyle:bn.iconStyle,textColor:"text",textSize:"headline1",text:l.text,topicData:void 0,withBottomBorder:!0,withLeftPadding:d}:{contextType:h,iconSize:i,iconStyle:bn.iconStyle,rightControl:e,topicData:v,text:l.text,withBottomBorder:!0,withLeftPadding:d}}}return{contextType:h,iconSize:i,text:l.text,withLeftPadding:d}}({featureSwitches:p,iconSize:y.iconSize,injectedFeedbackItem:n,isExpanded:i,socialContext:c,topic:h,withLeftPadding:y.withLeftPadding}):y;return r.a.createElement(me.a,o()({},k,{iconColor:d,link:T,nativeID:e,onClick:_===_e.a.Topic?this._handleSocialContextClick:void 0,retweetData:{name:g,screenName:C,isSelfRetweet:w},style:Rn.socialContext,testID:Ce,textColor:d,weight:"bold"}))}_renderReplyContext({nativeID:e}){var t;const{conversationPosition:n,conversationTreeMetadata:i,isFocal:o,onReplyContextClick:a,replyContext:s,tweet:l}=this.props,c=zt.a.getOriginalTweet(l),d=c.self_thread;return this._shouldShowSelfThread()||s!==on.a.ReplyContextTypes.Isolated||!c.in_reply_to_status_id_str||i&&!o||d&&n&&!n.isStart||d&&o?null:r.a.createElement(on.a,{displayTextRange:c.display_text_range,inReplyToName:c.in_reply_to_name,inReplyToScreenName:c.in_reply_to_screen_name,inReplyToStatusIdStr:c.in_reply_to_status_id_str,inReplyToUserIdStr:c.in_reply_to_user_id_str,nativeID:e,onClick:a,style:[Rn.replyContext,o&&Rn.replyContextBig],tweetPermalink:c.permalink,unmentionedUserIds:c.unmentioned_user_ids,userMentionsEntities:null==(t=c.entities)?void 0:t.user_mentions})}_renderReaderModeButton(){const{readerModeAvailable:e,tweet:t}=this.props;return e?r.a.createElement(c.a,{style:Rn.actionBarWithInlineReply},r.a.createElement(ie.a,{focalTweet:t,isExpanded:!0,readerModeAvailable:!!e})):null}_renderTweetActions({actionSize:e,displayStyle:t,nativeID:n,style:i,withAnalyticsAction:o,withCount:a}){const{allowDownvote:s,bookmarkFolderId:l,contextTweet:c,contextualClientEventInfo:d,enableKeyboardShortcuts:h,forwardPivotInfo:u,nudges:p,onLikeSuccess:m,onReplyPress:_,promotedContent:w,socialContext:b,tweet:g,withActionsDisabled:C,withRemoveFromBookmarks:v}=this.props;return this.props.withActions?r.a.createElement($e.a,{actionSize:e,allowDownvote:s,bookmarkFolderId:l,contextualClientEventInfo:d,displayStyle:t,enableKeyboardShortcuts:h,forwardPivotInfo:g.softIntervention||u,likeActionIconContainerRef:this._iconContainerRef,nativeID:n,nudges:p,onLikeSuccess:m,onReplyPress:_,promotedContent:w,socialContext:b,style:i,tweet:c||g,withActionsDisabled:C,withAnalyticsAction:o,withCount:a,withRemoveFromBookmarks:v}):null}_renderAvatar(e){const{onAvatarClick:t,onScreenNameClick:n,promotedContent:i,tweet:o,withAvatarLink:a,withUserAvatar:s,withUserHoverCard:l,withUserPresence:c}=this.props,d=zt.a.getOriginalTweet(o),{user:h}=d,u=zt.a.getOriginalTweet(o).user.id_str;return s?r.a.createElement(jt,{avatarRef:this._defaultInlinePromptRef,nativeID:e,onClick:t,onHoverCardScreenNameClick:n,promotedContent:i,screenName:h.screen_name,uri:h.profile_image_url_https,userId:u,withHoverCard:l&&!h.blocking,withLink:a,withNftAvatar:h.has_nft_avatar,withUserPresence:c}):null}_renderTombstoneHWTweet({actionLink:e,actionText:t,children:n,nativeID:i,style:o}){const{conversationTreeMetadata:a,onClick:s}=this.props;return r.a.createElement(c.a,{nativeID:i,style:o},r.a.createElement(Y.a,{actionLink:e,actionText:t,conversationTreeMetadata:a,inline:!0,onClick:s},n))}_renderTombstone(e,t){const{conversationTreeMetadata:n,isFocal:i,onClick:o,tweet:a}=this.props,l=zt.a.getOriginalTweet(a),{richText:d}=t;return l&&t&&d?r.a.createElement(c.a,{nativeID:e,style:Rn.spacingVertical},r.a.createElement(Y.a,{actionLink:i?void 0:l.permalink,actionText:i?void 0:xn,conversationTreeMetadata:n,inline:!0,onClick:i?void 0:o},r.a.createElement(s.a,{entities:d.entities,rtl:d.rtl,text:d.text}))):null}_hasPhoto(){const{tweet:e}=this.props,t=zt.a.getOriginalTweet(e),n=t.extended_entities&&t.extended_entities.media;return!!(n&&n.length>0)&&n.some((e=>"photo"===e.type))}_quoteTweetHasPhoto(){const{tweet:e}=this.props,t=zt.a.getOriginalTweet(e);return!!(t.quoted_status&&t.quoted_status.entities&&t.quoted_status.entities.media&&t.quoted_status.entities.media.length>0&&t.quoted_status.entities.media.some((e=>"photo"===e.type)))}_renderRichContent({nativeID:e,withRoundMediaCorners:t}){const{featureSwitches:n}=this.context;let{withActionsDisabled:i}=this.props;const{enableKeyboardShortcuts:o,forwardPivotInfo:a,inlineCalloutInfo:s,innerForwardPivotInfo:l,isFocal:c,linkableQuotedTweet:d,onCardLinkClick:h,onMediaClick:u,onQuoteTweetClick:p,preventVideoPlayback:m,promotedContent:_,quoteTweetSocialContextProps:w,quotedTweetTombstoneInfo:b,tweet:g,withAltTextBadge:C,withCardLinks:v,withInlineMedia:f,withUserHoverCard:T}=this.props,y=c?"DETAIL":"TIMELINE",k=(this._hasPhoto()||this._quoteTweetHasPhoto())&&!!Wt.b.isDesktopOS()&&!c,I=this.context.featureSwitches.isTrue("responsive_web_reactions_enabled"),E=zt.a.getOriginalTweet(g);return i=i||Object(Xe.b)(n,E,Xe.a.VoteOnPoll),r.a.createElement(r.a.Fragment,null,r.a.createElement(an.a,{cardCacheLocationKey:y,displayMediaMetadata:c,enableKeyboardShortcuts:o,forwardPivotInfo:g.softIntervention||a,inlineCalloutInfo:s,innerForwardPivotInfo:l,isMediaMaxHeightEnabled:k,loggedInUserId:this.context.loggedInUserId,mediaAltTranslations:this.state.mediaAltTranslations,mediaCacheLocationKey:y,nativeID:e,onCardLinkClick:h,onMediaClick:u,onQuoteTweetClick:p,preventVideoPlayback:m,promotedContent:_,quoteTweetSingleImageMinAspectRatio:In,quoteTweetSocialContextProps:w,quotedTweetTombstoneInfo:b,renderQuoteTweetTombstone:e=>r.a.createElement(ne,e),singleImageMaxAspectRatio:kn,singleImageMinAspectRatio:c?.1:In,style:Rn.richContent,tweet:g,withActionsDisabled:i,withAltTextBadge:C,withCardLinks:v,withCenterCrop:!0,withCondensedQuoteTweet:!c&&zt.a.hasMedia(E,!f),withMediaTagsIcon:c,withQuoteTweetHeaderLinks:!S.canUseDOM,withQuoteTweetLink:d,withQuoteTweetMedia:f,withReactions:I,withRoundMediaCorners:t,withTweetMedia:f,withUserHoverCard:T}),this._renderBirdwatchPivot())}}Mn.contextType=w.a,Mn.displayName="Tweet",Mn.defaultProps={displayBlocked:!1,isFocal:!1,linkify:!0,onBirdwatchNotesIconClick:H.a,onModeratedIconClick:H.a,onModeratedIconShown:H.a,replyContext:on.a.ReplyContextTypes.Isolated,withActions:!1,withAltTextBadge:!0,withAvatarLink:!0,withBirdwatchPivots:!0,withCardLinks:!1,withInlineMedia:!0,withQuotedTweetLinks:!1,withRemoveFromBookmarks:!1,withSocialContext:!1,withTimestampLink:!0,withUserHoverCard:!0,withUserAvatar:!0,withUserName:!0,withTimestamp:!0};const Rn=_.a.create((e=>({replyContextBig:{marginTop:e.spaces.space12,marginBottom:0},replyContext:{marginBottom:e.spaces.space2},selfThreadCTA:{marginHorizontal:`calc(-1 * ${e.componentDimensions.gutterHorizontal})`},innerRow:{alignItems:"baseline",flexDirection:"row",flexShrink:1},actionBar:{marginTop:e.spaces.space12},actionBarFocalTweet:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small,height:e.spaces.space48},actionsBarNarrow:{minWidth:250,marginRight:"auto"},actionBarWithInlineReply:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},promoteButton:{marginTop:e.spaces.space12},tweetAnalyticsPromoteButton:{marginVertical:e.spaces.space8},promotedIndicator:{marginTop:e.spaces.space12},promotedIndicatorBelowHeader:{marginBottom:e.spaces.space8},promotedIndicatorBelowHeaderWithInteractiveHighlights:{marginBottom:e.spaces.space4},promotedDetails:{marginTop:e.spaces.space4},promotionStatus:{marginTop:e.spaces.space12},promotedUserCard:{marginTop:e.spaces.space8},richContent:{marginTop:e.spaces.space12},socialContext:{marginBottom:e.spaces.space4,marginTop:`-${e.spaces.space4}`},spacingVertical:{marginVertical:e.spaces.space4},detailItem:{paddingHorizontal:e.spaces.space4},detailItemContainer:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small,flexDirection:"row",paddingVertical:e.spaces.space16},staleEditCalloutLink:{color:e.colors.blue500},staleTweetCallout:{marginRight:"0.5em"},followTopicButton:{justifyContent:"center"},expandedTweetText:{marginTop:e.spaces.space12},footerContainer:{marginVertical:e.spaces.space16},footerContent:{alignItems:"center",flexDirection:"row",justifyContent:"space-between"},footerIcons:{flexDirection:"row"},interactiveHighlightSpacer:{marginTop:e.spaces.space8},edgeToEdgeTextSpacer:{marginTop:e.spaces.space4},readerBottomBar:{borderBottomColor:e.colors.nestedBorderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,marginTop:e.spaces.space20,width:e.spaces.space32},timeLocSource:{marginRight:e.spaces.space12},topicFollowPrompt:{marginBottom:e.spaces.space12,marginTop:`-${e.spaces.space8}`}})));t.b=$(Mn)},JUsM:function(e,t,n){"use strict";n("kYxP");var i=n("ERkP"),o=n.n(i),a=n("t62R"),r=n("rHpw"),s=n("shC7"),l=n("MWbm");const c=r.a.create((e=>({root:{flexDirection:"row",backgroundColor:e.colors.navigationBackground,borderStyle:"solid",borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.large,borderColor:e.colors.gray50,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,justifyContent:"space-between"},containerDown:{marginTop:e.spaces.space12},containerUp:{marginTop:e.spaces.space20},text:{flexShrink:1,alignSelf:"center",alignItems:"flex-start"},actionsContainer:{flexDirection:"row",alignItems:"center",marginLeft:e.spaces.space12},arrowContainer:{position:"absolute",display:"flex",width:"100%",alignItems:"center"},arrowDirectionUp:{top:`calc(-${e.spaces.space8} + ${e.spaces.space1})`},arrowDirectionDown:{bottom:`calc(-${e.spaces.space8} + ${e.spaces.space1})`},arrow:{borderStyle:"solid",borderTopWidth:0,borderRightWidth:e.spaces.space1,borderBottomWidth:e.spaces.space1,borderLeftWidth:0,borderColor:e.colors.gray50,width:e.spaces.space12,height:e.spaces.space12,backgroundColor:e.colors.navigationBackground}})));t.a=({containerRef:e,primaryAction:t,secondaryAction:n,text:i})=>{const[r,d]=o.a.useState(void 0),h=s.a.getConstants().isRTL,u=o.a.useRef(0),p=o.a.useRef(0),m=(()=>{if(null!=e&&e.current&&r){const{left:t,top:n,width:i}=e.current.getBoundingClientRect();u.current=n;const o=t+i/2-r;return{left:h?void 0:o,right:h?o:void 0}}})(),_=p.current<u.current,w=_?[c.arrowDirectionDown]:[c.arrowDirectionUp],b=_?h?{transform:"rotate(-45deg)"}:{transform:"rotate(45deg)"}:h?{transform:"rotate(135deg)"}:{transform:"rotate(-135deg)"},g=_?[c.containerDown]:[c.containerUp];return o.a.createElement(l.a,{accessibilityRole:"text",onLayout:e=>{const{nativeEvent:{layout:{left:t,top:n,width:i}}}=e;p.current=n;d(t+i/2)},style:[c.root,g]},null!=e&&e.current?o.a.createElement(l.a,{style:[w,c.arrowContainer,m]},o.a.createElement(l.a,{style:[c.arrow,b]})):null,o.a.createElement(a.b,{style:c.text},i),o.a.createElement(l.a,{style:c.actionsContainer},t,n))}},LWCC:function(e,t,n){"use strict";n("kYxP");var i=n("ERkP"),o=n.n(i),a=n("Zejx"),r=n("rxPX"),s=n("0KEI");var l=Object(r.a)().propsFromActions((()=>({createLocalApiErrorHandler:Object(s.createLocalApiErrorHandlerWithContextFactory)("FOLLOW_TOPIC_BUTTON"),follow:a.a.follow,unfollow:a.a.unfollow}))).withAnalytics(),c=n("CGyZ"),d=n("PbbS"),h=n("3XMw"),u=n.n(h),p=n("sUoZ"),m=n("Tp1h"),_=n("Jkc4"),w=n("TnY3");const b=Object.freeze({follow:u.a.i79ab12a,following:u.a.d960b55c,unfollow:u.a.c0f56044}),g=Object.freeze({follow:u.a.fcf51fe6,following:u.a.e9a90d72,unfollow:u.a.bf403716,confirmationHeadline:u.a.c9f08e29,confirmationSheetText:u.a.abc600f4}),C=Object.freeze({follow:u.a.cd876e02,following:u.a.f2816e02,unfollow:u.a.f5b04fbc,confirmationHeadline:u.a.c481ae3f,confirmationSheetText:u.a.aa3ba124}),v=Object.freeze({follow:u.a.e0e730b0,following:u.a.e0e730b0,unfollow:u.a.b1850062,confirmationHeadline:u.a.gd3f996f,confirmationSheetText:u.a.i36c403c});class f extends o.a.Component{constructor(...e){super(...e),this._getDisplayMode=e=>void 0===this._getFollowButtonIcon(e)?"only-text":"icon-text",this._getFollowButtonIcon=e=>{switch(e){case d.a.Favorite:case d.a.Star:case d.a.Interested:return o.a.createElement(p.a,null);case d.a.FollowTopic:case d.a.Default:default:return}},this._getFollowingButtonIcon=e=>"icon-text"===this._getDisplayMode(e)?o.a.createElement(o.a.Fragment,null):void 0,this._getButtonText=e=>{const{topic:t}=this.props;switch(e){case d.a.FollowTopic:return{follow:b.follow,unfollow:b.unfollow,following:b.following};case d.a.Favorite:return{follow:C.follow,unfollow:C.unfollow,following:C.following,confirmationHeadline:C.confirmationHeadline&&C.confirmationHeadline({title:t.name}),confirmationSheetText:C.confirmationSheetText};case d.a.Star:return{follow:g.follow,unfollow:g.unfollow,following:g.following,confirmationHeadline:g.confirmationHeadline&&g.confirmationHeadline({title:t.name}),confirmationSheetText:g.confirmationSheetText};case d.a.Interested:return{follow:v.follow,unfollow:v.unfollow,following:v.following,confirmationHeadline:v.confirmationHeadline&&v.confirmationHeadline({title:t.name}),confirmationSheetText:v.confirmationSheetText};case d.a.Default:default:return}},this._handleOnFollow=()=>{const{createLocalApiErrorHandler:e,educateOnFollow:t,follow:n,history:i,topic:o}=this.props;n(o.id).catch(e()),this._handleScribe("follow"),t&&o&&i.push({pathname:"/i/topics/education",state:{topicName:o.name}})},this._handleOnUnfollow=()=>{const{createLocalApiErrorHandler:e,topic:t,unfollow:n}=this.props;n(t.id).catch(e()),this._handleScribe("unfollow")}}render(){const{ariaDescribedBy:e,isTransparent:t,nativeID:n,showRelationshipChangeConfirmation:i,size:a,style:r,textMode:s,topic:{following:l,name:d}}=this.props;return o.a.createElement(_.a,{customText:d,displayMode:m.a.topic},(h=>o.a.createElement(c.a,{accessibilityDescribedBy:e,buttonIcons:{followIcon:this._getFollowButtonIcon(s),followingIcon:this._getFollowingButtonIcon(s)},buttonText:this._getButtonText(s),displayMode:this._getDisplayMode(s),isFollowing:l,isTransparent:t,name:d,nativeID:n,onFollow:h(this._handleOnFollow),onUnfollow:h(this._handleOnUnfollow),showRelationshipChangeConfirmation:i,size:a,style:r,type:"topic",withConfirmationSheetText:l})))}_handleScribe(e){const{analytics:t}=this.props;t.scribe({element:"topic",action:e})}}f.defaultProps={size:"small",textMode:d.a.Default};t.a=Object(w.a)(l(f))},"NO+D":function(e,t,n){"use strict";n.r(t);var i=n("ezF+"),o=(n("kYxP"),n("ERkP")),a=n.n(o),r=n("rxPX"),s=Object(r.a)().propsFromActions((({module:e})=>({applyFeedbackAction:e.applyFeedbackAction}))),l=n("rcen"),c=n("xM7j"),d=n("xZXe"),h=n("P1oR"),u=n("kY28");const p=e=>{const{alignment:t,entities:n,rtl:i,text:o}=e;return a.a.createElement(l.a,{alignment:t,entities:n,rtl:i,text:o})},m=({applyFeedbackAction:e,entry:t,isFocalTweet:n,isReaderMode:i,tweetDismissFeedbackKey:o,withHideReply:r})=>{const{content:{tombstoneInfo:{revealText:s,richRevealText:l,richText:m,text:_}={},tweet:{forwardPivot:w,id:b,innerForwardPivot:g,innerTombstoneInfo:C,nudges:v}={}},conversationPosition:f,conversationTreeMetadata:T,referringContext:{contextTweetId:y,socialContext:k}={}}=t,I=l?p(l):s,E=m?p(m):_,[x,S]=a.a.useState(!0);a.a.useEffect((()=>{S(!0)}),[b]);const A=a.a.useCallback((()=>{S(!1)}),[]),P=a.a.useCallback((()=>{o&&e({entry:t,feedbackKeys:[o]})}),[e,t,o]);return x||!b?a.a.createElement(c.a,{actionText:I,children:E,conversationPosition:f,conversationTreeMetadata:T,onClick:A}):b?n&&!i?a.a.createElement(h.b,{contextTweetId:y,forwardPivotInfo:w,innerForwardPivotInfo:g,nudges:v,onTweetDismiss:P,quotedTweetTombstoneInfo:C,socialContext:k,tweetId:b,withHideReply:r}):a.a.createElement(d.b,{conversationPosition:f,conversationTreeMetadata:T,displayBlocked:!0,displayPromotedContent:!0,forwardPivotInfo:w,innerForwardPivotInfo:g,isReaderMode:i,nudges:v,onTweetDismiss:P,quotedTweetTombstoneInfo:C,replyContext:i?u.a.ReplyContextTypes.None:void 0,shouldSelfThreadIncludeAvatar:!0,tweetId:b,withActions:!0,withHideReply:r,withInlineMedia:!0,withSocialContext:!0}):null};var _=s(a.a.memo(m));t.default=e=>i.b({component:_,shouldDisplayBorder:e=>{const{conversationPosition:t,treeDisplay:n}=e;return"VerticalConversation"!==(null==n?void 0:n.displayType)&&(!t||!!t.isEnd)}}).getHandler((()=>({...e})))},OKMS:function(e,t,n){"use strict";var i=n("ERkP"),o=n.n(i),a=n("Lsrn"),r=n("k/Ka");const s=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[a.a.root,e.style],viewBox:"0 0 24 24"},o.a.createElement("g",null,o.a.createElement("path",{d:"M17.296 2.642c-2.068-1.17-4.464-1.62-6.816-1.283C8.13 1.692 5.956 2.8 4.3 4.5c-1.658 1.707-2.704 3.91-2.976 6.27-.27 2.357.245 4.738 1.468 6.77.005.01.008.02.01.03 0 .01-.002.017-.004.025L1.12 21.2c-.11.232-.145.49-.103.742.043.254.162.488.343.67.18.184.412.307.665.353.253.047.514.014.747-.094l3.63-1.67h.01l.01.01.01.005c1.68 1.01 3.606 1.542 5.567 1.537 2.373 0 4.68-.783 6.562-2.232 1.882-1.45 3.23-3.482 3.836-5.778.604-2.298.432-4.73-.49-6.92-.925-2.188-2.548-4.01-4.614-5.178zM12 7.25c-2.623 0-4.75 2.127-4.75 4.75s2.127 4.75 4.75 4.75 4.75-2.127 4.75-4.75S14.623 7.25 12 7.25zM5.75 12c0-3.452 2.798-6.25 6.25-6.25s6.25 2.798 6.25 6.25-2.798 6.25-6.25 6.25S5.75 15.452 5.75 12zm5.5-2.5c0-.414.336-.75.75-.75 1.794 0 3.25 1.455 3.25 3.25 0 .413-.337.75-.75.75-.415 0-.75-.337-.75-.75 0-.967-.784-1.75-1.75-1.75-.414 0-.75-.336-.75-.75z"})));s.metadata={width:24,height:24},t.a=s},OOKO:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("ERkP"),o=n.n(i),a=n("rHpw"),r=n("MWbm");function s({spacing:e}){return o.a.createElement(r.a,{accessibilityRole:"separator",style:[l.divider,{marginVertical:null!=e?a.a.theme.spaces[e]:void 0}]})}const l=a.a.create((e=>({divider:{backgroundColor:e.colors.borderColor,height:e.borderWidths.small}})))},Olb6:function(e,t,n){"use strict";var i=n("ERkP"),o=n.n(i),a=n("3XMw"),r=n.n(a),s=n("5cUs"),l=n("wwsH");const c=r.a.d9fd5570,d={viewType:"hidden_replies"};t.a=({link:e,onPress:t})=>o.a.createElement(l.a,{Icon:s.a,accessibilityLabel:c,activeColor:"primary",behavioralEventContext:d,link:e,onPress:t})},P1oR:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ne}));var i=n("97Jx"),o=n.n(i),a=(n("kYxP"),n("Cm4o"),n("KrtT"),n("ERkP")),r=n.n(a),s=n("TZwD"),l=n("6rlp"),c=n("RqPI"),d=n("1YZw"),h=n("eSoz"),u=n("0pUJ"),p=n("SrIh"),m=n("Fmkq"),_=n("j7tW"),w=n("Zejx"),b=n("XOJV"),g=n("G6rE"),C=n("xZGM"),v=n("Ig1G"),f=n("jL08"),T=n("rxPX"),y=n("0KEI"),k=n("EGrD"),I=n("x5Pi"),E=n("Z6aJ"),x=n("P1r1");const S=(e,t)=>Object(_.b)(e,t.tweetId),A=(e,t)=>t.tweetId,P=(e,t)=>t.contextTweetId,L=(e,t)=>{const{promotedContent:n,tweetId:i}=t;if(n&&n.advertiser)return g.e.select(e,n.advertiser.id_str);if(n&&E.a.isPromoted(n)){const{advertiser_name:e}=n;Object(p.a)("No advertiser info for non-URT promoted tweet",{extra:{advertiser_name:e,tweetId:i}})}},O=(e,t)=>t.socialContext,D=(e,{socialContext:t})=>{const n=t&&t.topicContext;return n?w.a.select(e,n.topicId):void 0},M=(e,t)=>{const n=b.a.createHydratedTweetSelector(A)(e,t);return null!=n&&n.community_id_str?h.c.select(e,null==n?void 0:n.community_id_str):void 0},R=(e,t)=>{const n=b.a.createHydratedTweetSelector(A)(e,t),i=null==n?void 0:n.quoted_status,o=null==i?void 0:i.community_id_str;return o?h.c.select(e,o):void 0},U=(e,t)=>"PUSH"===t.history.action,F=(e,t)=>Object(C.E)(e,C.l),B=(e,t)=>Object(C.C)(e,C.l);var N=Object(T.a)().propsFromState((()=>({adFreeArticleDomains:k.c,articleDomains:f.b,community:M,contextTweet:b.a.createHydratedTweetSelector(P),daysSinceDownvoteEducation:B,displaySensitiveMedia:x.k,explicitSocialContext:O,isForwardNavigation:U,isNsfwUser:x.t,isPinned:S,loggedInUser:g.e.selectLoggedInUser,promotedContentAdvertiser:L,quoteTweetCommunity:R,shouldShowDownvoteFullscreenEducation:F,topic:D,tweet:b.a.createHydratedTweetSelector(A),userCountry:c.A,userLanguage:c.q}))).adjustStateProps((({adFreeArticleDomains:e,articleDomains:t,community:n,contextTweet:i,daysSinceDownvoteEducation:o,displaySensitiveMedia:a,explicitSocialContext:r,isForwardNavigation:s,isNsfwUser:l,isPinned:c,loggedInUser:d,promotedContentAdvertiser:h,quoteTweetCommunity:u,shouldShowDownvoteFullscreenEducation:p,topic:m,tweet:_,userCountry:w,userLanguage:b})=>{var g,C,T;const y=i?Object(I.f)(i,null==d?void 0:d.id_str,n):_?Object(I.f)(_,null==d?void 0:d.id_str,n):void 0,k=null==_||null==(g=_.card)||null==(C=g.binding_values)||null==(T=C.domain)?void 0:T.string_value,E=Object(f.a)(t,k),x=null==_?void 0:_.quoted_status,S=x?Object(I.f)(x,null==d?void 0:d.id_str,u):void 0,A=S&&Object(I.e)(S),P=Object(v.g)(null==n?void 0:n.role),L=r||y;return{adFreeArticleDomains:e,community:n,contextTweet:i,daysSinceDownvoteEducation:o,displaySensitiveMedia:a,isCardArticle:E,isForwardNavigation:s,isNsfwUser:l,isPinned:c,loggedInUser:d,promotedContentAdvertiser:h,quoteTweetSocialContextProps:A,shouldShowDownvoteFullscreenEducation:p,socialContext:L,socialContextColor:Object(v.j)(n,L),topic:m,tweet:_,userCountry:w,userLanguage:b,withCommunityModerationAuthority:P}})).propsFromActions((()=>({addFlag:C.A,addToast:d.b,block:g.e.block,createLocalApiErrorHandler:Object(y.createLocalApiErrorHandlerWithContextFactory)("TWEET_DETAIL_CONTAINER"),fetchAdFreeToken:k.a,fetchCommunityIfNeeded:h.c.fetchOneIfNeeded,fetchTopicIfNeeded:w.a.fetchOneIfNeeded,loadAdFreeArticleDomainsFromPersistence:k.b,log:l.a,mute:u.a,updateHeadsUp:b.a.updateHeadsUp,updateLongformNotesLearnMoreBanner:b.a.updateLongformNotesLearnMoreBanner,richScribeAction:m.richScribeAction,setArticlesVisited:f.e,unblock:g.e.unblock,undoTopicNotInterested:w.a.undoNotInterested,unmute:g.e.unmute}))),H=n("zb92");var j=Object(H.a)({loader:()=>n.e(260).then(n.bind(null,"5Yok"))}),W=n("IqLm"),z=n("Irs7"),V=n("MWbm"),q=n("3XMw"),K=n.n(q),G=n("4zmP"),$=n("rHpw");const Q=K.a.c9370e46,X=K.a.b4e042ba,J=K.a.i859a9d4,Z=$.a.create((e=>({root:{borderTopWidth:e.borderWidths.small,borderColor:e.colors.borderColor,borderStyle:"solid"},callout:{margin:e.spaces.space8,width:"auto"}})));var Y=e=>{const{onAction:t,onClose:n}=e,i=Object(z.b)();r.a.useEffect((()=>{i.scribe({section:"reply_voting_nux",element:"pre_downvote",action:"impression"})}),[i]);const o=r.a.createElement(K.a.I18NFormatMessage,{$i18n:"id9ba4fb"},r.a.createElement(W.a,{accessibilityLabel:X}));return r.a.createElement(V.a,{style:Z.root},r.a.createElement(G.a,{action:{label:J,link:""},headline:Q,onAction:t,onClose:n,style:Z.callout,text:o,withCloseButton:!0}))},ee=n("6bZg"),te=n("sCEu"),ne=n("RuTB");var ie=Object(H.a)({loader:()=>Promise.all([n.e(0),n.e(6),n.e(60),n.e(181)]).then(n.bind(null,"x8Sc")),renderPlaceholder:(e,t)=>r.a.createElement(ne.a,{hasError:e,onRetry:t})});var oe=Object(H.a)({loader:()=>Promise.all([n.e(0),n.e(2),n.e(3),n.e(4),n.e(187)]).then(n.bind(null,"RrO2")),renderPlaceholder:(e,t)=>r.a.createElement(ne.a,{hasError:e,onRetry:t})}),ae=n("iFPY"),re=n("hACr"),se=n("Nh1N"),le=n("FGLp");const ce=K.a.de21174c,de=K.a.haebcf52,he=K.a.i859a9d4,ue=$.a.create((e=>({callout:{marginVertical:e.spaces.space8,marginHorizontal:e.spaces.space16}})));var pe=()=>{const e=Object(z.b)();return Object(le.a)((()=>{e.scribe({element:"left_conversation_banner",action:"impression"})})),r.a.createElement(V.a,{style:ue.callout},r.a.createElement(G.a,{Icon:se.a,action:{label:he,link:"https://help.twitter.com/using-twitter/mentions-and-replies#mention-control"},headline:ce,text:de,type:"primary"}))},me=n("jQy5"),_e=n("vMOa"),we=n("Rp9C"),be=n("xM7j"),ge=n("BLtI"),Ce=n("3zeG"),ve=n("aITJ"),fe=n("TnY3"),Te=n("mqpi"),ye=n("v6aA"),ke=n("E0cF"),Ie=n("OIC0"),Ee=n("+pKb"),xe=n("/Ikv"),Se=n("7JQg"),Ae=n("cFuS"),Pe=n("24HD"),Le=n("fz3c"),Oe=n("4hQ9"),De=n("zTrU"),Me=n("mN6z"),Re=n("ONCy"),Ue=n("Cqiq");const Fe=K.a.f277e94a;class Be extends r.a.Component{constructor(...e){var t,n;super(...e),this.state={displayReported:!1,enableKeyboardShortcuts:!1,showDownvoteFullscreenFromInline:!1,replyPressToggle:!1,showBlockOrUnblockConfirmation:!1},this._shouldDisable=Te.b.bind(null,this.context.featureSwitches),this._downvoteEnabled=this.context.featureSwitches.isTrue("rweb_reply_downvote_enabled"),this._isArticleNudgeEnabled=this.context.featureSwitches.isTrue("responsive_web_article_nudge_enabled"),this._isCommunitiesEnabled=this.context.featureSwitches.isTrue("c9s_enabled"),this._hasClaimsForAdFreeArticles=null==(t=this.context.userClaims)?void 0:t.isTrueAndEnabled("subscriptions_feature_1006"),this._conversationHeadsUpFSValue=null==(n=this.context.featureSwitches)?void 0:n.getStringValue("conversational_safety_heads_up_treatment_A_enabled"),this._downvoteNuxDays=this.context.featureSwitches.getNumberValue("rweb_reply_downvote_nux_inline_days"),this._twitterArticleLearnMoreBannerEnabled=this.context.featureSwitches.isTrue("responsive_web_twitter_article_view_enabled"),this._getScribeData=Object(De.a)(((e,t,n)=>{const i=function(e,t,n){return{...n||{},items:we.a.addTweetToItems(n?n.items:[],e,t)}}(e,t,n);return this._cachedScribeData&&Object(Me.a)(i,this._cachedScribeData)||(this._cachedScribeData=i),this._cachedScribeData})),this._renderConversationControlsTooltip=()=>{const{loggedInUserId:e}=this.context,{tweet:t}=this.props;if(!t)return!1;const n=ke.a.getOriginalTweet(t),i=!!n.community_id_str,o=n.user.id_str===e,a=n.reply_count>0;return o&&a&&!n.in_reply_to_status_id_str&&!i},this._renderBlockOrUnblockConfirmationSheet=()=>{const{tweet:e}=this.props;if(!e)return null;const{user:t}=e;return Object(Pe.j)({confirmation:Object(Pe.h)(t),onClose:this._handleBlockOrUnblockConfirmClose,handleConfirm:this._handleBlockOrUnblockUserConfirm})},this._shouldShowDownvoteInlineEducation=()=>{const{daysSinceDownvoteEducation:e}=this.props;return this._allowDownvoteEducations()&&null!==e&&e>=this._downvoteNuxDays},this._shouldShowDownvoteFullscreenEducation=()=>{const{isForwardNavigation:e,shouldShowDownvoteFullscreenEducation:t}=this.props;return e&&this._allowDownvoteEducations()&&t},this._allowDownvoteEducations=()=>{const{loggedInUser:e,tweet:t}=this.props,n=new Date;n.setDate(n.getDate()-14);const i=e&&new Date(null==e?void 0:e.created_at)<n;return this._downvoteEnabled&&e&&i&&t&&t.reply_count>=10&&!t.self_thread&&!t.softIntervention&&!t.tombstoneInfo},this._getInlineCalloutInfo=()=>{const{displaySensitiveMedia:e,isNsfwUser:t,scribeNamespace:n,tweet:i,userCountry:o,userLanguage:a}=this.props,{featureSwitches:r,loggedInUserId:s}=this.context;if(i&&Object(Oe.e)({displaySensitiveMedia:e,featureSwitches:r,isNsfwUser:t,loggedInUserId:s,tweet:i,userCountry:o,userLanguage:a}))return Object(Oe.d)(i,n,r)},this._handleReplyPress=()=>{this.setState({replyPressToggle:!this.state.replyPressToggle})},this._handleModeratedIconClick=()=>this._scribeAction({element:"moderated_replies_icon",action:"click"}),this._handleModeratedIconShown=()=>this._scribeAction({element:"moderated_replies_icon",action:"impression"}),this._handleBirdwatchNotesIconClick=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"click"}),this._handleBirdwatchNotesIconShown=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"impression"}),this._handleFocus=()=>{this.setState({enableKeyboardShortcuts:!0})},this._handleBlur=()=>{this.setState({enableKeyboardShortcuts:!1})},this._handleShowReportedTweet=()=>{this.setState({displayReported:!0})},this._getShortcutKeyHandlers=()=>{const{onClick:e,shortcutKey:t}=this._getMuteOrUnmuteAction(),{shortcutKey:n}=this._getBlockOrUnblockAction(),{loggedInUserId:i}=this.context,{tweet:o}=this.props;if(!o)return{};const a=o.user.id_str===i;return{...t&&{[t]:e},...n&&!a&&{[n]:this._handleBlockOrUnblockConfirmOpen}}},this._handleBlockOrUnblockConfirmOpen=()=>{this.setState({showBlockOrUnblockConfirmation:!0})},this._handleBlockOrUnblockConfirmClose=()=>{this.setState({showBlockOrUnblockConfirmation:!1})},this._handleBlockOrUnblockUserConfirm=()=>{const{onClick:e}=this._getBlockOrUnblockAction();this._handleBlockOrUnblockConfirmClose(),e&&e()},this._getBlockOrUnblockAction=()=>{const{addToast:e,block:t,contextualBehavioralEventInfo:n,createLocalApiErrorHandler:i,promotedContent:o,tweet:a,unblock:r}=this.props;if(!a)return{};const{user:l}=a,c={addToast:e,behavioralEventEntityToken:null==n?void 0:n.entityToken,createLocalApiErrorHandler:i,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(s.a)({...c,block:t,unblock:r,user:l,promotedContent:o})},this._getMuteOrUnmuteAction=()=>{const{addToast:e,contextualBehavioralEventInfo:t,createLocalApiErrorHandler:n,mute:i,promotedContent:o,tweet:a,unmute:r}=this.props;if(!a)return{};const{user:s}=a,l={addToast:e,behavioralEventEntityToken:null==t?void 0:t.entityToken,createLocalApiErrorHandler:n,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(me.a)({...l,mute:i,unmute:r,user:s,promotedContent:o})},this._getRenderCurationActionMenu=Object(De.a)(((e,t,n,i,o,a,s,l,c,d,h,u,p,m,_,w)=>()=>!!c&&r.a.createElement(Ce.a,{behavioralEventEntityToken:m,forwardPivotDisplayType:e,isNsfwUser:n,isPinned:i,onDeleteTweet:()=>{const{fromApp:e,usedFallback:n}=o.state||{};e&&!n?t.goBack():t.push("/")},onMenuClick:a,onTweetDismiss:s,promotedContent:l,tweet:c,userCountry:_,userLanguage:w,withChangeConversationControls:d,withChangeConversationControlsTooltip:h,withCommunityModerationAuthority:p,withHideReply:u,withMuteConversation:!0,withViewHiddenReplies:!0}))),this._scribeAction=(e,t,n,i)=>{const{promotedContent:o,richScribeAction:a,scribeNamespace:r,tweet:s}=this.props,l=s?we.a.forTweet(s,o):void 0,c=i?{...l,article_details:{is_ad_free:i}}:l;a({...r,...e},{items:c?[c]:[],...Object(Re.a)(n?{click_tracking_embed_details:n}:null),...t})},this._handleReplyContextClick=(e,t)=>{this._scribeAction({element:"reply_context",action:"click"},{event_value:t})},this._handlePromotedIndicatorClick=()=>{this._handleAsyncPromotedEvent(Ae.b.FOOTER_PROFILE)},this._handleMediaClick=()=>{this._scribeAction({element:"platform_photo_card",action:"click"}),this._handleAsyncPromotedEvent(Ae.b.EMBEDDED_MEDIA)},this._handleEntityClick=(e,t,n)=>{const{adFreeArticleDomains:i,createLocalApiErrorHandler:o,fetchAdFreeToken:a,tweet:r}=this.props,s=Ae.a[t],l=ee.a[t],c=we.a.getClickTrackingEmbedDetails(this.props.promotedContent,n);if(s){const t=s===Ae.b.URL_CLICK&&e.currentTarget instanceof window.HTMLElement?{url:e.currentTarget.href}:void 0;this._handleAsyncPromotedEvent(s,t)}t===Ie.a.URL&&c&&this._scribeAction({action:Ee.b.CLICK_ID_EMBED},void 0,c);let d=!1;if(this._hasClaimsForAdFreeArticles&&null!=n&&n.expandedUrl){const t=new URL(n.expandedUrl).hostname,[s,l]=new te.a(a,o()).getAdFreeArticlesClickHandler({destinationUrl:n.embeddedUrl,linkDomain:t,adFreeArticleDomains:i,tweetAuthorUserId:null==r?void 0:r.user.id_str});s&&(l(e),d=!0)}if(t===Ie.a.INTERACTIVE_HIGHLIGHT&&void 0!==(null==n?void 0:n.id))return this._scribeAction({element:"interactive_text",action:l},{interactive_text_details:{id:n.id}},void 0,d);l&&this._scribeAction({action:l},void 0,void 0,d)},this._handlePromotedDisclaimerLearnMoreClick=e=>()=>{this._scribeAction({component:e,element:"learn_more",action:"click"})},this._handlePoliticalSponsorWebsiteClick=()=>{this._scribeAction({component:"political_ad",element:"organization_website",action:"click"})},this._handleAnalyticsClick=()=>{this._scribeAction({element:"analytics",action:"click"})},this._handlePromoteButtonClick=()=>{this._scribeAction({element:"promote",action:"click"})},this._handlePromoteAgainButtonClick=()=>{this._scribeAction({element:"promote_again",action:"click"})},this._handleAvatarClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"avatar",action:"profile_click"},{profile_id:`${e?e.user.id:""}`}),this._handleAsyncPromotedEvent(Ae.b.PROFILE_IMAGE_CLICK)},this._handleScreenNameClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"user",action:"profile_click"},{profile_id:`${e?e.user.id:""}`}),this._handleAsyncPromotedEvent(Ae.b.SCREEN_NAME_CLICK)},this._handleCaretClick=()=>{this._scribeAction({element:"caret",action:"click"})},this._handleCommunityFetch=()=>{const{createLocalApiErrorHandler:e,fetchCommunityIfNeeded:t,tweet:n}=this.props;if(n&&this._isCommunitiesEnabled){var i;const o=n.community_id_str,a=null==(i=n.quoted_status)?void 0:i.community_id_str;o&&t(o).catch(e()),a&&t(a).catch(e())}},this._handleHeadsUpRender=()=>{const{conversationAnnotation:e,tweet:t,updateHeadsUp:n}=this.props;if(!t)return null;const i=ke.a.getOriginalTweet(t),o=(null==i?void 0:i.reply_count)>20;if(!("Political"===(null==e?void 0:e.conversation_annotation_type)&&o))return null;n(i.id_str)},this._handleLongformNotesLearnMoreRender=()=>{const{tweet:e,updateLongformNotesLearnMoreBanner:t}=this.props;if(e){const n=ke.a.getOriginalTweet(e),i=ke.a.hasLongformNoteUrl(n);this._twitterArticleLearnMoreBannerEnabled&&i&&t(n.id_str)}},this._handleTopicFetch=()=>{var e;const{createLocalApiErrorHandler:t,fetchTopicIfNeeded:n,socialContext:i}=this.props,o=null==i||null==(e=i.topicContext)?void 0:e.topicId;o&&n(o).catch(t())},this._handleUndoTopicNotInterested=()=>{const{createLocalApiErrorHandler:e,topic:t,undoTopicNotInterested:n}=this.props;this._scribeAction({element:"topic",action:"un_not_interested"}),t&&n(t.id).catch(e())},this._handleCardLinkClick=e=>{var t;const{adFreeArticleDomains:n,createLocalApiErrorHandler:i,fetchAdFreeToken:o,isCardArticle:a,setArticlesVisited:r,tweet:s}=this.props;if(this._isArticleNudgeEnabled&&a){var l;const e=null==s||null==(l=s.card)?void 0:l.url;var c;if(e)r(e),this._scribeAction({component:"article_nudge",element:"read_article",action:"click"},{items:[{token:null==s||null==(c=s.card)?void 0:c.url,in_reply_to_tweet_id:null==s?void 0:s.id_str}]})}const d=null==s||null==(t=s.card)?void 0:t.binding_values;if(this._hasClaimsForAdFreeArticles&&d){const[t,a]=new te.a(o,i()).getAdFreeArticlesClickHandler({destinationUrl:xe.a.getBindingValue(d,"card_url"),linkDomain:xe.a.getBindingValue(d,"domain"),adFreeArticleDomains:n});t&&a(e)}},this._handleMediaHashtagHighlightClick=()=>{this._handleAsyncPromotedEvent(Ae.b.HASHTAG_CLICK)}}componentDidMount(){this._handleTopicFetch(),this._handleCommunityFetch(),this._handleHeadsUpRender(),this._handleLongformNotesLearnMoreRender(),this._hasClaimsForAdFreeArticles&&this.props.loadAdFreeArticleDomainsFromPersistence()}componentDidUpdate(e){if(this.props.tweet&&e.tweet&&!e.tweet.user.blocking&&this.props.tweet.user.blocking){const{history:e}=this.props;e.goBack({backLocation:"/"})}this.props.conversationAnnotation!==e.conversationAnnotation&&this._handleHeadsUpRender()}componentWillUnmount(){const{addFlag:e}=this.props;this._shouldShowDownvoteInlineEducation()&&e(C.l,{updateTimestamp:!0})}render(){const{loggedInUserId:e}=this.context,{tweet:t}=this.props;if(!t)return null;const n=t.user.id_str===e,i=Object(Ue.b)(t.withheld_scope),o=Object(Le.h)(t)&&!this.state.displayReported;return r.a.createElement(r.a.Fragment,null,i?r.a.createElement(V.a,null,this._renderWithheldTweet(),n?this._renderTweetComponent():null):o?this._renderReportedTombstone():this._renderTweetComponent(),this._renderIntentPrompt(),this.state.showBlockOrUnblockConfirmation&&!n?this._renderBlockOrUnblockConfirmationSheet():null)}_renderIntentPrompt(){const{forwardPivotInfo:e,history:t,tweet:n}=this.props;if(n&&t.location.pathname.indexOf("/intent/")>-1)return r.a.createElement(ae.a,{forwardPivotInfo:e,history:t,location:t.location,tweetId:n.id_str})}_renderTweetComponent(){var e,t;const{allowDownvote:n,changeDropdownState:i,contextTweet:a,contextualBehavioralEventInfo:s,conversationAnnotation:l,forwardPivotInfo:c,hasModeratedReplies:d,history:h,innerForwardPivotInfo:u,isNsfwUser:p,isPinned:m,location:_,loggedInUser:w,nudges:b,onTweetDismiss:g,promotedContent:C,promotedContentAdvertiser:v,quoteTweetSocialContextProps:f,quotedTweetTombstoneInfo:T,readerModeAvailable:y,replyBadge:k,replyDropdownSelection:I,rootTweetAuthorId:E,scribeData:x,scribeNamespace:S,socialContext:A,socialContextColor:P,topic:L,topicFollowPrompt:O,tweet:D,userCountry:M,userLanguage:R,withActions:U,withCommunityModerationAuthority:F,withHideReply:B,withInlineMedia:N,withSocialContext:H}=this.props,{loggedInUserId:j}=this.context,W={allowDownvote:n,contextTweet:a,forwardPivotInfo:c,hasModeratedReplies:d,innerForwardPivotInfo:u,promotedContent:C,promotedContentAdvertiser:v,quotedTweetTombstoneInfo:T,quoteTweetSocialContextProps:f,readerModeAvailable:y,socialContext:A,socialContextColor:P,topic:L,topicFollowPrompt:O,tweet:D,replyBadge:k,rootTweetAuthorId:E,withActions:U,withInlineMedia:N,withSocialContext:H,nudges:b},{enableKeyboardShortcuts:z}=this.state;if(!D)return null;const V=Object(Me.a)(this._cachedScribeNamespace,S)?this._cachedScribeNamespace:this._cachedScribeNamespace=S,q=D&&D.card&&!D.is_quote_status?D.card.url:void 0,K=ke.a.getOriginalTweet(D),G=K.user.id_str===j,$=!K.in_reply_to_status_id_str&&G&&!K.community_id_str,Q=this._renderConversationControlsTooltip(),X=!!K.in_reply_to_status_id_str,J=(null==K?void 0:K.reply_count)>20,Z="Political"===(null==l?void 0:l.conversation_annotation_type)&&(null==(e=D.headsUp)?void 0:e.showBanner)&&!X&&J,Y=null==(t=K.longformNotesLearnMore)?void 0:t.showBanner,ee=this.context.featureSwitches.isTrue("responsive_web_deamplification_replies_dropdown_selector_enabled")&&D.reply_count>0;return r.a.createElement(Se.c,{data:this._getScribeData(D.retweeted_status||D,C,x),namespace:V},r.a.createElement(re.a,{enabled:!!z,handlers:this._getShortcutKeyHandlers()},this._renderLeftConversationBanner(),r.a.createElement(ge.b,o()({},W,{enableKeyboardShortcuts:z,excludeCardUrl:q,inlineCalloutInfo:this._getInlineCalloutInfo(),isFocal:!0,loggedInUser:w,onAnalyticsClick:this._handleAnalyticsClick,onAvatarClick:this._handleAvatarClick,onBirdwatchNotesIconClick:this._handleBirdwatchNotesIconClick,onBirdwatchNotesIconShown:this._handleBirdwatchNotesIconShown,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onEntityClick:this._handleEntityClick,onFocus:this._handleFocus,onMediaClick:this._handleMediaClick,onMediaHashtagHighlightClick:this._handleMediaHashtagHighlightClick,onModeratedIconClick:this._handleModeratedIconClick,onModeratedIconShown:this._handleModeratedIconShown,onPoliticalSponsorWebsiteClick:this._handlePoliticalSponsorWebsiteClick,onPromoteAgainButtonClick:this._handlePromoteAgainButtonClick,onPromoteButtonClick:this._handlePromoteButtonClick,onPromotedDisclaimerLearnMoreClick:this._handlePromotedDisclaimerLearnMoreClick,onPromotedIndicatorClick:this._handlePromotedIndicatorClick,onReplyContextClick:this._handleReplyContextClick,onReplyPress:this._handleReplyPress,onScreenNameClick:this._handleScreenNameClick,onUndoTopicNotInterestedClick:this._handleUndoTopicNotInterested,renderCurationActionMenu:this._getRenderCurationActionMenu(null==c?void 0:c.displayType,h,p,m,_,this._handleCaretClick,g,C,ke.a.getOriginalTweet(D),$,Q,B,F,null==s?void 0:s.entityToken,M,R),replyBadge:k,showConversationHeadsUp:Z,showLongformNotesLearnMoreBanner:Y,tweet:D})),ee?r.a.createElement(_e.a,{changeDropdownState:i,replyDropdownSelection:I}):null,this._renderInlineReply(),this._renderDownvoteEducation()))}_renderLeftConversationBanner(){var e;const{tweet:t}=this.props,{loggedInUserId:n}=this.context;return(null==t||null==(e=t.unmentioned_user_ids)?void 0:e.includes(n))?r.a.createElement(pe,null):null}_renderDownvoteEducation(){const{addFlag:e}=this.props,{showDownvoteFullscreenFromInline:t}=this.state;return r.a.createElement(r.a.Fragment,null,t||this._shouldShowDownvoteFullscreenEducation()?r.a.createElement(j,{onDismiss:()=>{t?this.setState({showDownvoteFullscreenFromInline:!1}):e(C.l)}}):null,this._shouldShowDownvoteInlineEducation()?r.a.createElement(Y,{onAction:()=>{this.setState({showDownvoteFullscreenFromInline:!0})},onClose:()=>{e(C.l,{updateTimestamp:!0})}}):null)}_renderInlineReply(){const{history:e,location:t,tweet:n,tweetId:i}=this.props,{replyPressToggle:o}=this.state,{loggedInUserId:a}=this.context;if(!n)return null;const s=a&&!this._shouldDisable(n,Te.a.Reply),l=ve.b.isMobileOS()?ie:oe;return s?r.a.createElement(l,{history:e,location:t,parentTweetId:i,replyPressToggle:o}):null}_renderWithheldTweet(){const{tweet:e}=this.props;return!!e&&r.a.createElement(Ue.a,{displayTextRange:e.display_text_range,entities:e.withheld_entities||e.entities,lang:e.lang,text:e.withheld_text||e.text})}_renderReportedTombstone(){const{tweet:e}=this.props;if(e){const t=ke.a.getOriginalTweet(e),n=Object(Le.c)(t.reportingVisibility);return r.a.createElement(be.a,{actionText:Fe,lang:e.lang,onClick:this._handleShowReportedTweet},n)}}_handleAsyncPromotedEvent(e,t){const{createLocalApiErrorHandler:n,log:i,promotedContent:o,tweet:a}=this.props;if(a&&o){const{disclosure_type:r,impression_id:s}=o;i({disclosureType:r,itemId:a.id_str,itemType:"tweet",params:{event:e,impression_id:s,...t}}).catch(n())}}}Be.contextType=ye.a;const Ne=Object(fe.a)(N(Be));t.b=Object(Se.a)({component:"tweet"})(Ne)},PbbS:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("ERkP");const i=Object.freeze({Default:"default",FollowTopic:"follow",Star:"star",Interested:"interested",Favorite:"favorite"})},Sksh:function(e,t,n){"use strict";n("849X");var i=n("SrIh"),o=n("M0jS"),a=n("+d3d"),r=n("VY6S");t.a=new class{constructor(){this.usersInApp={},this._throttledInitialFetch=Object(a.a)((()=>{this.store.dispatch(o.b.fetchManyIfNeeded(Object.keys(this.usersInApp)))}),1500)}init(e){this.store=e}registerUserInApp(e){Object.keys(this.usersInApp).length>50&&(this.usersInApp={},Object(i.a)(new Error("Registered users in app has exceeded 50"),{level:"warning"})),this.usersInApp[e]?this.usersInApp[e]=this.usersInApp[e]+1:(this.usersInApp[e]=1,Object(r.a)(this._throttledInitialFetch(),100))}deregisterUserInApp(e){this.usersInApp[e]&&this.usersInApp[e]>1?this.usersInApp[e]=this.usersInApp[e]-1:delete this.usersInApp[e]}}},YICZ:function(e,t,n){"use strict";var i=n("ERkP"),o=n.n(i),a=n("Zejx"),r=n("rxPX"),s=n("0KEI");var l=Object(r.a)().propsFromActions((()=>({createLocalApiErrorHandler:Object(s.createLocalApiErrorHandlerWithContextFactory)("TOPIC_NOT_INTERESTED_CONTEXT"),setNotInterested:a.a.notInterested}))),c=n("3XMw"),d=n.n(c),h=n("hOZg"),u=n("Jkc4"),p=n("Irs7"),m=n("/yvb"),_=n("rHpw");const w=d.a.d9b417c4,b=d.a.c29d6806,g=d.a.e839db3a,C=e=>{const{createLocalApiErrorHandler:t,nativeID:n,onPress:i,setNotInterested:a,size:r,style:s,text:l,topicId:c,type:d,withIconOnly:h}=e,_=Object(p.b)(),b=o.a.useCallback((e=>{e.preventDefault(),i?i(e):(_.scribe({element:"topic",action:"not_interested"}),a(c).catch(t()))}),[_,t,i,a,c]);return o.a.createElement(u.a,null,(e=>o.a.createElement(m.a,{accessibilityLabel:w,hoverLabel:{label:g},icon:h?f:void 0,nativeID:n,onPress:e(b),pullRight:h,size:r,style:s,type:d},h?null:l)))};C.defaultProps={size:"small",text:b,type:"brandText",withIconOnly:!0};const v=_.a.create((e=>({closeIcon:{color:e.colors.gray700}}))),f=o.a.createElement(h.a,{style:v.closeIcon}),T=l(C);t.a=T},aA1u:function(e,t,n){"use strict";n("kYxP");var i=n("ERkP"),o=n.n(i),a=n("t62R"),r=n("21zW"),s=n("rHpw"),l=n("3XMw"),c=n.n(l);class d extends o.a.Component{constructor(...e){super(...e),this._formatTimestamp=e=>{const t=c.a.jade381b,n=c.a.d725a289,i=new Date(e),o=t(i);return`${n(i)}  ${o}`}}render(){const{style:e}=this.props;return o.a.createElement(a.b,{color:"gray700",style:e},this._maybeRenderEditedTag(),this._renderTimestampAndMaybePlace(),this._maybeRenderSource())}_renderTimestampAndMaybePlace(){const{linkColor:e,onPlaceClick:t,onTimestampClick:n,place:i,placeLink:r,timestamp:s,timestampLink:l}=this.props,d=this._formatTimestamp(s);return i?o.a.createElement(c.a.I18NFormatMessage,{$i18n:"ba64a3b3"},o.a.createElement(a.b,{color:l?e:void 0,link:l,onClick:n},c.a.e62214cc({date:d})),o.a.createElement(a.b,{color:r?e:void 0,link:r,onClick:t},c.a.bd4e9341({place:i}))):o.a.createElement(a.b,{color:l?e:void 0,link:l,onClick:n},d)}_maybeRenderEditedTag(){const{renderEditCallout:e}=this.props,t=e?e({displayMode:"compact"}):null;return t?o.a.createElement(o.a.Fragment,null,t):null}_maybeRenderSource(){const{linkColor:e,onSourceClick:t,source:n,sourceLink:i}=this.props;return n?o.a.createElement(o.a.Fragment,null,o.a.createElement(r.a,null),o.a.createElement(a.b,{color:i?e:void 0,link:i,onClick:t,style:h.source},n)):null}}d.defaultProps={linkColor:"link"};const h=s.a.create((e=>({source:{whiteSpace:"normal"}})));t.a=d},dCqJ:function(e,t,n){"use strict";var i=n("ERkP"),o=n.n(i),a=n("cm6r"),r=(n("kYxP"),n("t62R")),s=n("rHpw"),l=n("3XMw"),c=n.n(l);const d=c.a.d7e50a66,h="INDIRECT",u="NO_SPONSORSHIP",p="ISSUE";class m extends o.a.Component{constructor(...e){super(...e),this._renderDisclaimerDetails=()=>{const{onPoliticalSponsorWebsiteClick:e,promotedContent:t}=this.props;if(!t.adMetadataContainer)return null;const{disclaimerType:n,sponsorshipCandidate:i,sponsorshipOrganization:a,sponsorshipOrganizationWebsite:s,sponsorshipType:l}=t.adMetadataContainer,d=s&&n!==p?o.a.createElement(r.b,{link:s,onClick:e}):o.a.createElement(r.b,{color:"gray700",size:"subtext2"});if(!a)return null;const m=o.a.createElement(c.a.I18NFormatMessage,{$i18n:"e1e348dd"},o.a.cloneElement(d,null,c.a.hdd29d51({sponsorshipOrganization:a}))),_=o.a.createElement(c.a.I18NFormatMessage,{$i18n:"c7dea0d1"},o.a.cloneElement(d,null,c.a.b97f7079({sponsorshipOrganization:a}))),w=i?o.a.createElement(c.a.I18NFormatMessage,{$i18n:"b5c2371b",sponsorshipCandidate:i},o.a.cloneElement(d,null,c.a.b02627a9({sponsorshipOrganization:a}))):null;return o.a.createElement(r.b,{color:"gray700",size:"subtext2"},n===p?m:l===u?_:l===h?w:m)},this._renderLearnMoreLink=()=>{const{onPromotedDisclaimerLearnMoreClick:e,promotedContent:t,tweet:n}=this.props,{disclaimerType:i}=t.adMetadataContainer||{},a=i===p?"issue_ad":"political_ad",s=`http://ads.twitter.com/transparency/ads/${n.user.screen_name}/tweet/${n.id_str}`;return o.a.createElement(r.b,{link:s,onClick:e(a),size:"subtext2",style:_.learnMore},d)}}render(){return o.a.createElement(o.a.Fragment,null,this._renderDisclaimerDetails(),this._renderLearnMoreLink())}}const _=s.a.create((e=>({learnMore:{alignSelf:"flex-start"}})));var w=n("e5HP"),b=n("Z6aJ"),g=n("MWbm");t.a=function(e){const{onPoliticalSponsorWebsiteClick:t,onPromotedDisclaimerLearnMoreClick:n,onPromotedIndicatorClick:i,promotedContent:r,promotedContentAdvertiser:s,style:l,testID:c,tweet:d,withCircleIcon:h}=e,u=b.a.isPromoted(r),p=!!r&&(r.adMetadataContainer&&("POLITICAL"===r.adMetadataContainer.disclaimerType||"ISSUE"===r.adMetadataContainer.disclaimerType)||"political"===b.a.getDisclosureType(r)||"issue"===b.a.getDisclosureType(r));return u?o.a.createElement(g.a,{style:l,testID:c},s&&r?o.a.createElement(a.a,{interactiveStyles:null,link:{pathname:`https://twitter.com/${s.screen_name}`,state:{promotedTweetState:r}},onPress:i},o.a.createElement(w.a,{promotedContent:r,withCircleIcon:h})):!!r&&o.a.createElement(w.a,{promotedContent:r}),p&&r?o.a.createElement(m,{onPoliticalSponsorWebsiteClick:t,onPromotedDisclaimerLearnMoreClick:n,promotedContent:r,tweet:d}):null):null}},gdQ4:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));n("kYxP");var i=n("ERkP"),o=n.n(i),a=n("tRj+"),r=n("3XMw"),s=n.n(r),l=n("zTrU"),c=n("MWbm"),d=n("htQn"),h=n("5mJL"),u=n("oSwX"),p=n("/yvb"),m=n("t62R"),_=n("rHpw");const w=s.a.e3a24e4c,b=s.a.i569ff3e;class g extends o.a.PureComponent{constructor(...e){super(...e),this._getMemoizedBehavioralEventContext=Object(l.a)((e=>({viewType:e})))}componentDidMount(){const{onImpression:e}=this.props;e&&e()}render(){const{avatarUrl:e,onClick:t,style:n,to:i,userName:r,withButton:s,withConversationLine:l}=this.props,_=e&&r,g=s?"add_tweet":"see_more",v=this._getMemoizedBehavioralEventContext(g);return o.a.createElement(a.a,{behavioralEventContext:v},o.a.createElement(d.a,{link:i,onClick:t,style:[C.root,n]},o.a.createElement(h.a,{avatarCell:_?o.a.createElement(c.a,{style:[C.avatarColumn,!l&&C.avatarColumnWithoutLine]},l?o.a.createElement(c.a,{style:C.conversationLine}):null,o.a.createElement(u.default,{size:"large",uri:e})):null,avatarCellStyle:C.conversationConnector,cellStyle:s?C.buttonContainer:_?C.labelWithAvatar:C.label},s?o.a.createElement(p.a,{accessibilityRole:"none",size:"xSmall",style:C.button,type:"brandOutlined"},w):o.a.createElement(m.b,{color:"link",style:C.enlargeTouchTarget},b))))}}g.defaultProps={withButton:!1,withConversationLine:!1};const C=_.a.create((e=>({root:{overflow:"hidden",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space2},avatarColumn:{flexDirection:"column",flexGrow:0,alignItems:"center",paddingBottom:e.spaces.space4},avatarColumnWithoutLine:{paddingTop:e.spaces.space12},conversationConnector:{alignItems:"center",display:"flex",position:"relative"},label:{flexGrow:1,paddingVertical:e.spaces.space4},labelWithAvatar:{flexGrow:1,justifyContent:"center"},conversationLine:{backgroundColor:e.colors.gray200,flexGrow:1,flexShrink:1,width:e.componentDimensions.conversationLineWidth,marginBottom:e.spaces.space4},buttonContainer:{paddingVertical:e.spaces.space4,flexDirection:"row",flexGrow:1},button:{marginVertical:e.spaces.space4},enlargeTouchTarget:{paddingVertical:e.spaces.space8}})))},j7tW:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p}));n("kYxP");var i=n("oEOe"),o=n("PiaM");const a="rweb/pinnedTweets";var r=n("x5Pi"),s=n("G6rE"),l=n("SRyb");const c=i.a(a,"PIN"),d=i.a(a,"UNPIN"),h=e=>(t,n,{api:a,featureSwitches:d})=>i.c(t,{params:{id:e},request:a.Tweets.pin})({actionTypes:c,context:"ACTION_PIN_TWEET",meta:{tweetId:e}},(i=>{const a=s.e.selectLoggedInUser(n());if(void 0===a)return;const c=a.id_str,h=a.pinned_tweet_ids_str&&a.pinned_tweet_ids_str[0];t(s.e.patchUser(c,{pinned_tweet_ids_str:[e]}));const u=Object(l.a)(d,c,"default");return[...h?[u.removeTweets({[h]:!0}),u.injectEntry(o.k({id:h,sortIndex:h}),{atTop:!1})]:[],u.removeTweets({[e]:!0}),u.injectEntry(o.k({id:e,content:{socialContext:{generalContext:r.a}},sortIndex:"NOT_USED"}))]})),u=e=>(t,n,{api:a,featureSwitches:r})=>i.c(t,{params:{id:e},request:a.Tweets.unpin})({actionTypes:d,context:"ACTION_UNPIN_TWEET",meta:{tweetId:e}},(i=>{const a=s.e.selectLoggedInUser(n());if(void 0===a)return;const c=a.id_str;return t(s.e.patchUser(c,{pinned_tweet_ids_str:[]})),[Object(l.a)(r,c,"default").removeTweets({[e]:!0}),Object(l.a)(r,c,"default").injectEntry(o.k({id:e,sortIndex:e}),{atTop:!1})]})),p=(e,t)=>{const n=s.e.selectLoggedInUser(e);return!(null==n||!n.pinned_tweet_ids_str)&&n.pinned_tweet_ids_str[0]===t}},qbku:function(e,t,n){"use strict";var i=n("97Jx"),o=n.n(i),a=n("ERkP"),r=n.n(a),s=n("rxPX"),l=Object(s.a)().withAnalytics({element:"social_proof"}),c=n("aTAq"),d=n("Nqmc"),h=n("x5Pi");const u=l((e=>{const t=r.a.useContext(h.b);if(t&&e.contextType===t)return null;const{analytics:n,link:i,...a}=e,s=i&&!Object(c.a)(i)?{...i,state:{...i.state,referringScribeNamespace:{...n.contextualScribeNamespace,action:"click"}}}:i;return r.a.createElement(d.a,o()({},a,{link:s,onClick:function(){const{analytics:t,onClick:n}=e;t.scribeAction("click"),n&&n()}}))}));t.a=u},sUoZ:function(e,t,n){"use strict";var i=n("ERkP"),o=n.n(i),a=n("Lsrn"),r=n("k/Ka");const s=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[a.a.root,e.style],viewBox:"0 0 24 24"},o.a.createElement("g",null,o.a.createElement("path",{d:"M22.18 9.565c-.157-.487-.61-.82-1.126-.82h-5.928l-2.007-5.88c-.164-.476-.612-.8-1.12-.8s-.956.322-1.12.8L8.874 8.743H2.945c-.513 0-.97.332-1.126.82-.158.49.02 1.02.44 1.318l4.735 3.357-2.018 5.908c-.164.484 0 1.02.415 1.324.415.304.97.31 1.39.016L12 17.782l5.22 3.703c.206.146.446.218.686.218.25 0 .497-.08.705-.233.41-.305.577-.84.41-1.324l-2.015-5.906 4.735-3.356c.414-.3.595-.83.44-1.32z"})));s.metadata={width:24,height:24},t.a=s},xZXe:function(e,t,n){"use strict";n.d(t,"a",(function(){return Me}));var i=n("97Jx"),o=n.n(i),a=(n("kYxP"),n("Cm4o"),n("KrtT"),n("ERkP")),r=n.n(a),s=n("ZyXd"),l=n("TZwD"),c=n("RqPI"),d=n("1YZw"),h=n("6rlp"),u=n("0pUJ"),p=n("Fmkq"),m=n("j7tW"),_=n("Zejx"),w=n("XOJV"),b=n("D5n3"),g=n("G6rE"),C=n("Ig1G"),v=n("jL08"),f=n("eSoz"),T=n("rxPX"),y=n("0KEI"),k=n("EGrD"),I=n("x5Pi"),E=n("P1r1");const x=(e,{tweetId:t})=>Object(m.b)(e,t),S=(e,t)=>t.tweetId,A=(e,{urtAdvertiser:t,urtPromotedContent:n})=>{if(e&&n){const i=e.promoted_content;return{...e,promoted_content:{adMetadataContainer:n.adMetadataContainer,disclosure_type:n.disclosureType,experiment_values:n.experimentValues,impression_id:n.impressionId,advertiser:t?{id_str:t.id_str}:void 0,advertiser_name:(null==t?void 0:t.name)||void 0,click_tracking_info:n.clickTrackingInfo,...i}}}return e},P=(e,{socialContext:t})=>t,L=(e,{socialContext:t})=>{const n=t&&t.topicContext;return n?_.a.select(e,n.topicId):void 0},O=(e,t)=>{const n=t.tweetId,i=n&&w.a.select(e,n);return i?Object(f.g)(e,i):void 0},D=(e,t)=>{const n=w.a.createHydratedTweetSelector(S)(e,t),i=null==n?void 0:n.quoted_status;return i?Object(f.g)(e,i):void 0},M=(e,{urtPromotedContent:t})=>t,R=(e,{urtPromotedContent:t})=>t?g.e.select(e,t.advertiserId):null,U=(e,t)=>t.contextTweetId;var F=Object(T.a)().propsFromState((()=>({adFreeArticleDomains:k.c,articleDomains:v.b,community:O,contextTweet:w.a.createHydratedTweetSelector(U),displaySensitiveMedia:E.k,explicitSocialContext:P,isNsfwUser:E.t,isPinned:x,loggedInUser:g.e.selectLoggedInUser,quoteTweetCommunity:D,topic:L,tweet:w.a.createHydratedTweetSelector(S),urtAdvertiser:R,urtPromotedContent:M,userCountry:c.A,userLanguage:c.q}))).adjustStateProps((({adFreeArticleDomains:e,articleDomains:t,community:n,contextTweet:i,displaySensitiveMedia:o,explicitSocialContext:a,isNsfwUser:r,isPinned:s,loggedInUser:l,quoteTweetCommunity:c,topic:d,tweet:h,urtAdvertiser:u,urtPromotedContent:p,userCountry:m,userLanguage:_})=>{var w,b,g;const f=h&&Object(I.f)(h,null==l?void 0:l.id_str),T=null==h||null==(w=h.card)||null==(b=w.binding_values)||null==(g=b.domain)?void 0:g.string_value,y=Object(v.a)(t,T),k=null==h?void 0:h.quoted_status,E=k?Object(I.f)(k,null==l?void 0:l.id_str,c):void 0,x=E&&Object(I.e)(E),S=Object(C.g)(null==n?void 0:n.role),P=a||f;return{adFreeArticleDomains:e,contextTweet:i,displaySensitiveMedia:o,isCardArticle:y,isNsfwUser:r,isPinned:s,loggedInUser:l,promotedContentAdvertiser:u||void 0,quoteTweetSocialContextProps:x,socialContext:P,socialContextColor:Object(C.j)(n,P),topic:d,tweet:A(h,{urtPromotedContent:p,urtAdvertiser:u}),userCountry:m,userLanguage:_,withCommunityModerationAuthority:S}})).propsFromActions((()=>({addToast:d.b,block:g.e.block,createLocalApiErrorHandler:Object(y.createLocalApiErrorHandlerWithContextFactory)("TWEET_CONTAINER_CONTEXT"),log:h.a,fetchAdFreeToken:k.a,fetchCommunityIfNeeded:f.c.fetchOneIfNeeded,fetchTopicIfNeeded:_.a.fetchOneIfNeeded,loadAdFreeArticleDomainsFromPersistence:k.b,mute:u.a,onUnretweet:b.a,richScribeAction:p.richScribeAction,setArticlesVisited:v.e,undoTopicNotInterested:_.a.undoNotInterested,unblock:g.e.unblock,unmute:g.e.unmute,updateLongformNotesLearnMoreBanner:w.a.updateLongformNotesLearnMoreBanner}))).withAnalytics(),B=n("6bZg"),N=n("sCEu"),H=n("3XMw"),j=n.n(H),W=n("iFPY"),z=n("hACr"),V=n("jQy5"),q=n("3IPs"),K=n("Rp9C"),G=n("uArA"),$=n("X04g"),Q=n("xM7j"),X=n("BLtI"),J=n("3zeG"),Z=n("IO7v"),Y=n("Irs7");var ee=n("MWbm"),te=n("v6aA"),ne=n("E0cF"),ie=n("OIC0"),oe=n("+pKb"),ae=n("/Ikv"),re=n("Z6aJ"),se=n("lHOd"),le=n("7JQg"),ce=n("cFuS"),de=n("24HD"),he=n("4hQ9"),ue=n("fz3c"),pe=n("64vW"),me=n("rHpw"),_e=n("gZV8");function we(e){const{id:t,onFullyVisible:n,position:i,testID:o}=e,a=r.a.useMemo((()=>{switch(i){case"top":return be.topPixel;case"bottom":return be.bottomPixel;case"right":return be.rightPixel;case"left":return be.leftPixel;default:return}}),[i]),s=r.a.useCallback((e=>{e.visibleFraction()>=_e.c&&n()}),[n]);return r.a.createElement(ee.a,{style:[be.impressionPixelContainer,a],testID:o},r.a.createElement(_e.e,{key:t,onPlacementChange:s},r.a.createElement(ee.a,{style:be.impressionPixel})))}const be=me.a.create((e=>({impressionPixel:{visibility:"hidden",height:"1px",width:"1px"},impressionPixelContainer:{position:"absolute"},topPixel:{top:"0",right:"50%"},bottomPixel:{bottom:"0",right:"50%"},rightPixel:{right:"0",top:"50%"},leftPixel:{left:"0",top:"50%"}}))),ge="top-impression-pixel",Ce="bottom-impression-pixel",ve="right-impression-pixel",fe="left-impression-pixel";class Te extends r.a.PureComponent{constructor(...e){super(...e),this._areHeightsReady=()=>this.props.heightsReady,this._renderImpressionPixels=e=>r.a.createElement(r.a.Fragment,null,r.a.createElement(we,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"top",testID:ge}),r.a.createElement(we,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"right",testID:ve}),r.a.createElement(we,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"bottom",testID:Ce}),r.a.createElement(we,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"left",testID:fe})),this._handleOnVisible=e=>()=>{const{id:t,onVisible:n}=this.props,i=e();i&&this._lastVisibleId!==t&&n&&(this._lastVisibleId=t,n(i))},this._handlePlacementChange=e=>{const{id:t,onFullyVisible:n,onVisible:i,shouldUseImpressionPixel:o}=this.props;if(!this._areHeightsReady())return;o||this._lastVisibleId!==t&&e.verticalOverlap()>=1&&(this._lastVisibleId=t,i(e));const a=e.visibleFraction()>=_e.c,r=e.item.height>e.viewport.height,s=e.verticalOverlap()===e.viewport.height||r&&e.visibleFraction()>=_e.d;this._lastFullyVisibleId!==t&&(a||s)&&(this._lastFullyVisibleId=t,n&&n(e))},this._handleLayout=e=>{const{nativeEvent:{layout:{height:t,width:n}}}=e,i={width:n,height:t};if(this._prevLayout&&(this._prevLayout.width!==n||this._prevLayout.height!==t)){const{onResize:e}=this.props;e&&e(this._prevLayout,i)}this._prevLayout=i}}render(){const{children:e,id:t,shouldUseImpressionPixel:n}=this.props;return r.a.createElement(_e.e,{key:t,onLayout:this._handleLayout,onPlacementChange:this._handlePlacementChange},(({getScrollPlacement:t})=>r.a.createElement(r.a.Fragment,null,n&&this._areHeightsReady()&&this._renderImpressionPixels(t),e)))}}function ye(e){return r.a.createElement(pe.a.Consumer,null,(({heightsReady:t})=>r.a.createElement(Te,o()({},e,{heightsReady:t}))))}var ke=n("fs1G"),Ie=n("zTrU"),Ee=n("mN6z"),xe=n("Cqiq");const Se=j.a.f277e94a,Ae=j.a.e4c6c30a;class Pe extends r.a.Component{constructor(e,t){var n;super(e,t),this._shouldLogPromotedImpression=Oe.bind(null,this.context.featureSwitches),this._isProbablyRemovedByAdBlocker=Le.bind(null,this.context.featureSwitches),this._isArticleNudgeEnabled=this.context.featureSwitches.isTrue("responsive_web_article_nudge_enabled"),this._isCompatibilityScribeEnabled=this.context.featureSwitches.isTrue("responsive_web_extension_compatibility_scribe"),this._isCommunitiesEnabled=this.context.featureSwitches.isTrue("c9s_enabled"),this._shouldUseImpressionPixel=this.context.featureSwitches.isTrue("responsive_web_impression_pixel_enabled"),this._hasClaimsForAdFreeArticles=null==(n=this.context.userClaims)?void 0:n.isTrueAndEnabled("subscriptions_feature_1006"),this._twitterArticleLearnMoreBannerEnabled=this.context.featureSwitches.isTrue("responsive_web_twitter_article_view_enabled"),this._renderBlockOrUnblockConfirmationSheet=()=>{const{tweet:e}=this.props,{user:t}=e;return Object(de.j)({confirmation:Object(de.h)(t),onClose:this._handleBlockOrUnblockConfirmClose,handleConfirm:this._handleBlockOrUnblockUserConfirm})},this._handleShowReportedTweet=()=>{this.setState({displayReported:!0,enableKeyboardShortcuts:!1})},this._handleUnretweet=()=>{const{createLocalApiErrorHandler:e,onUnretweet:t,tweet:n}=this.props;t(ne.a.getOriginalTweet(n).id_str,{promotedContent:n.promoted_content}).catch(e(Z.a))},this._getShortcutKeyHandlers=()=>{const{onClick:e,shortcutKey:t}=this._getMuteOrUnmuteAction(),{shortcutKey:n}=this._getBlockOrUnblockAction(),i=this.context.loggedInUserId===this.props.tweet.user.id_str;return{...t&&{[t]:e},...n&&!i&&{[n]:this._handleBlockOrUnblockConfirmOpen}}},this._handleBlockOrUnblockConfirmOpen=()=>{this.setState({showBlockOrUnblockConfirmation:!0})},this._handleBlockOrUnblockConfirmClose=()=>{this.setState({showBlockOrUnblockConfirmation:!1})},this._handleBlockOrUnblockUserConfirm=()=>{const{onClick:e}=this._getBlockOrUnblockAction();this._handleBlockOrUnblockConfirmClose(),e&&e()},this._getBaseTweetProps=()=>{var e,t;const{contextualClientEventInfo:n,conversationTreeMetadata:i,feedbackItems:o,focalTweetId:a,forwardPivotInfo:r,handleBlockTrigger:s,isNsfwUser:l,isPinned:c,onTweetDismiss:d,ruxContext:h,saveAsRecentSearch:u,scribeData:p,shouldStoreTypeaheadItem:m,socialContext:_,topicFollowPrompt:w,tweet:b,userCountry:g,userLanguage:C,withActionsDisabled:v,withCommunityModerationAuthority:f,withCurationMenu:T,withHideReply:y,withMuteConversation:k,withUnhideReply:I,withViewHiddenReplies:E}=this.props,x=ne.a.getOriginalTweet(b),S=this._getPromotedContent(),A=p.items&&p.items[0]&&p.items[0].suggestion_details,P=this._isSelected(),L=x&&x.card&&!b.is_quote_status?x.card.url:void 0,{loggedInUserId:O}=this.context,D=(null==x||null==(e=x.user)?void 0:e.id_str)===O,M=!x.in_reply_to_status_id_str&&D&&!x.community_id_str,R=this._renderConversationControlsTooltip(),U=null==(t=x.longformNotesLearnMore)?void 0:t.showBanner;return{excludeCardUrl:L,inlineCalloutInfo:this._getInlineCalloutInfo(),isFocal:a===b.id_str,onAnalyticsClick:this._handleAnalyticsClick,onAvatarClick:this._handleAvatarClick,onBirdwatchNotesIconClick:this._handleBirdwatchNotesIconClick,onBirdwatchNotesIconShown:this._handleBirdwatchNotesIconShown,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onClick:b.isPreview?this._handlePreviewClick:this._handleTweetClick,onEntityClick:this._handleEntityClick,onFocus:this._handleFocus,onLikeSuccess:this._handleLikeSuccess,onMediaClick:b.isPreview?this._handleEmbeddedMediaPreviewClick:this._handleEmbeddedMediaClick,onMediaHashtagHighlightClick:this._handleMediaHashtagHighlightClick,onModeratedIconClick:this._handleModeratedIconClick,onModeratedIconShown:this._handleModeratedIconShown,onPoliticalSponsorWebsiteClick:this._handlePoliticalSponsorWebsiteClick,onPromoteButtonClick:this._handlePromoteButtonClick,onPromoteAgainButtonClick:this._handlePromoteAgainButtonClick,onPromotedDisclaimerLearnMoreClick:this._handlePromotedDisclaimerLearnMoreClick,onPromotedIndicatorClick:this._handlePromotedIndicatorClick,onPromotedUserProfileCardClick:this._handlePromotedUserProfileCardClick,onQuoteTweetClick:this._handleQuoteTweetClick,onReply:this._handleInlineReplyClick,onReplyContextClick:this._handleReplyContextClick,onScreenNameClick:this._handleScreenNameClick,onSelfThreadClick:this._handleSelfThreadClick,onSelfThreadImpression:this._handleSelfThreadImpression,onUndoTopicNotInterestedClick:this._handleUndoTopicNotInterested,promotedContent:S,renderCurationActionMenu:T&&!b.isPreview?this._getRenderCurationActionMenu(r&&r.displayType,o,s,v,l,c,P,this._handleCaretClick,d,S,x,y,f,k,I,M,E,i,null==n?void 0:n.entityToken,R,g,C):void 0,saveAsRecentSearch:u,shouldStoreTypeaheadItem:m,showLongformNotesLearnMoreBanner:U,to:{state:{focal:x.id_str,socialContext:_,contextualClientEventInfo:n,contextTweetId:b.id_str,promotedContent:S,suggestionDetails:A,topicFollowPrompt:w},pathname:x.permalink,query:h?{cxt:h}:void 0}}},this._getReaderModeTweetProps=()=>{var e;const{contextualClientEventInfo:t,ruxContext:n,scribeData:i,socialContext:o,topicFollowPrompt:a,tweet:r,tweetTextSize:s}=this.props,l=ne.a.getOriginalTweet(r),c=this._getPromotedContent(),d=i.items&&i.items[0]&&i.items[0].suggestion_details;return{excludeCardUrl:null==(e=r.card)?void 0:e.url,onAnalyticsClick:ke.a,onAvatarClick:ke.a,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onClick:r.isPreview?this._handlePreviewClick:this._handleTweetClick,onEntityClick:ke.a,onFocus:this._handleFocus,onMediaClick:this._handleEmbeddedMediaClick,onReplyContextClick:ke.a,to:{state:{focal:l.id_str,socialContext:o,contextualClientEventInfo:t,contextTweetId:r.id_str,promotedContent:c,suggestionDetails:d,topicFollowPrompt:a},pathname:l.permalink,query:n?{cxt:n}:void 0},tweet:r,tweetTextSize:s||"headline1",withActions:!1,withAvatarLink:!1,withReaderModeBottomBar:!0,withUserAvatar:!1,withUserHoverCard:!1,withUserName:!1,withTimestamp:!1}},this._getInlineCalloutInfo=()=>{const{displaySensitiveMedia:e,isNsfwUser:t,scribeNamespace:n,tweet:i,userCountry:o,userLanguage:a}=this.props,{featureSwitches:r,loggedInUserId:s}=this.context;if(Object(he.e)({displaySensitiveMedia:e,featureSwitches:r,isNsfwUser:t,loggedInUserId:s,tweet:i,userCountry:o,userLanguage:a}))return Object(he.d)(i,n,r)},this._getBlockOrUnblockAction=()=>{const{addToast:e,block:t,contextualClientEventInfo:n,createLocalApiErrorHandler:i,tweet:o,unblock:a}=this.props,{user:r}=o,s=this._getPromotedContent(),c={addToast:e,behavioralEventEntityToken:null==n?void 0:n.entityToken,createLocalApiErrorHandler:i,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(l.a)({...c,block:t,unblock:a,user:r,promotedContent:s})},this._getMuteOrUnmuteAction=()=>{const{addToast:e,contextualClientEventInfo:t,createLocalApiErrorHandler:n,mute:i,tweet:o,unmute:a}=this.props,{user:r}=o,s={addToast:e,behavioralEventEntityToken:null==t?void 0:t.entityToken,createLocalApiErrorHandler:n,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}},l=this._getPromotedContent();return Object(V.a)({...s,mute:i,unmute:a,user:r,promotedContent:l})},this._renderConversationControlsTooltip=()=>{const{loggedInUserId:e}=this.context,{showMidConversationControlEducationText:t,tweet:n}=this.props,i=ne.a.getOriginalTweet(n);if(!i)return!1;const o=!!i.community_id_str,a=i.user&&i.user.id_str===e,r=i.reply_count>0;return!i.in_reply_to_status_id_str&&a&&r&&!o&&t},this._getRenderCurationActionMenu=Object(Ie.a)(((e,t,n,i,o,a,s,l,c,d,h,u,p,m,_,w,b,g,C,v,f,T)=>()=>r.a.createElement(J.a,{behavioralEventEntityToken:C,feedbackItems:t,forwardPivotDisplayType:e,handleBlockTrigger:n,isDisabled:i,isNsfwUser:o,isPinned:a,onMenuClick:l,onTweetDismiss:c,promotedContent:d,tweet:h,userCountry:f,userLanguage:T,withChangeConversationControls:w,withChangeConversationControlsTooltip:v,withCommunityModerationAuthority:p,withHideReply:u,withMuteConversation:m,withUnhideReply:_,withViewHiddenReplies:b}))),this._getDefaultScribeData=Object(Ie.a)(((e,t,n,i,o,a)=>{const r=(({clickTrackingEmbedDetails:e,contextualScribeData:t,isSelected:n,overflow:i,promotedContent:o,scribeData:a,tweet:r})=>({...t||{},...a||{},...e&&{click_tracking_embed_details:e},items:K.a.addTweetToItems(a?a.items:[],r,o,n,i)}))({tweet:e,promotedContent:t,scribeData:n,overflow:i,isSelected:this._isSelected(),contextualScribeData:o,clickTrackingEmbedDetails:a});return this._cachedFinalScribeData&&Object(Ee.a)(r,this._cachedFinalScribeData)||(this._cachedFinalScribeData=r),this._cachedFinalScribeData})),this._scribeAction=(e,t={},n,i,o)=>{var a;const{analytics:r,history:s,richScribeAction:l,scribeData:c,scribeNamespace:d,tweet:h}=this.props,u=null==(a=s.location.state)?void 0:a.overflow,p=this._getPromotedContent();let m=c;if(i){const e=K.a.getUserItem(h.user,p),t=m.items?[...m.items,e]:[e];m={...m,items:t}}if(o){const e={article_details:{is_ad_free:o}},t=m.items?[...m.items,e]:[e];m={...m,items:t}}l({...d,...e},{...this._getDefaultScribeData(ne.a.getOriginalTweet(h),p,m,u,r.contextualScribeData,n),...t})},this._handlePoliticalSponsorWebsiteClick=()=>{this._scribeAction({component:"political_ad",element:"organization_website",action:"click"})},this._handlePromotedDisclaimerLearnMoreClick=e=>()=>{this._scribeAction({component:e,element:"learn_more",action:"click"})},this._handlePromotedIndicatorClick=()=>{this._handleAsyncPromotedEvent(ce.b.FOOTER_PROFILE)},this._handleFocus=()=>{this.setState({enableKeyboardShortcuts:!0})},this._handleBlur=()=>{this.setState({enableKeyboardShortcuts:!1})},this._getPromotedContent=()=>{const{displayPromotedContent:e,tweet:t}=this.props;return e?t.promoted_content:void 0},this._handleImpression=e=>{this._shouldLogPromotedImpression(e)&&this._handleAsyncPromotedEvent(ce.b.IMPRESSION)},this._handleFullyVisible=e=>{this._shouldLogPromotedImpression(e)&&this._handleAsyncPromotedEvent(ce.b.DWELL)},this._handleResize=(e,t)=>{!this._isProbablyRemovedByAdBlocker(e)&&this._isProbablyRemovedByAdBlocker(t)&&(s.a.recordAdBlockerPresence(),this._isCompatibilityScribeEnabled&&this._scribeAction({action:"blocked_ad"}))},this._handleInlineReplyClick=e=>{const{loggedInUserId:t}=this.context,{history:n,tweet:i}=this.props,o=this._getPromotedContent();e.preventDefault(),this._scribeAction({element:"inline_reply",action:"reply"}),n.push({state:{inReplyToStatusId:i.id_str,isSelfThreadReply:!!t&&Object(he.c)({tweet:i,loggedInUserId:t}),promotedContent:o},pathname:"/compose/tweet"})},this._handleLikeSuccess=()=>{if(this.context.featureSwitches.isTrue("home_timeline_like_reactivity_enabled")){const{onLike:e}=this.props,t="LikeReactionFatigue";try{const n=JSON.parse(window.sessionStorage.getItem(t))||0;n<this.context.featureSwitches.getNumberValue("home_timeline_like_reactivity_fatigue")&&e&&e().then((e=>{null!=e&&e.performed&&window.sessionStorage.setItem(t,JSON.stringify(n+1))}))}catch(e){}}},this._handleReplyContextClick=(e,t)=>this._scribeAction({element:"reply_context",action:"click"},{event_value:t}),this._handleAsyncPromotedEvent=(e,t)=>{const{createLocalApiErrorHandler:n,log:i,tweet:o}=this.props,a=this._getPromotedContent();if(a){const{disclosure_type:r,impression_id:s}=a;i({disclosureType:r,itemId:o.id_str,itemType:ce.c.TWEET,params:{event:e,impression_id:s,...t}}).catch(n())}},this._handleModeratedIconClick=()=>this._scribeAction({element:"moderated_replies_icon",action:"click"}),this._handleModeratedIconShown=()=>this._scribeAction({element:"moderated_replies_icon",action:"impression"}),this._handleBirdwatchNotesIconClick=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"click"}),this._handleBirdwatchNotesIconShown=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"impression"}),this._handleAnalyticsClick=()=>{this._scribeAction({element:"analytics",action:"click"})},this._handlePromoteButtonClick=()=>{this._scribeAction({element:"promote",action:"click"})},this._handlePromoteAgainButtonClick=()=>{this._scribeAction({element:"promote_again",action:"click"})},this._handleAvatarClick=()=>{const{tweet:e}=this.props;this._handleSaveAsRecentSearchUser(),this._scribeAction({element:"avatar",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(ce.b.PROFILE_IMAGE_CLICK)},this._handleCaretClick=()=>this._scribeAction({element:"caret",action:"click"}),this._handleTweetClick=Object(G.a)((e=>{if(!e.defaultPrevented){if(e.stopPropagation(),window.getSelection().toString().length)return;this._scribeAction({element:"tweet",action:"click"}),this._handleAsyncPromotedEvent(ce.b.VIEW_DETAILS)}})),this._handlePreviewClick=e=>{e.preventDefault()},this._handleEmbeddedMediaPreviewClick=e=>{null==e||e.preventDefault()},this._handleEmbeddedMediaClick=()=>{this._scribeAction({element:"platform_photo_card",action:"click"}),this._handleAsyncPromotedEvent(ce.b.EMBEDDED_MEDIA)},this._handleQuoteTweetClick=()=>{this._scribeAction({element:"tweet",action:"click"}),this._handleAsyncPromotedEvent(ce.b.VIEW_DETAILS)},this._handleEntityClick=(e,t,n)=>{const{adFreeArticleDomains:i,createLocalApiErrorHandler:o,fetchAdFreeToken:a,tweet:r}=this.props,s=ce.a[t],l=B.a[t],c=this._getPromotedContent(),d=K.a.getClickTrackingEmbedDetails(c,n);if(s){const t=s===ce.b.URL_CLICK&&e.currentTarget instanceof window.HTMLElement?{url:e.currentTarget.href}:void 0;this._handleAsyncPromotedEvent(s,t)}if(t===ie.a.MEDIA)return this._handleTweetClick(e);t===ie.a.URL&&d&&this._scribeAction({action:oe.b.CLICK_ID_EMBED},{},d);let h=!1;if(this._hasClaimsForAdFreeArticles&&null!=n&&n.expandedUrl){const t=new URL(n.expandedUrl).hostname,[s,l]=new N.a(a,o()).getAdFreeArticlesClickHandler({destinationUrl:n.embeddedUrl,linkDomain:t,adFreeArticleDomains:i,tweetAuthorUserId:r.user.id_str});s&&(l(e),h=!0)}if(t===ie.a.MENTION){const e=null!=n&&n.text?[{item_type:$.a.ItemType.USER,name:n.text,id:n.id_str}]:void 0;return this._scribeAction({action:l},{targets:e},void 0,void 0,h)}if(t===ie.a.HASHTAG){const e=null!=n&&n.text?[{name:n.text}]:void 0;return this._scribeAction({action:l},{targets:e},void 0,void 0,h)}if(t===ie.a.INTERACTIVE_HIGHLIGHT&&void 0!==(null==n?void 0:n.id))return this._scribeAction({element:"interactive_text",action:l},{interactive_text_details:{id:n.id}},void 0,void 0,h);l&&this._scribeAction({action:l},void 0,void 0,void 0,h)},this._handlePromotedUserProfileCardClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"user_recommendation",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(ce.b.SCREEN_NAME_CLICK)},this._handleScreenNameClick=()=>{const{tweet:e}=this.props;this._handleSaveAsRecentSearchUser(),this._scribeAction({element:"user",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(ce.b.SCREEN_NAME_CLICK)},this._handleSelfThreadClick=()=>this._scribeAction({element:"self_thread",action:"click"}),this._handleSelfThreadImpression=()=>this._scribeAction({element:"self_thread",action:"impression"}),this._handleTopicFetch=()=>{var e;const{createLocalApiErrorHandler:t,fetchTopicIfNeeded:n,socialContext:i}=this.props,o=i&&(null==(e=i.topicContext)?void 0:e.topicId);o&&n(o).catch(t())},this._handleCommunityFetch=()=>{const{createLocalApiErrorHandler:e,fetchCommunityIfNeeded:t,tweet:n}=this.props;if(this._isCommunitiesEnabled&&n){var i;const o=n.community_id_str,a=null==(i=n.quoted_status)?void 0:i.community_id_str;o&&t(o).catch(e()),a&&t(a).catch(e())}},this._handleLongformNotesLearnMoreRender=()=>{const{tweet:e,updateLongformNotesLearnMoreBanner:t}=this.props,n=ne.a.getOriginalTweet(e),i=ne.a.hasLongformNoteUrl(n);e&&i&&this._twitterArticleLearnMoreBannerEnabled&&t(n.id_str)},this._handleUndoTopicNotInterested=()=>{const{createLocalApiErrorHandler:e,topic:t,undoTopicNotInterested:n}=this.props;this._scribeAction({element:"topic",action:"un_not_interested"}),t&&n(t.id).catch(e())},this._handleCardLinkClick=e=>{var t;const{adFreeArticleDomains:n,analytics:i,createLocalApiErrorHandler:o,fetchAdFreeToken:a,isCardArticle:r,setArticlesVisited:s,tweet:l}=this.props;if(r&&this._isArticleNudgeEnabled){var c;const e=null==l||null==(c=l.card)?void 0:c.url;var d;if(e)s(e),i.scribe({component:"article_nudge",element:"read_article",action:"click",data:{items:[{token:null==l||null==(d=l.card)?void 0:d.url,in_reply_to_tweet_id:l.id_str}]}})}const h=null==l||null==(t=l.card)?void 0:t.binding_values;if(this._hasClaimsForAdFreeArticles&&h){const[t,i]=new N.a(a,o()).getAdFreeArticlesClickHandler({destinationUrl:ae.a.getBindingValue(h,"card_url"),linkDomain:ae.a.getBindingValue(h,"domain"),adFreeArticleDomains:n});t&&i(e)}},this._handleSaveAsRecentSearchUser=()=>{const{saveAsRecentSearch:e,shouldStoreTypeaheadItem:t,tweet:n}=this.props,{user:i}=n;e&&t&&t($.a.ItemType.USER)&&e({user:{id:i.id_str,type:q.a.User}})},this._isSelected=()=>{const{conversationTreeMetadata:e,tweet:t}=this.props,{selectedTweet:n}=e||{};return n&&t.id_str===n.selectedTweetId},this._handleMediaHashtagHighlightClick=()=>{this._handleAsyncPromotedEvent(ce.b.HASHTAG_CLICK)},this.state={displayReported:!1,enableKeyboardShortcuts:!1,showBlockOrUnblockConfirmation:!1};const i=this._getPromotedContent();this._shouldHidePromotedTweet=re.a.isPromoted(i)&&s.a.shouldHidePromotedTweets(this.context.featureSwitches)}shouldComponentUpdate(e,t){return!Object(Ee.a)(this.props,e)||!Object(Ee.a)(this.state,t)}componentDidMount(){this._shouldHidePromotedTweet&&this._isCompatibilityScribeEnabled&&this._scribeAction({action:"hide_promoted"}),this._handleTopicFetch(),this._handleCommunityFetch(),this._handleLongformNotesLearnMoreRender(),this._hasClaimsForAdFreeArticles&&this.props.loadAdFreeArticleDomainsFromPersistence()}render(){var e;const{loggedInUserId:t}=this.context,{conversationPosition:n,conversationTreeMetadata:i,showWithheldBannerOnMyTweets:o,tweet:a}=this.props;if(!this._shouldRender())return i?r.a.createElement(Q.a,{conversationPosition:n,conversationTreeMetadata:i},Ae):null;const s=(null==a||null==(e=a.user)?void 0:e.id_str)===t,l=Object(xe.b)(ne.a.getOriginalTweet(a).withheld_scope),c=s&&!a.retweeted_status,d=c&&"user"===ne.a.getOriginalTweet(a).withheld_scope&&!o,h=Object(ue.h)(a)&&!this.state.displayReported;return r.a.createElement(r.a.Fragment,null,l?r.a.createElement(ee.a,null,d?null:this._renderWithheldTweet(),c?this._renderContent():null):h?this._renderReportedTombstone():this._renderContent(),this._renderIntentPrompt(),this.state.showBlockOrUnblockConfirmation?this._renderBlockOrUnblockConfirmationSheet():null)}_renderIntentPrompt(){const{contextualClientEventInfo:e,forwardPivotInfo:t,history:n,tweet:i,tweetId:o}=this.props;if(i&&"focal_module"===(null==e?void 0:e.component)&&n.location.pathname.indexOf("/intent/")>-1&&n.location.query.tweet_id===o)return r.a.createElement(W.a,{forwardPivotInfo:t,history:n,location:n.location,tweetId:i.id_str})}_renderWithheldTweet(){const{conversationPosition:e,conversationTreeMetadata:t,tweet:n}=this.props,i=n.user.id_str,o=ne.a.getOriginalTweet(n),{loggedInUserId:a}=this.context,s=!!a&&a===i&&o.retweeted,l=o.withheld_text||o.text,c=o.withheld_entities||o.entities,d=n.user.id_str===a;return r.a.createElement(xe.a,{conversationPosition:e,conversationTreeMetadata:d?void 0:t,displayTextRange:o.display_text_range,entities:c,lang:o.lang,onUnretweet:s?this._handleUnretweet:void 0,showUnretweetButton:s,text:l})}_renderReportedTombstone(){const{conversationPosition:e,conversationTreeMetadata:t,tweet:n}=this.props,i=ne.a.getOriginalTweet(n),o=Object(ue.c)(i.reportingVisibility);return r.a.createElement(Q.a,{actionText:Se,conversationPosition:e,conversationTreeMetadata:t,lang:i.lang,onClick:this._handleShowReportedTweet},o)}_renderContent(){var e;const{allowDownvote:t,analytics:n,bookmarkFolderId:i,contextTweet:o,contextualClientEventInfo:a,conversationPosition:s,conversationTreeMetadata:l,displayBlocked:c,forwardPivotInfo:d,hasModeratedReplies:h,hideConversationControlsEducationText:u,hideExclusivityInfoEducationTextInReplies:p,hideTrustedFriendsEducationTextInReplies:m,history:_,hitHighlights:w,injectedFeedbackItem:b,innerForwardPivotInfo:g,isReaderMode:C,isUnread:v,linkify:f,loggedInUser:T,nudges:y,promotedContentAdvertiser:k,quoteTweetSocialContextProps:I,quotedTweetTombstoneInfo:E,replyBadge:x,replyContext:S,rootTweetAuthorId:A,scribeData:P,scribeNamespace:L,shouldSelfThreadIncludeAvatar:O,socialContext:D,socialContextColor:M,topic:R,topicFollowPrompt:U,tweet:F,withActions:B,withActionsDisabled:N,withBirdwatchPivots:H,withCardLinks:j,withInlineMedia:W,withQuotedTweetLinks:V,withRemoveFromBookmarks:q,withSelfThread:K,withSocialContext:G,withUserPresence:$}=this.props,{enableKeyboardShortcuts:Q}=this.state,J=ne.a.getOriginalTweet(F),Z=this._getPromotedContent(),Y=Object(Ee.a)(this._cachedScribeNamespace,L)?this._cachedScribeNamespace:this._cachedScribeNamespace=L,ee=null==(e=_.location.state)?void 0:e.overflow,te={...{allowDownvote:t,bookmarkFolderId:i,contextTweet:o,contextualClientEventInfo:a,conversationPosition:s,conversationTreeMetadata:l,displayBlocked:c,enableKeyboardShortcuts:Q,forwardPivotInfo:d,nudges:y,hasModeratedReplies:h,hideConversationControlsEducationText:u,hideExclusivityInfoEducationTextInReplies:p,hideTrustedFriendsEducationTextInReplies:m,hitHighlights:w,injectedFeedbackItem:b,innerForwardPivotInfo:g,linkify:f,loggedInUser:T,promotedContentAdvertiser:k,quotedTweetTombstoneInfo:E,quoteTweetSocialContextProps:I,replyBadge:x,replyContext:S,rootTweetAuthorId:A,shouldSelfThreadIncludeAvatar:O,socialContext:D,socialContextColor:M,topic:R,topicFollowPrompt:U,tweet:F,withActions:B,withActionsDisabled:N,withBirdwatchPivots:H,withCardLinks:j,withInlineMedia:W,withQuotedTweetLinks:V,withRemoveFromBookmarks:q,withSelfThread:K,withSocialContext:G,withUnreadStyles:v,withUserPresence:$},...C?this._getReaderModeTweetProps():this._getBaseTweetProps()},ie=r.a.createElement(le.c,{data:this._getDefaultScribeData(J,Z,P,ee,n.contextualScribeData,void 0),namespace:Y},r.a.createElement(z.a,{enabled:!!Q,handlers:this._getShortcutKeyHandlers()},r.a.createElement(X.b,te)));return Z?r.a.createElement(ye,{id:F.id_str,onFullyVisible:this._handleFullyVisible,onResize:this._handleResize,onVisible:this._handleImpression,shouldUseImpressionPixel:this._shouldUseImpressionPixel},ie):ie}_shouldRender(){const{tweet:e}=this.props;return!(this._shouldHidePromotedTweet||this._tweetIsDeleted()||this._shouldHideBlockedTweet()||Object(ue.f)(e))}_tweetIsDeleted(){const{tweet:e}=this.props,{retweeted_status:t}=e;return e.isDeleted||t&&t.isDeleted}_shouldHideBlockedTweet(){var e,t;const{displayBlocked:n,focalTweetId:i,tweet:o}=this.props,a=ne.a.getOriginalTweet(o),r=!(null==o||null==(e=o.user)||!e.blocking)||!(null==a||null==(t=a.user)||!t.blocking);return i!==o.id_str&&(!n&&r)}}Pe.defaultProps={displayBlocked:!1,shouldSelfThreadIncludeAvatar:!1,showWithheldBannerOnMyTweets:!0,withCardLinks:!1,withCurationMenu:!0,withRemoveFromBookmarks:!1,withMuteConversation:!1},Pe.contextType=te.a;const Le=(e,t)=>t.height<=e.getNumberValue("responsive_web_extension_compatibility_size_threshold",50),Oe=(e,t)=>!(e.isTrue("responsive_web_extension_compatibility_impression_guard")&&Le(e,t.item)),De=e=>{const t=r.a.useContext(se.a);return((e,t)=>{const n=Object(Y.b)();r.a.useEffect((()=>{t||n.scribe({action:"hydration_failed",data:{tweet_id:e}})}),[n,t,e])})(e.tweetId,e.tweet),e.tweet?r.a.createElement(Pe,o()({},e,{history:t,tweet:e.tweet})):null};De.defaultProps=Pe.defaultProps;const Me=F(De);t.b=Object(le.a)({component:"tweet"})(Me)}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.inlineTombstoneHandler.5e447347.js.map