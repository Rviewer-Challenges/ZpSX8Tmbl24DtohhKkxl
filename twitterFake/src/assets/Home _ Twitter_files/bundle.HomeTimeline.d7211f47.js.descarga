(window.webpackJsonp=window.webpackJsonp||[]).push([[162],{cOLG:function(e,t,a){"use strict";a.r(t),a.d(t,"HomeTimeline",(function(){return Dt}));a("kYxP");var n=a("ERkP"),o=a.n(n),s=a("v6aA"),l=a("es0u"),r=a("wM4e"),c=a("kHBp"),i=a("rxPX"),d=a("0KEI"),u=a("oEOe"),m=a("hqKg"),p=a("kGix"),b=a("Ssj5");const E=Object.freeze({REQUEST:"rweb/contentControlTools/FETCH_ONE_CONTENT_CONTROL_TOOL_REQUEST",SUCCESS:"rweb/contentControlTools/FETCH_ONE_CONTENT_CONTROL_TOOL_SUCCESS",FAILURE:"rweb/contentControlTools/FETCH_ONE_CONTENT_CONTROL_TOOL_FAILURE"}),h=Object.freeze({REQUEST:"rweb/contentControlTools/DISABLE_CONTENT_CONTROL_TOOL_REQUEST",SUCCESS:"rweb/contentControlTools/DISABLE_CONTENT_CONTROL_TOOL_SUCCESS",FAILURE:"rweb/contentControlTools/DISABLE_CONTENT_CONTROL_TOOL_FAILURE"}),T=Object.freeze({REQUEST:"rweb/contentControlTools/ENABLE_CONTENT_CONTROL_TOOL_REQUEST",SUCCESS:"rweb/contentControlTools/ENABLE_CONTENT_CONTROL_TOOL_SUCCESS",FAILURE:"rweb/contentControlTools/ENABLE_CONTENT_CONTROL_TOOL_FAILURE"}),_="contentControlTools",f=Object.freeze({}),O=Object.freeze([]),y=Object.freeze({tools:f});const C=e=>e[_].tools,L=(e,t)=>{var a;return null==(a=((e,t)=>C(e)[t])(e,t))?void 0:a.fetchStatus},S=Object(m.createSelector)(C,(e=>{const t=Object.keys(e);return 0===t.length?O:t.reduce(((t,a)=>{var n;const o=e[a];return null!=(null==(n=o.timeline)?void 0:n.id)&&o.enabled_for_viewer&&t.push(o),t}),[])})),g=e=>(t,a)=>{const n=L(a(),e);return n===p.a.LOADING||n===p.a.LOADED?Promise.resolve():t((e=>(t,a,{api:n,featureSwitches:o})=>u.b(t,{params:{toolId:e},request:n.ContentControlTools.fetchOneContentControlTool})({actionTypes:E,context:"FETCH_ONE_CONTENT_CONTROL_TOOL",meta:{toolId:e}}))(e))};b.a.register({[_]:function(e=y,t){switch(t.type){case E.REQUEST:{const{toolId:a}=t.meta;return{...e,tools:{...e.tools,[a]:{updateStatus:p.a.NONE,...e.tools&&e.tools[a],fetchStatus:p.a.LOADING}}}}case E.SUCCESS:{const n=t.payload,o=null==n?void 0:n.result;var a;return n&&o?{...e,tools:{...e.tools,[o]:{updateStatus:p.a.NONE,...null==n||null==(a=n.entities)?void 0:a.contentControlTools[o],fetchStatus:p.a.LOADED}}}:e}case E.FAILURE:{const{toolId:a}=t.meta;return{...e,tools:{...e.tools,[a]:{updateStatus:p.a.NONE,...e.tools[a],fetchStatus:p.a.FAILED,error:t.payload}}}}case h.REQUEST:case T.REQUEST:{const{toolId:a}=t.meta;return{...e,tools:{...e.tools,[a]:{...e.tools&&e.tools[a],updateStatus:p.a.LOADING}}}}case h.SUCCESS:{const a=t.payload,{toolId:n}=t.meta;return null!=a&&a.status&&n?{...e,tools:{...e.tools,[n]:{...e.tools[n],enabled_for_viewer:!1,updateStatus:p.a.LOADED}}}:e}case T.SUCCESS:{const a=t.payload,{toolId:n}=t.meta;return null!=a&&a.status&&n?{...e,tools:{...e.tools,[n]:{...e.tools[n],enabled_for_viewer:!0,updateStatus:p.a.LOADED}}}:e}case h.FAILURE:case T.FAILURE:{const{toolId:a}=t.meta;return{...e,tools:{...e.tools,[a]:{...e.tools[a],updateStatus:p.a.FAILED,error:t.payload}}}}default:return e}}});var v=a("wqZ5");const w=e=>c.a.selectMany(e,Object(v.f)(e));var I=Object(i.a)().propsFromState((()=>({enabledThirdPartyTimelineTools:S,pinnedLists:w,selectedTimeline:r.b,settingsFetchStatus:r.c,useLatest:r.d}))).propsFromActions((()=>({createLocalApiErrorHandlerFetchPins:Object(d.createLocalApiErrorHandlerWithContextFactory)("HOME_TIMELINE_FETCH_PINS"),createLocalApiErrorHandlerFetchOneTool:Object(d.createLocalApiErrorHandlerWithContextFactory)("HOME_TIMELINE_FETCH_CONTENT_CONTROL_TOOL"),fetchOneContentControlToolIfNeeded:g,fetchPinsIfNeeded:v.c,updateSettings:r.e}))).withAnalytics({page:"home"}),N=a("s14A"),A=a("dwig"),R=a("v//M"),F=a("0+qk");const k=({id:e,type:t})=>`${t}${e?`|${e}`:""}`;var M=a("2dXj"),P=a("G6rE"),x=Object(i.a)().propsFromState((()=>({loggedInUser:P.e.selectLoggedInUser}))).adjustStateProps((({loggedInUser:e})=>({userAvatarURI:e&&e.profile_image_url_https,userName:e&&e.name}))),U=a("3XMw"),H=a.n(U),B=a("N5qz"),D=a("MWbm"),j=a("cHvH"),z=a("5mJL"),Q=a("DNho"),G=a("XP29"),J=a("t62R"),W=a("/yvb"),q=a("rHpw"),K=a("cjZk"),Y=a("3rWK"),$=a("ll3R"),Z=a("pNJr"),V=a("J0mu"),X=a("KrGU");const ee=H.a.g34f2c63({verb:""}),te=H.a.e349147c,ae=o.a.createElement(K.a,null),ne=o.a.createElement(Y.a,null),oe=o.a.createElement($.a,null),se=o.a.createElement(Z.a,null),le=o.a.createElement(V.a,null),re=o.a.createElement(X.a,null),ce=q.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space8},avatarColumn:{flexGrow:1,minWidth:e.spaces.space32,maxWidth:e.spaces.space48},avatar:{width:"100%"},body:{flexDirection:"column",flexGrow:1},fakeInput:{paddingTop:e.spaces.space16,paddingBottom:e.spaces.space8,paddingHorizontal:e.spaces.space2},toolbar:{alignItems:"center",flexDirection:"row",justifyContent:"space-between",marginRight:e.spaces.space2,marginTop:e.spaces.space20},toolbarSection:{alignItems:"center",flexDirection:"row"},toolBarButton:{marginHorizontal:0},firstToolBarButton:{marginLeft:`-${e.spaces.space8}`},iconContainer:{marginLeft:e.spacesPx.space2},icon:{color:e.colors.primary,height:"1.5em",marginRight:e.spaces.space12,marginLeft:`calc(${e.spaces.space4} + ${e.spaces.space1})`,width:"1.5em"},firstIcon:{marginLeft:0},lastIcon:{marginRight:0},tweetButton:{marginLeft:e.spaces.space12}})));var ie=x((({userAvatarURI:e})=>o.a.createElement(j.a,null,(({windowWidth:t})=>{const a=!B.a.isOneColumnSquishedLayout(t);return o.a.createElement(z.a,{avatarCell:o.a.createElement(Q.a.Consumer,null,(({avatarSize:t})=>o.a.createElement(G.a,{size:t,style:ce.avatar,uri:e}))),avatarCellStyle:ce.avatarColumn,cellStyle:ce.body,style:ce.root},o.a.createElement(J.b,{color:"gray700",numberOfLines:1,size:"headline1",style:ce.fakeInput},te),o.a.createElement(D.a,{style:ce.toolbar},o.a.createElement(D.a,{style:[ce.toolbarSection,ce.iconContainer]},o.a.createElement(W.a,{disabled:!0,icon:ae,size:"medium",style:[ce.toolBarButton,ce.firstToolBarButton],type:"brandText"}),o.a.createElement(W.a,{disabled:!0,icon:ne,size:"medium",style:ce.toolBarButton,type:"brandText"}),a?o.a.createElement(W.a,{disabled:!0,icon:oe,size:"medium",style:ce.toolBarButton,type:"brandText"}):null,o.a.createElement(W.a,{disabled:!0,icon:se,size:"medium",style:ce.toolBarButton,type:"brandText"}),a?o.a.createElement(W.a,{disabled:!0,icon:le,size:"medium",style:ce.toolBarButton,type:"brandText"}):null,o.a.createElement(W.a,{disabled:!0,icon:re,size:"medium",style:ce.toolBarButton,type:"brandText"})),o.a.createElement(D.a,{style:ce.toolbarSection},o.a.createElement(W.a,{disabled:!0,style:ce.tweetButton,type:"brandFilled"},ee))))})))),de=a("zb92"),ue=Object(de.a)({loader:()=>(M.a.preload()||Promise.resolve()).then((()=>Promise.all([a.e(0),a.e(2),a.e(3),a.e(4),a.e(187)]).then(a.bind(null,"RrO2")))),renderPlaceholder:()=>o.a.createElement(ie,null)}),me=a("1YZw"),pe=Object(i.a)().propsFromState((()=>({selectedTimeline:r.b,useLatest:r.d}))).propsFromActions((()=>({addToast:me.b,updateSettings:r.e}))).withAnalytics(),be=a("yZDr");var Ee=({accessibilityLabel:e,hoverLabel:t,onPress:a,renderMenu:n})=>{const s=o.a.createElement(be.a,null);return o.a.createElement(W.a,{accessibilityLabel:e,hoverLabel:{label:t},icon:s,onPress:a,pullRight:!0,renderMenu:n,type:"primaryText"})},he=a("mjJ+"),Te=a("Lsrn"),_e=a("k/Ka");const fe=(e={})=>Object(_e.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[Te.a.root,e.style],viewBox:"0 0 36 36"},o.a.createElement("g",null,o.a.createElement("path",{d:"M27.325 20.595c0 7.333-5.913 13.278-13.206 13.278S.912 27.928.912 20.595 6.825 7.317 14.12 7.317s13.205 5.944 13.205 13.278",fill:"#71C9F8"}),o.a.createElement("path",{d:"M24.576 20.682c0 5.802-4.678 10.506-10.45 10.506-5.77 0-10.448-4.704-10.448-10.506s4.678-10.506 10.45-10.506c5.77 0 10.448 4.704 10.448 10.506",fill:"#97E3FF"}),o.a.createElement("path",{d:"M18.98 20.94l-3.86-.583v-6.215c0-.552-.45-1-1-1s-1 .448-1 1v7.076c0 .06.023.112.033.17.007.042.012.082.025.123.026.084.063.158.11.23.022.038.044.075.072.11.05.06.11.11.173.158.042.03.08.06.128.086.065.034.133.055.204.074.04.01.072.035.114.04l4.704.71c.05.01.1.012.15.012.487 0 .914-.355.988-.85.08-.548-.295-1.058-.84-1.14z",fill:"#005FD1"}),o.a.createElement("path",{d:"M24.553 20.682c0 5.79-4.68 10.5-10.434 10.5S3.683 26.47 3.683 20.68c0-2.953 1.227-5.707 3.31-7.665l.674 1.127c.38.635 1.227.668 1.524.06l1.153-2.36 1.312-2.687c.24-.49-.104-1.067-.65-1.088l-2.988-.116-2.625-.1c-.678-.027-1.05.735-.67 1.37l.804 1.344C2.613 13.065.883 16.736.883 20.683c0 7.333 5.937 13.298 13.234 13.298s13.234-5.964 13.234-13.297h-2.8z",fill:"#1DA1F2"}),o.a.createElement("path",{d:"M35 13.36h-1.467v-1.34c0-.552-.448-1-1-1s-1 .448-1 1v1.34h-1.467c-.552 0-1 .45-1 1s.448 1 1 1h1.467v1.342c0 .552.448 1 1 1s1-.448 1-1v-1.34H35c.552 0 1-.45 1-1s-.448-1-1-1z",fill:"#FFAD1F"}),o.a.createElement("path",{d:"M28.646 4.138h-2.01v-2.01c0-.552-.448-1-1-1s-1 .448-1 1v2.01h-2.01c-.552 0-1 .448-1 1s.448 1 1 1h2.01v2.01c0 .552.448 1 1 1s1-.448 1-1v-2.01h2.01c.552 0 1-.448 1-1s-.447-1-1-1z",fill:"#F6809A"})));fe.metadata={width:36,height:36};var Oe=fe;const ye=(e={})=>Object(_e.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[Te.a.root,e.style],viewBox:"0 0 36 36"},o.a.createElement("g",null,o.a.createElement("path",{d:"M35.508 15.41l-9.295-3.387L22.438 1.47c-.108-.302-.357-.48-.722-.495-.322.007-.604.22-.698.53l-3.293 10.71-9.132 3.805c-.285.118-.467.4-.46.708.007.308.203.58.492.686L17.92 20.8l3.775 10.552c.107.298.39.496.704.496h.016c.322-.007.604-.22.698-.53l3.293-10.712 9.132-3.803c.284-.118.466-.4.46-.708-.007-.308-.203-.58-.492-.686z",fill:"#61BCF6"}),o.a.createElement("path",{d:"M9.57 4.715l-2.906.065-.06-2.715C6.585 1.34 5.983.763 5.256.78 4.53.796 3.955 1.4 3.97 2.125l.063 2.715-2.747.062C.56 4.92-.016 5.522 0 6.248c.017.726.62 1.302 1.346 1.285l2.747-.062.062 2.716c.017.726.62 1.302 1.345 1.286.726-.016 1.302-.62 1.286-1.345l-.062-2.715 2.905-.066c.725-.017 1.3-.62 1.285-1.346-.017-.726-.62-1.302-1.346-1.285z",fill:"#F16888"}),o.a.createElement("path",{d:"M14.205 29.69l-1.65.036-.034-1.518c-.016-.726-.618-1.302-1.344-1.286s-1.302.62-1.286 1.345l.034 1.518-1.54.035c-.726.016-1.302.62-1.286 1.345.017.726.62 1.302 1.345 1.286l1.54-.034.034 1.518c.017.726.62 1.302 1.345 1.286.726-.016 1.302-.62 1.286-1.345l-.034-1.518 1.65-.037c.726-.016 1.302-.62 1.286-1.345-.016-.727-.62-1.303-1.345-1.286z",fill:"#FD9E1A"})));ye.metadata={width:36,height:36};var Ce=ye,Le=a("3JQt"),Se=a("M2x3");const ge=H.a.j681ac0e,ve=H.a.g8220472,we=H.a.ccdd3766,Ie=H.a.g2657de4,Ne=H.a.d126cb7c,Ae=H.a.c41ecf3c,Re=H.a.d18aa6d4,Fe=H.a.c90dcfa2,ke=H.a.bc52b0ce,Me=H.a.j6382fea,Pe=H.a.f89f6786,xe=H.a.e4acfd12,Ue=H.a.f0c7628a,He=H.a.j7d0cac6,Be=H.a.eeab441a,De=H.a.cae804fa;const je=q.a.create((e=>({description:{fontSize:e.fontSizes.headline1,color:e.colors.text,textAlign:"center",fontWeight:e.fontWeights.bold}})));var ze=function({onContentPreferencesSelect:e,onPress:t,onToggle:a,useLatest:n}){const{featureSwitches:l}=o.a.useContext(s.a),r=n?ve:we,c=n?Ne:Ie,i=o.a.useCallback((t=>{t(),e()}),[e]),d=o.a.useCallback((e=>{e(),a()}),[a]),u=o.a.useCallback((e=>{let t,a,s;l.isTrue("responsive_web_home_pinned_timelines_latest_enabled")?(t=n?Fe:Ae,a=n?De:He,s=n?Be:Ue):(t=n?Re:Ae,a=n?xe:Pe,s=n?ke:Me);const r=n?Oe:Ce,c=[{text:s,onClick:d,Icon:Le.a,subText:a},{link:"/settings/content_preferences",text:ge,onClick:i,Icon:Se.a}];return o.a.createElement(he.a,{DescriptionIcon:r,description:t,descriptionStyle:je.description,isFixed:!0,items:c,onCloseRequested:e})}),[l,i,d,n]);return o.a.createElement(Ee,{accessibilityLabel:r,hoverLabel:c,onPress:t,renderMenu:u})},Qe=a("EY8L");const Ge={type:Qe.b.HOME},Je={type:Qe.b.HOME_LATEST},We=H.a.e4c6d14c,qe=H.a.bffa2da8;var Ke=pe((function({addToast:e,analytics:t,selectedTimeline:a,updateSettings:n,useLatest:l}){const{featureSwitches:r}=o.a.useContext(s.a),c=o.a.useCallback((()=>{t.scribe({component:"customize",element:"see_preferences",action:"click"})}),[t]),i=o.a.useCallback((()=>{t.scribe({section:"navigation_bar",element:"customize_button",action:"click"})}),[t]),d=o.a.useCallback((()=>{const o=r.isTrue("responsive_web_home_pinned_timelines_latest_enabled"),s=l?We:qe;let c;o&&l&&a.type===Qe.b.HOME_LATEST&&(c=Ge),o||(c=a.type===Qe.b.HOME?Je:Ge),t.scribe({component:"customize",element:l?"see_top":"see_latest",action:"click"}),n({...c&&{selectedTimeline:c},useLatest:!l}).then((()=>{o||e({text:s})}))}),[e,t,r,a,n,l]);return o.a.createElement(ze,{onContentPreferencesSelect:c,onPress:i,onToggle:d,useLatest:l})})),Ye=a("lUZE");const $e=()=>window.performance&&"function"==typeof window.performance.now;var Ze=a("yoO3"),Ve=a("ZB2A"),Xe=a("aeN7"),et=a("doI8"),tt=a("9TPy"),at=a("wrlS"),nt=a("WA1W");var ot=Object(i.a)().propsFromState((()=>({module:Object(m.createSelector)(((e,t)=>t.isLatestActive),((e,t)=>t.pinnedListsEnabled),((e,t)=>t.thirdPartyTimelinesEnabled),r.b,at.d,((e,t,a,n,o)=>n.type===Qe.b.LIST&&n.id&&t?Object(tt.a)({listId:n.id}):n.type===Qe.b.THIRD_PARTY&&n.id&&a?Object(et.a)(n.id):e?Object(nt.e)(o.isTrue("responsive_web_graphql_home_latest_enabled")):Object(nt.f)(o.isTrue("responsive_web_graphql_home_enabled"))))}))).propsFromActions((()=>({updateSettings:r.e}))).withAnalytics(),st=a("QIgh"),lt=a("8UdT"),rt=a("iu0J"),ct=a("AP4B"),it=({withUserPresence:e=!1})=>({...Object(st.a)({allowDownvote:!0,tweetDismissable:!0,shouldSelfThreadIncludeAvatar:!0,withUserPresence:e}),...ct.a,[lt.c.EventSummary]:Object(rt.a)({})}),dt=a("MDbM"),ut=a("97Jx"),mt=a.n(ut),pt=a("FIs5");const bt=[{height:200,uri:"https://abs.twimg.com/sticky/illustrations/empty-states/hatched-baby-chick-400x200.v1.png",width:400},{height:400,uri:"https://abs.twimg.com/sticky/illustrations/empty-states/hatched-baby-chick-800x400.v1.png",width:800},{height:600,uri:"https://abs.twimg.com/sticky/illustrations/empty-states/hatched-baby-chick-1200x600.v1.png",width:1200}],Et={headerMessage:H.a.d4d57850,bodyMessage:H.a.f3f4c67c,buttonText:H.a.a399ed20},ht=H.a.d2c66f10,Tt=H.a.c3fbf1da,_t=H.a.bf17deda;var ft=({onButtonPress:e,onImpression:t})=>{const{featureSwitches:a}=o.a.useContext(s.a),n=a.getStringValue("responsive_web_htl_empty_state_redesign_variant"),l="a_no_graphic_new_copy"===(r=n)||"b_new_graphic_new_copy"===r?Et:void 0;var r;const c=(e=>"b_new_graphic_new_copy"===e||"c_new_graphic_old_copy"===e?bt:void 0)(n);return o.a.createElement(pt.a,mt()({buttonLink:"/i/connect_people",buttonText:l?l.buttonText:_t,header:l?l.headerMessage:ht},c&&{imageVariants:c},{message:l?l.bodyMessage:Tt,onButtonPress:e,onImpression:t}))},Ot=a("EUHl"),yt=a("7BdX"),Ct=a("fTQJ");const Lt={count:void 0},St=H.a.f089620c;var gt=ot((({analytics:e,isLatestActive:t=!1,isLatestPinned:a=!1,module:n,recordTTFT:s=Xe.e,shouldFetchLoadedContentOnMount:l=!0,timelineRef:r,updateSettings:c,withUserPresence:i=!1})=>{const d=o.a.useRef(!0),u=o.a.useCallback((()=>{e.scribe({component:"empty_message",action:"impression"})}),[e]),m=o.a.useCallback((()=>{e.scribe({component:"empty_message",element:"primary_cta",action:"click"})}),[e]),p=o.a.useCallback((({entries:e,fetchStatus:t})=>{if(t===dt.a.FAILED&&(d.current=!1),d.current&&e.length){const t=e.some((({type:e})=>e===lt.c.Tweet));d.current=!1,t&&s()}}),[s,d]),b=o.a.useCallback((()=>o.a.createElement(ft,{onButtonPress:m,onImpression:u})),[m,u]);return o.a.createElement(Ct.a,{entryConfiguration:it({withUserPresence:i}),fetchTopOptions:Lt,module:n,newTweetsPillMode:Ot.a.URT,onEntriesRendered:p,prerollDisplayLocation:yt.c.TIMELINE_HOME,renderEmptyState:b,shouldFetchLoadedContentOnMount:l,timelineRef:r,title:St})})),vt=a("7JQg"),wt=a("VS6U"),It=a("Es6L"),Nt=a("LsPn"),At=a("aITJ"),Rt=a("0yYu"),Ft=a("mw9i"),kt=a("k/OQ");const Mt=H.a.i5f7b6b8,Pt=H.a.d126cb7c,xt=H.a.ha8209bc,Ut=Ve.a.HOME,Ht={page:"home"},Bt={page:"home_latest"};function Dt({analytics:e,createLocalApiErrorHandlerFetchOneTool:t,createLocalApiErrorHandlerFetchPins:n,enabledThirdPartyTimelineTools:r,fetchOneContentControlToolIfNeeded:c,fetchPinsIfNeeded:i,history:d,location:u,pinnedLists:m,selectedTimeline:p,settingsFetchStatus:b,updateSettings:E,useLatest:h}){const{featureSwitches:T,isRestrictedSession:_}=o.a.useContext(s.a),f=o.a.useRef(null),O=o.a.useRef(!1),y=o.a.useRef(0),C=T.isTrue("home_timeline_latest_timeline_switch_enabled"),L=T.isTrue("responsive_web_home_pinned_timelines_lists_enabled"),S=T.isTrue("responsive_web_dtime_tpat_enabled"),g=o.a.useRef(null),v=o.a.useCallback((()=>{var e;null==(e=g.current)||e.fetchTop({onlyIfStale:!0})}),[g]);o.a.useEffect((()=>{if(O.current=!0,window.addEventListener("focus",v),T.isTrue("responsive_web_framerate_tracking_home_enabled")){const e=`home${At.b.isDesktopOS()?"":"_mobile"}`;($e()?a.e(356).then(a.bind(null,"Iid0")).then((({default:e})=>e)):Promise.resolve(void 0)).then((t=>{O.current&&t&&(f.current=t({reportNamespace:e}))}))}return()=>{var e;null==(e=f.current)||e.stop(),O.current=!1,window.removeEventListener("focus",v)}}),[n,T,v]),o.a.useEffect((()=>{L&&i().catch(n())}),[n,i,L]),o.a.useEffect((()=>{S&&c("1526640352148393986").catch(t())}),[t,c,S]),o.a.useEffect((()=>{y.current=Date.now()}),[p]);const w=o.a.useMemo((()=>h&&T.isTrue("responsive_web_home_pinned_timelines_latest_enabled")),[T,h]),I=o.a.useMemo((()=>w?p.type===Qe.b.HOME_LATEST:h&&C),[w,C,p,h]),M=o.a.useCallback((({id:t,label:a,type:n})=>{const o=p.type===n&&p.id===t,s=k(p),l=k({type:n,id:t});return{isActive:()=>o,label:a,key:s,onClick:()=>{if(o){var a;null==(a=g.current)||a.refreshOrGoTop()}else{const a=Date.now()-y.current;E({selectedTimeline:{type:n,...t&&{id:t}}}),e.scribe({section:s,element:l,action:"click",data:{duration_ms:a}})}},retainScrollPosition:!1,to:"/home"}}),[e,y,p,E]),P=o.a.useCallback((()=>{var e;null==(e=g.current)||e.refreshOrGoTop()}),[g]),x=o.a.useCallback((()=>{const e=T.isTrue("responsive_web_audio_space_ring_home_timeline");return o.a.createElement(N.a,null,o.a.createElement(gt,{isLatestActive:I,isLatestPinned:w,pinnedListsEnabled:L,shouldFetchLoadedContentOnMount:I,thirdPartyTimelinesEnabled:S,timelineRef:e=>{g.current=e},withUserPresence:e}))}),[T,I,w,L,S]),U=o.a.useCallback((()=>{const e=o.a.createElement(F.a,{history:d});return o.a.createElement(o.a.Fragment,null,Object(It.a)()&&!_?o.a.createElement(o.a.Fragment,null,o.a.createElement(ue,{history:d,location:u}),o.a.createElement(Rt.a,null)):null,o.a.createElement(A.a,{component:Ft.a,fab:e},At.b.isKaiOS()?o.a.createElement(Nt.a,{leftText:Mt,onLeftClick:()=>{d.push("/account")}}):null,o.a.createElement(R.a,{fetchStatus:b,render:x})))}),[d,_,u,x,b]),{scribeNamespace:H,title:B}=o.a.useMemo((()=>{let e=I?Bt:Ht;return p.type===Qe.b.THIRD_PARTY&&p.id&&S?e={...Ht,section:k(p)}:T.isTrue("responsive_web_home_namespace_update_enabled")&&(e={...Ht,section:I?"latest":"home"}),{scribeNamespace:e,title:I?Pt:xt}}),[T,I,p,S]),D=o.a.useMemo((()=>{const e=M({type:Qe.b.HOME,label:xt}),t=h?M({type:Qe.b.HOME_LATEST,label:Pt}):void 0,a=L?m.map((({id_str:e,name:t})=>M({type:Qe.b.LIST,id:e,label:t}))):[],n=S?r.map((({name:e,timeline:{id:t}})=>M({type:Qe.b.THIRD_PARTY,id:t,label:e}))):[];return[...w?[e,t]:h&&C?[t]:[e],...a,...n]}),[r,M,w,C,m,L,S,h]),j=!Object(It.a)(),z=D.length>1,Q=j&&z?o.a.createElement(Ye.a,{style:jt.iconTwitter}):void 0,G=(z?C&&(p.type===Qe.b.HOME||p.type===Qe.b.HOME_LATEST):C)?o.a.createElement(Ke,null):void 0,J=z?o.a.createElement(kt.a,{links:D}):void 0,W=!j||!z?B:null;return o.a.createElement(vt.c,{namespace:H},o.a.createElement(Ze.a,{behavioralEventViewType:Ut,locationKey:H.page},o.a.createElement(wt.a,{centeredLogo:Q,documentTitle:B,history:d,onTabRefresh:P,primaryContent:U,rightControl:G,secondaryBar:J,sidebarContent:o.a.createElement(l.a,null),title:W})))}const jt=q.a.create((e=>({iconTwitter:{flexGrow:1,height:"1.75rem",color:e.colors.primary}})));t.default=I(Dt)}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.HomeTimeline.d7211f47.js.map